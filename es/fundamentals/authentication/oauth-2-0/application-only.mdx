---
title: Autenticación solo de la aplicación y Bearer Token de OAuth 2.0
sidebarTitle: OAuth 2.0 solo para la aplicación (Bearer Token)
keywords: ["autenticación solo de la aplicación", "OAuth 2.0 solo para la aplicación", "autenticación con Bearer Token", "auth solo de la aplicación", "acceso de solo lectura", "acceso a datos públicos"]
---

<div id="app-only-authentication-and-oauth-20-bearer-token">
  ### Autenticación solo de la aplicación y OAuth 2.0 Bearer Token
</div>

X ofrece a las aplicaciones la capacidad de emitir solicitudes autenticadas en nombre de la propia aplicación, en lugar de hacerlo en nombre de un usuario específico. La implementación de X se basa en el flujo [Client Credentials Grant](http://tools.ietf.org/html/rfc6749#section-4.4) de la [especificación OAuth 2](http://tools.ietf.org/html/rfc6749).

La autenticación solo de la aplicación no incluye ningún contexto de usuario y es una forma de autenticación en la que una aplicación realiza solicitudes a la API en su propio nombre. Este método está destinado a desarrolladores que solo necesitan acceso de solo lectura a información pública. 

Puedes realizar autenticación solo de la aplicación usando las consumer API keys de tu aplicación o usando un App only Access Token (Bearer Token). Esto significa que las únicas solicitudes que puedes hacer a la X API no deben requerir un usuario autenticado.

Con la autenticación solo de la aplicación, puedes realizar acciones como:

* Obtener cronologías de usuario
* Acceder a amigos y seguidores de cualquier cuenta
* Acceder a recursos de listas
* Buscar publicaciones

Ten en cuenta que solo [OAuth 1.0a](/es/resources/fundamentals/authentication/oauth-1-0a/api-key-and-secret) o [OAuth 2.0 Authorization Code Flow](/es/resources/fundamentals/authentication/oauth-2-0/authorization-code) con PKCE es necesario para emitir solicitudes en nombre de los usuarios. La página de [referencia de la API](/es/resources/fundamentals/authentication/api-reference) describe el método de autenticación necesario para usar una API. Necesitarás autenticación de usuario, con contexto de usuario, y un [Token de acceso](/es/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens) para realizar lo siguiente:

* Publicar Publicaciones u otros recursos
* Buscar usuarios
* Usar cualquier endpoint de geolocalización
* Acceder a Mensajes Directos o credenciales de la cuenta
* Recuperar direcciones de correo electrónico de los usuarios

<div id="auth-flow">
  #### Flujo de autenticación
</div>

Para usar este método, necesitas utilizar un [App only Access Token](/es/resources/fundamentals/authentication/oauth-2-0/application-only) (también conocido como [Bearer Token](/es/resources/fundamentals/authentication/oauth-2-0/bearer-tokens)). Puedes generar un App only Access Token (Bearer Token) pasando tu consumer key y secret al endpoint [POST oauth2/token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-token). 

El flujo de autenticación solo de aplicación sigue estos pasos:

* Una aplicación codifica su consumer key y secret en un conjunto de credenciales especialmente codificadas.
* Una aplicación realiza una solicitud al endpoint [POST oauth2/token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-token) para intercambiar estas credenciales por un [App only Access Token](/es/resources/fundamentals/authentication/oauth-2-0/application-only).
* Al acceder a la REST API, la aplicación utiliza el App only Access Token para autenticarse.

Como no es necesario firmar las solicitudes, este enfoque es mucho más sencillo que el modelo estándar de OAuth 1.0a.

<Frame>
  <img src="/images/auth-5.png.twimg.1920.png" alt="" />
</Frame>

<div id="about-application-only-auth">
  #### Acerca de la autenticación solo de la Aplicación
</div>

**Los tokens son contraseñas**

Ten en cuenta que la consumer key, el consumer secret y el Token de acceso solo de la Aplicación (Bearer Token) otorgan acceso para realizar solicitudes en nombre de una aplicación. Estos valores deben considerarse tan sensibles como las contraseñas y no deben compartirse ni distribuirse a terceros no confiables.

**SSL obligatorio**

Todas las solicitudes (tanto para obtener como para usar los tokens) *deben* usar endpoints HTTPS. Sigue las prácticas recomendadas detalladas en [Connecting to X API using TLS](/es/resources/fundamentals/authentication/guides/tls): los peers **siempre** deben verificarse.

**Sin contexto de usuario**

Al realizar solicitudes usando autenticación solo de la Aplicación, no existe el concepto de &quot;usuario actual&quot;. Por lo tanto, endpoints como [POST statuses/update](/es/x-api/posts/creation-of-a-post) no funcionarán con autenticación solo de la Aplicación. Consulta [using OAuth](/es/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens) para obtener más información sobre cómo realizar solicitudes en nombre de un usuario.

**Límites de frecuencia**

Las aplicaciones tienen dos tipos de grupos de límites de frecuencia.

Las solicitudes realizadas en nombre de usuarios con tokens de acceso, también conocidas como contexto de usuario, consumen de un grupo de límites de frecuencia diferente al que se usa en la autenticación solo de la Aplicación. En otras palabras, las solicitudes realizadas en nombre de usuarios no consumirán de los límites de frecuencia disponibles mediante autenticación solo de la Aplicación, y las solicitudes realizadas mediante autenticación solo de la Aplicación no consumirán de los límites de frecuencia usados en la autenticación basada en usuario.

Lee más sobre [API Rate Limiting](/es/x-api/fundamentals/rate-limits) y [review the limits](https://developer.x.com/en/portal/products).

<div id="issuing-application-only-requests">
  #### Emisión de solicitudes solo de aplicación
</div>

**Paso 1: Codificar la consumer key y la consumer secret**

Los pasos para codificar la consumer key y la consumer secret de una Aplicación en un conjunto de credenciales para obtener un Bearer Token son:

1. Codifica la consumer key y la consumer secret como URL de acuerdo con la [RFC 1738](http://www.ietf.org/rfc/rfc1738.txt). Ten en cuenta que, en el momento de redactar este documento, esto no modificará realmente la consumer key ni la consumer secret, pero este paso debe seguir realizándose en caso de que el formato de esos valores cambie en el futuro.
2. Concatena la consumer key codificada, un carácter de dos puntos &quot;:&quot; y la consumer secret codificada en una sola cadena.
3. [Codifica en Base64](http://en.wikipedia.org/wiki/Base64) la cadena del paso anterior.

A continuación se indican valores de ejemplo que muestran el resultado de este algoritmo. Ten en cuenta que la consumer secret utilizada en esta página es solo para fines de prueba y no funcionará para solicitudes reales.

|                                                                  |                                                                                             |
| :--------------------------------------------------------------- | :------------------------------------------------------------------------------------------ |
| Consumer key                                                     | xvz1evFS4wEEPTGEFPHBog                                                                      |
| Consumer secret                                                  | L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg                                                   |
| Consumer<br /><br />key codificada según RFC 1738 (no cambia)    | xvz1evFS4wEEPTGEFPHBog                                                                      |
| Consumer<br /><br />secret codificada según RFC 1738 (no cambia) | L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg                                                   |
| Credenciales de Bearer Token                                     | xvz1evFS4wEEPTGEFPHBog:L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg                            |
| Credenciales de Bearer Token codificadas en Base64               | :: eHZ6MWV2RlM0d0VFUFRHRUZQSEJvZzpMOHFxOVBaeVJnNmllS0dFS2hab2xHQzB2SldMdzhpRUo4OERSZHlPZw== |

**Paso 2: Obtener un Token de acceso solo de aplicación (Bearer Token)**

El valor calculado en el paso 1 debe intercambiarse por un Token de acceso solo de aplicación emitiendo una solicitud a [POST oauth2/token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-token):

* La solicitud debe ser una solicitud HTTP POST.
* La solicitud debe incluir un encabezado `Authorization` con el valor `Basic <base64 encoded value from step 1>.`
* La solicitud debe incluir un encabezado `Content-Type` con el valor `application/x-www-form-urlencoded;charset=UTF-8.`
* El cuerpo de la solicitud debe ser `grant_type=client_credentials`.

**Ejemplo de solicitud (el encabezado Authorization ha sido dividido en varias líneas):**

```json
POST /oauth2/token HTTP/1.1
Host: api.x.com
User-Agent: My X App v1.0.23
Authorization: Basic eHZ6MWV2RlM0d0VFUFRHRUZQSEJvZzpMOHFxOVBaeVJn
                     NmllS0dFS2hab2xHQzB2SldMdzhpRUo4OERSZHlPZw==
Content-Type: application/x-www-form-urlencoded;charset=UTF-8
Content-Length: 29
Accept-Encoding: gzip

grant\_type=client\_credentials
```

Si la solicitud está correctamente formateada, el servidor responderá con una carga útil codificada en JSON:

**Respuesta de ejemplo:**

```json
HTTP/1.1 200 OK
Status: 200 OK
Content-Type: application/json; charset=utf-8
...
Content-Encoding: gzip
Content-Length: 140

{"token\_type":"bearer","access\_token":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%2FAAAAAAAAAAAAAAAAAAAA%3DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}
```

Las aplicaciones deben verificar que el valor asociado con la clave `token_type` del objeto devuelto sea `bearer`. El valor asociado con la clave `access_token` es el token de acceso de solo aplicación (Bearer Token).

Ten en cuenta que solo puede haber un token de acceso de solo aplicación válido por aplicación a la vez. Hacer otra solicitud con las mismas credenciales a `/oauth2/token` devolverá el mismo token hasta que se invalide.

**Paso 3: Autenticar solicitudes de API con el token de acceso de solo aplicación (Bearer Token)**

El token de acceso de solo aplicación (Bearer Token) se puede usar para realizar solicitudes a endpoints de la API que admiten autenticación solo de aplicación. Para usar el token de acceso de la Aplicación, construye una solicitud HTTPS normal e incluye un encabezado `Authorization` con el valor `Bearer &lt;valor del bearer token en base64 del paso 2&gt;. No se requiere firma.`

**Solicitud de ejemplo (el encabezado Authorization se ha dividido en varias líneas):**

```
GET /1.1/statuses/user\_timeline.json?count=100&screen\_name=twitterapi HTTP/1.1
Host: api.x.com
User-Agent: My X App v1.0.23
Authorization: Bearer AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%2FAAAAAAAAAAAA
                      AAAAAAAA%3DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
Accept-Encoding: gzip
```

**Invalidación de un token de acceso solo de aplicación (Bearer Token)**

Si un token de acceso solo de aplicación se ve comprometido o necesita invalidarse por cualquier motivo, realiza una llamada a [POST oauth2/invalidate&#95;token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-invalidate-token).

**Ejemplo de solicitud (la cabecera Authorization ha sido dividida en varias líneas):**

```bash
POST /oauth2/invalidate_token HTTP/1.1
Authorization: Basic eHZ6MWV2RlM0d0VFUFRHRUZQSEJvZzpMOHFxOVBaeVJn
                     NmllS0dFS2hab2xHQzB2SldMdzhpRUo4OERSZHlPZw==
User-Agent: My X App v1.0.23
Host: api.x.com
Accept: */*
Content-Length: 119
Content-Type: application/x-www-form-urlencoded

access_token=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%2FAAAAAAAAAAAAAAAAAAAA%3DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
```

**Ejemplo de respuesta:**

```json
HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
Content-Length: 127
...

{"access_token":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA%2FAAAAAAAAAAAAAAAAAAAA%3DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}
```

<div id="common-error-cases">
  #### Casos de error comunes
</div>

Esta sección describe algunos errores comunes que se producen durante la negociación y el uso de Bearer Tokens. Ten en cuenta que no todas las posibles respuestas de error se incluyen aquí; presta atención a los códigos y respuestas de error no contemplados.

**Solicitudes inválidas para obtener o revocar un token de acceso de solo aplicación**

Intentos de:

* Obtener un token de acceso de solo aplicación (Bearer Token) con una solicitud inválida (por ejemplo, omitir `grant_type=client_credentials`).
* Obtener o revocar un token de acceso de solo aplicación (Bearer Token) con credenciales de aplicación incorrectas o caducadas.
* Invalidar un token de acceso de solo aplicación (Bearer Token) incorrecto o ya revocado.
* Obtener un token de acceso de solo aplicación (Bearer Token) con demasiada frecuencia en un período corto de tiempo.

Darán lugar a:

```json
HTTP/1.1 403 Forbidden
Content-Length: 105
Content-Type: application/json; charset=utf-8
...

{"errors":\[{"code":99,"label":"authenticity\_token\_error","message":"No se pueden verificar sus credenciales"}\]}
```

<div id="api-request-contains-invalid-app-only-access-token-bearer-token">
  #### La solicitud de API contiene un token de acceso de solo aplicación (Bearer Token) no válido
</div>

Usar un token de acceso incorrecto o revocado para hacer solicitudes a la API dará como resultado:

```json
HTTP/1.1 401 Unauthorized
Content-Type: application/json; charset=utf-8
Content-Length: 61
...

{"errors":\[{"message":"Token inválido o expirado","code":89}\]}
```

<div id="app-only-access-token-bearer-token-used-on-endpoint-which-doesnt-support-application-only-auth">
  #### Token de acceso solo de aplicación (Bearer Token) usado en un endpoint que no admite autenticación solo de aplicación
</div>

Al solicitar un endpoint que requiere contexto de usuario (como `statuses/home_timeline`) con un token de acceso solo de aplicación (Bearer Token) se producirá:

```json
HTTP/1.1 403 Forbidden
Content-Type: application/json; charset=utf-8
Content-Length: 91
...

{"errors":\[{"message":"Your credentials do not allow access to this resource","code":220}\]}
```
