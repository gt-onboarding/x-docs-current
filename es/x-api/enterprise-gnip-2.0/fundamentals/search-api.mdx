---
title: "API de búsqueda: Enterprise"
sidebarTitle: API de búsqueda
keywords: ["búsqueda Enterprise", "búsqueda GNIP", "API de búsqueda Enterprise", "API de búsqueda Enterprise", "endpoints de búsqueda Enterprise"]
---

> **Ten en cuenta lo siguiente:**
>
> Hemos publicado una nueva versión de [search Posts](/es/x-api/posts/search/introduction) y [Post counts](/es/x-api/posts/counts/introduction) en [X API v2](/es/x-api/getting-started/about-x-api). Te recomendamos que consultes [las novedades](/es/x-api/migrate/overview) de X API v2.
>
> Estos endpoints se han actualizado para incluir metadatos de edición de Publicaciones. Obtén más información sobre estos metadatos en la página de conceptos básicos de [&quot;Edit Posts&quot;](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets). 

<div id="overview">
  ## Overview
</div>

`Enterprise`

*Las APIs de Enterprise están disponibles únicamente dentro de nuestros niveles de acceso gestionados. Para usar estas APIs, primero debes crear una cuenta con nuestro equipo de ventas de Enterprise. Para obtener más información, consulta [AQUÍ](https://developer.x.com/en/products/x-api/enterprise).*

*Puedes ver todas las opciones de búsqueda de Publicaciones de la X API [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api).*

Hay dos APIs de búsqueda de Enterprise:

1. La 30-Day Search API proporciona datos de los 30 días anteriores.
2. La Full-Archive Search API proporciona acceso completo e instantáneo al corpus completo de datos de X que se remonta hasta la primera Publicación en marzo de 2006.

Estas APIs RESTful admiten una única consulta de hasta 2.048 caracteres por solicitud. Las consultas se escriben con la sintaxis de reglas de PowerTrack; consulta [Rules and filtering](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#getting-started-with-enterprise-rules-and-queries) para obtener más detalles. Los usuarios pueden especificar cualquier período de tiempo, con una granularidad de un minuto. Sin embargo, las respuestas estarán limitadas al menor valor entre tu maxResults especificado o 31 días, e incluirán un next token para paginar el siguiente conjunto de resultados. Si no se especifican parámetros de tiempo, la API devolverá los datos coincidentes de los 30 días más recientes.

Las APIs de búsqueda de Enterprise proporcionan acceso de baja latencia y máxima fidelidad al archivo de Publicaciones basado en consultas, con granularidad de minutos. Los datos de Publicaciones se sirven en orden cronológico inverso, comenzando por la Publicación más reciente que coincida con tu consulta. Las Publicaciones están disponibles desde la search API aproximadamente 30 segundos después de ser publicadas.

Estos endpoints de búsqueda proporcionan metadatos de edición de Publicaciones. Todos los objetos de Publicaciones creadas desde el 29 de septiembre de 2022 incluyen metadatos de edición de Publicaciones, incluso si la Publicación nunca fue editada. Cada vez que se edita una Publicación, se crea un nuevo ID de la Publicación. El historial de edición de una Publicación se documenta mediante un array de IDs de Publicación, comenzando por el ID original.

Estos endpoints siempre devolverán la edición más reciente, junto con cualquier historial de edición. Cualquier Publicación recopilada después de su ventana de edición de 30 minutos representará su versión final. Para obtener más información sobre los metadatos de edición de Publicaciones (Edit Post), consulta la página [Fundamentos de Edit Posts](/es/x-api/fundamentals/edit-posts).

Las solicitudes incluyen un parámetro maxResults que especifica el número máximo de Publicaciones que se devolverán por respuesta de la API. Si hay más Publicaciones asociadas con la consulta que esta cantidad máxima de resultados por respuesta, en la respuesta se incluye un next token. Estos next tokens se usan en solicitudes posteriores para recorrer por páginas todo el conjunto de Publicaciones asociadas con la consulta.

Estas APIs de búsqueda de Enterprise proporcionan un endpoint *counts* que permite a los usuarios solicitar el volumen de datos asociado con su consulta. 

<div id="request-types">
  ### Tipos de solicitudes
</div>

Las APIs de búsqueda de Enterprise admiten dos tipos de solicitudes:

<div id="search-requests-data">
  #### Search requests (data)
</div>

Las solicitudes de búsqueda a las API de búsqueda Enterprise te permiten recuperar hasta 500 resultados por respuesta para un periodo de tiempo determinado, con la posibilidad de paginar para obtener datos adicionales. Con el parámetro `maxResults`, puedes especificar tamaños de página más pequeños para casos de uso de visualización (permitiendo que tu usuario solicite más resultados según sea necesario) o tamaños de página más grandes (hasta 500) para extracciones de datos más amplias. Los datos se entregan en orden cronológico inverso y cumplen los requisitos de cumplimiento en el momento de su entrega.

<div id="counts-requests-post-count">
  #### Solicitudes de conteo (cantidad de Publicaciones)
</div>

Las solicitudes de conteo permiten recuperar conteos de actividad histórica, que reflejan la cantidad de actividades que se produjeron y que coinciden con una consulta determinada durante el periodo de tiempo solicitado. La respuesta básicamente proporcionará un histograma de conteos, agrupados en intervalos por día, hora o minuto (el intervalo predeterminado es *hora*). Es importante tener en cuenta que los resultados de conteo no siempre reflejan eventos de cumplimiento (por ejemplo, eliminaciones de Publicaciones) que ocurren mucho después (más de 7 días) de que se publique una Publicación; por lo tanto, es de esperar que la métrica de conteo no siempre coincida con la de una solicitud de datos para la misma consulta.

**Nota sobre la facturación:** cada solicitud – *incluidas las solicitudes de paginación* – realizada a los endpoints de datos y de conteo se contabiliza como una solicitud facturable. Por lo tanto, si hay varias páginas de resultados para una sola consulta, recorrer mediante paginación las X páginas de resultados equivaldrá a X solicitudes a efectos de facturación.

<div id="available-operators">
  ### Operadores disponibles
</div>

Las APIs de búsqueda Enterprise admiten reglas de hasta 2.048 caracteres. Estas APIs admiten los operadores que se indican a continuación. Para descripciones detalladas, consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators). 

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| **Coincidencia con el contenido de las Publicaciones:** | **Coincidencia con las cuentas de interés:** | **Atributos de la Publicación:** | **Operadores geoespaciales:** |
| * keyword<br />* “quoted phrase”<br />* “keyword1 keyword2”~N<br />* #<br />* @<br />* $<br />* url:<br />* lang: | * from:<br />* to:<br />* retweets&#95;of: | * is:retweet  <br />    <br />* has:mentions<br />* has:hashtags<br />* has:media<br />* has:videos<br />* has:images<br />* has:links<br />* has:symbols<br />* is:verified  <br />    <br />* -is:nullcast (operador solo de negación) | * bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat]<br />* point&#95;radius:[lon lat radius]<br />* has:geo<br />* place:<br />* place&#95;country:<br />* has:profile&#95;geo<br />* profile&#95;country:<br />* profile&#95;region:<br />* profile&#95;locality: |

Notas: No incrustes ni anides operadores; &quot;#cats&quot; se resolverá como cats con las APIs de búsqueda. El operador ‘lang:’ y todos los operadores ‘is:’ y ‘has:’ no se pueden usar de forma independiente y deben combinarse con otra cláusula (por ejemplo, @XDevelopers has:links).    

Las APIs de búsqueda usan un conjunto limitado de operadores debido a la funcionalidad de tokenización y coincidencia. Las APIs Enterprise en tiempo real y las APIs históricas por lotes proporcionan operadores adicionales. Consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product) para obtener más detalles.

Para obtener más detalles, consulta la guía [Primeros pasos con operadores](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#building-rules-and-queries).

<div id="data-availability-important-date">
  ### Disponibilidad de datos / fecha importante
</div>

Cuando uses la API de búsqueda en el archivo completo (Full-Archive search API), ten en cuenta que la plataforma X ha seguido evolucionando desde 2006. A medida que se fueron incorporando nuevas funciones, se añadieron nuevos metadatos a los objetos JSON subyacentes. Por ese motivo, es importante entender cuándo se añadieron los atributos de las Publicaciones sobre los que operan los operadores de búsqueda. A continuación se muestran algunas de las fechas de “nacimiento” más importantes de grupos clave de metadatos. Para obtener más información sobre cuándo se introdujeron por primera vez los atributos de las Publicaciones, consulta [esta guía](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#full-archive-search-metadata-timeline).  

* Primera Publicación: 21/3/2006
* Primeros Retweets nativos: 6/11/2009
* Primera Publicación con etiqueta geográfica: 19/11/2009
* URLs indexadas por primera vez para el filtrado: 27/8/2011
* Metadatos mejorados de expansión de URL (títulos y descripciones de sitios web): 1/12/2014
* Metadatos y filtrado de enriquecimiento de Profile Geo: 17/2/2015

<div id="data-updates-and-mutability">
  ### Actualizaciones de datos y mutabilidad
</div>

Con las APIs de búsqueda Enterprise, algunos de los datos dentro de una Publicación son mutables, es decir, se pueden actualizar o cambiar después de su archivo inicial.

Estos datos mutables se dividen en dos categorías:

* Metadatos del objeto de usuario:
  * @handle del usuario (el id numérico nunca cambia)
  * Biografía
  * Recuentos: publicaciones, seguidores, seguidos, favoritos, listas
  * Ubicación del perfil
  * Otros detalles como la zona horaria y el idioma
* Estadísticas de la Publicación, es decir, cualquier cosa que pueda cambiarse en la plataforma por acciones de los usuarios (ejemplos a continuación):
  * Número de favoritos
  * Número de retuits

En la mayoría de estos casos, las APIs de búsqueda devolverán los datos tal como existen en la plataforma en el *momento de la consulta*, en lugar del momento de generación de la Publicación. Sin embargo, en el caso de consultas que usan operadores select (por ejemplo, from, to, @, is:verified), esto puede no ser así. Los datos se actualizan en nuestro índice de forma regular, con una frecuencia mayor para los períodos de tiempo más recientes. Como resultado, en algunos casos, los datos devueltos pueden no coincidir exactamente con los datos actuales que se muestran en X.com, pero sí coinciden con los datos del momento en que se indexaron por última vez.

Ten en cuenta que este problema de inconsistencia solo se aplica a consultas en las que el operador se aplica a datos mutables. Un ejemplo es el filtrado por nombres de usuario, y la mejor solución alternativa sería usar id numéricos de usuario en lugar de @handles para estas consultas.

<div id="single-vs-multi-threaded-requests">
  ### Solicitudes de un solo hilo vs. de varios hilos
</div>

Cada cliente tiene un límite de frecuencia definido para su endpoint de búsqueda. El límite de frecuencia predeterminado por minuto para la búsqueda de archivo completo (Full-Archive search) es de 120 solicitudes por minuto, para un promedio de 2 consultas por segundo (QPS). Este QPS promedio significa que, en teoría, se pueden hacer 2 solicitudes a la API cada segundo. Dada la funcionalidad de paginación del producto, si una consulta de un año tiene un millón de Publicaciones asociadas, distribuidas uniformemente a lo largo del año, se requerirían más de 2,000 solicitudes (suponiendo un ‘maxResults’ de 500) para recibir todos los datos. Suponiendo que cada respuesta tarda dos segundos, eso son 4,000 segundos (o poco más de una hora) para extraer todos esos datos en serie/secuencialmente mediante un solo hilo (1 solicitud por segundo usando el token de “next” de la respuesta anterior). ¡Nada mal!

Ahora considera la situación en la que se utilizan doce hilos paralelos para recibir datos. Suponiendo una distribución uniforme del millón de Publicaciones a lo largo del período de un año, podrías dividir las solicitudes en doce hilos paralelos (multihilo) y aprovechar mejor el límite de frecuencia por segundo para esa única “tarea”. En otras palabras, podrías ejecutar un hilo por cada mes que te interese y, al hacerlo, los datos podrían recuperarse 12 veces más rápido (o ~6 minutos).

Este ejemplo multihilo se aplica igualmente bien al endpoint de conteos. Por ejemplo, si quisieras recibir conteos de Publicaciones para un período de dos años, podrías hacer una solicitud de un solo hilo y retroceder en los conteos de 31 días a la vez mediante la paginación. Suponiendo que cada respuesta tarda 2 segundos, tomaría aproximadamente 48 segundos hacer las 24 solicitudes a la API y recuperar el conjunto completo de conteos. Sin embargo, también tienes la opción de hacer varias solicitudes de un mes a la vez. Al hacer 12 solicitudes por segundo, el conjunto completo de conteos podría recuperarse en aproximadamente 2 segundos.

<div id="retry-logic">
  ### Lógica de reintentos
</div>

Si experimentas un error 503 con las APIs de búsqueda Enterprise, es probable que sea un error transitorio y pueda resolverse reintentando la solicitud un poco más tarde.

Si la solicitud falla 4 veces seguidas y has esperado al menos 10 minutos entre fallos, utiliza los siguientes pasos para solucionar el problema:

* Reintenta la solicitud después de reducir el período de tiempo que abarca. Repite esto hasta llegar a una ventana de tiempo de 6 horas si no tiene éxito.
* Si estás usando un gran número de términos combinados con el operador OR, divídelos en reglas independientes y reintenta cada una por separado.
* Si estás usando un gran número de exclusiones en tu regla, reduce el número de términos negados en la regla y vuelve a intentarlo.

<div id="quick-start">
  ## Guía de inicio rápido
</div>

<div id="getting-started-with-enterprise-search-posts-30-day-api">
  ### Introducción a la enterprise Search Posts: 30-Day API
</div>

La enterprise Search Posts: 30-Day API te proporciona Publicaciones realizadas en los últimos 30 días. Las Publicaciones se devuelven en función de la consulta que especifiques en tu solicitud. Una consulta es una regla en la que defines qué debe contener la Publicación que recibes. En este tutorial, buscaremos Publicaciones provenientes de la cuenta de X @XDevelopers en inglés.

Las Publicaciones que recibes en tu payload pueden estar en un formato `data`, que te proporciona el payload completo de la Publicación, o pueden estar en un formato `counts`, que te proporciona datos numéricos sobre la cantidad de Publicaciones coincidentes. Usaremos cURL para realizar solicitudes a los endpoints de `data` y `counts`.

Necesitarás lo siguiente:

* [Una cuenta Enterprise](https://developer.x.com/en/products/x-api/enterprise)
* Tu nombre de usuario, contraseña y nombre de cuenta
* La etiqueta asociada con tu endpoint de búsqueda, tal como se muestra en console.gnip.com

<div id="accessing-the-data-endpoint">
  #### Acceder al endpoint de datos
</div>

El endpoint de datos nos proporcionará el payload completo de las Publicaciones coincidentes. Usaremos los operadores `from:` y `lang:` para encontrar Publicaciones publicadas por @XDevelopers en inglés. *Para ver más operadores, [haz clic aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators).*

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos después de realizar cambios en lo siguiente:

    * **Username** `<USERNAME>` por ejemplo, `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` por ejemplo, `john-doe`

    * **Label** `<LABEL>` por ejemplo, `prod`

    * **fromDate y toDate** por ejemplo, `"fromDate":"201811010000", "toDate":"201811122359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/30day/accounts/<ACCOUNT-NAME>/<LABEL>.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    ```bash
    _Este es un ejemplo de solicitud cURL. Si intentas ejecutarla, no funcionará._

    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/30day/accounts/john-doe/prod.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"201811100000","toDate":"201812012359"}'
    ```
  </Tab>
</Tabs>

#### Cuerpo de la respuesta del endpoint de datos

El cuerpo de la respuesta a tu solicitud de API aparecerá en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"created_at": "Fri Nov 02 17:18:31 +0000 2018",
			"id": 1058408022936977409,
			"id_str": "1058408022936977409",
			"text": "RT @harmophone: \"El innovador crowdsourcing que la colaboración entre Tagboard, Twitter y TEGNA hace posible está sacando a la luz conversaciones relevantes a nivel local en tiempo real y permitiendo que los votantes hagan preguntas durante los debates\"…",
			"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Twitter Web Client<\/a>",
			"truncated": false,
			"in_reply_to_status_id": null,
			"in_reply_to_status_id_str": null,
			"in_reply_to_user_id": null,
			"in_reply_to_user_id_str": null,
			"in_reply_to_screen_name": null,
			"user": {
				"id": 2244994945,
				"id_str": "2244994945",
				"name": "Twitter Dev",
				"screen_name": "TwitterDev",
				"location": "Internet",
				"url": "https:\/\/developer.x.com\/",
				"description": "Tu fuente oficial de noticias, actualizaciones y eventos de la plataforma de Twitter. ¿Necesitas ayuda técnica? Visita https:\/\/devcommunity.com\/ ⌨️ #TapIntoTwitter",
				"translator_type": "null",
				"protected": false,
				"verified": true,
				"followers_count": 503828,
				"friends_count": 1477,
				"listed_count": 1437,
				"favourites_count": 2199,
				"statuses_count": 3380,
				"created_at": "Sat Dec 14 04:35:55 +0000 2013",
				"utc_offset": null,
				"time_zone": null,
				"geo_enabled": true,
				"lang": "en",
				"contributors_enabled": false,
				"is_translator": false,
				"profile_background_color": "null",
				"profile_background_image_url": "null",
				"profile_background_image_url_https": "null",
				"profile_background_tile": null,
				"profile_link_color": "null",
				"profile_sidebar_border_color": "null",
				"profile_sidebar_fill_color": "null",
				"profile_text_color": "null",
				"profile_use_background_image": null,
				"profile_image_url": "null",
				"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/880136122604507136\/xHrnqf1T_normal.jpg",
				"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/2244994945\/1498675817",
				"default_profile": false,
				"default_profile_image": false,
				"following": null,
				"follow_request_sent": null,
				"notifications": null
			},
			"geo": null,
			"coordinates": null,
			"place": null,
			"contributors": null,
			"retweeted_status": {
				"created_at": "Tue Oct 30 21:30:25 +0000 2018",
				"id": 1057384253116289025,
				"id_str": "1057384253116289025",
				"text": "\"El innovador crowdsourcing que la colaboración entre Tagboard, Twitter y TEGNA hace posible está sacando a la luz conversaciones relevantes a nivel local… https:\/\/t.co\/w46U5TRTzQ",
				"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Twitter Web Client<\/a>",
				"truncated": true,
				"in_reply_to_status_id": null,
				"in_reply_to_status_id_str": null,
				"in_reply_to_user_id": null,
				"in_reply_to_user_id_str": null,
				"in_reply_to_screen_name": null,
				"user": {
					"id": 175187944,
					"id_str": "175187944",
					"name": "Tyler Singletary",
					"screen_name": "harmophone",
					"location": "San Francisco, CA",
					"url": "http:\/\/medium.com\/@harmophone",
					"description": "SVP de Producto en @Tagboard. Trabajé en datos, negocio y producto en @Klout y para @LithiumTech; miembro del consejo de @BBI; asesor de @Insightpool. El peor dibujante de pizarras del mundo.",
					"translator_type": "null",
					"protected": false,
					"verified": false,
					"followers_count": 1982,
					"friends_count": 1877,
					"listed_count": 245,
					"favourites_count": 23743,
					"statuses_count": 12708,
					"created_at": "Thu Aug 05 22:59:29 +0000 2010",
					"utc_offset": null,
					"time_zone": null,
					"geo_enabled": false,
					"lang": "en",
					"contributors_enabled": false,
					"is_translator": false,
					"profile_background_color": "null",
					"profile_background_image_url": "null",
					"profile_background_image_url_https": "null",
					"profile_background_tile": null,
					"profile_link_color": "null",
					"profile_sidebar_border_color": "null",
					"profile_sidebar_fill_color": "null",
					"profile_text_color": "null",
					"profile_use_background_image": null,
					"profile_image_url": "null",
					"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/719985428632240128\/WYFHcK-m_normal.jpg",
					"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/175187944\/1398653841",
					"default_profile": false,
					"default_profile_image": false,
					"following": null,
					"follow_request_sent": null,
					"notifications": null
				},
				"geo": null,
				"coordinates": null,
				"place": null,
				"contributors": null,
				"is_quote_status": false,
				"extended_tweet": {
					"full_text": "\"El innovador crowdsourcing que la colaboración entre Tagboard, Twitter y TEGNA hace posible está sacando a la luz conversaciones relevantes a nivel local en tiempo real y permitiendo que los votantes hagan preguntas durante los debates\",  -- @adamostrow, @TEGNA\nMás información: https:\/\/t.co\/ivAFtanfje",
					"display_text_range": [
						0,
						259
					],
					"entities": {
						"hashtags": [],
						"urls": [
							{
								"url": "https:\/\/t.co\/ivAFtanfje",
								"expanded_url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
								"display_url": "blog.tagboard.com\/twitter-and-ta…",
								"unwound": {
									"url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
									"status": 200,
									"title": "Twitter y Tagboard colaboran para ofrecer el mejor contenido electoral a los medios de comunicación con Tagboard…",
									"description": "Por Tyler Singletary, director de Producto, Tagboard"
								},
								"indices": [
									236,
									259
								]
							}
						],
						"user_mentions": [
							{
								"screen_name": "adamostrow",
								"name": "Adam Ostrow",
								"id": 5695942,
								"id_str": "5695942",
								"indices": [
									204,
									215
								]
							},
							{
								"screen_name": "TEGNA",
								"name": "TEGNA",
								"id": 34123003,
								"id_str": "34123003",
								"indices": [
									217,
									223
								]
							}
						],
						"symbols": []
					}
				},
				"quote_count": 0,
				"reply_count": 1,
				"retweet_count": 6,
				"favorite_count": 19,
				"entities": {
					"hashtags": [],
					"urls": [
						{
							"url": "https:\/\/t.co\/w46U5TRTzQ",
							"expanded_url": "https:\/\/twitter.com\/i\/web\/status\/1057384253116289025",
							"display_url": "twitter.com\/i\/web\/status\/1…",
							"indices": [
								117,
								140
							]
						}
					],
					"user_mentions": [],
					"symbols": []
				},
				"favorited": false,
				"retweeted": false,
				"possibly_sensitive": false,
				"filter_level": "low",
				"lang": "en"
			},
			"is_quote_status": false,
			"quote_count": 0,
			"reply_count": 0,
			"retweet_count": 0,
			"favorite_count": 0,
			"entities": {
				"hashtags": [],
				"urls": [],
				"user_mentions": [
					{
						"screen_name": "harmophone",
						"name": "Tyler Singletary",
						"id": 175187944,
						"id_str": "175187944",
						"indices": [
							3,
							14
						]
					}
				],
				"symbols": []
			},
			"favorited": false,
			"retweeted": false,
			"filter_level": "low",
			"lang": "en",
			"matching_rules": [
				{
					"tag": null
				}
			]
		}
	],
	"requestParameters": {
		"maxResults": 100,
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

<div id="accessing-the-counts-endpoint">
  #### Acceder al endpoint counts
</div>

Con el endpoint counts, recuperaremos la cantidad de Publicaciones provenientes de la cuenta @XDevelopers en inglés, agrupadas por `day`.

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos después de realizar cambios en lo siguiente:

    * **Nombre de usuario** `<USERNAME>` p. ej. `email@domain.com`

    * **Nombre de cuenta** `<ACCOUNT-NAME>` p. ej. `john-doe`

    * **Label** `<LABEL>` p. ej. `prod`

    * **fromDate y toDate** p. ej. `"fromDate":"201811010000", "toDate":"201811122359"`

    *Después de enviar tu solicitud, se te solicitará tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/30day/accounts/<ACCOUNT-NAME>/<LABEL>/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>","bucket":"day"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    *Este es un ejemplo de solicitud cURL. Si intentas ejecutarla, no funcionará.*

    ```bash
    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/30day/accounts/john-doe/prod/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"201811100000","toDate":"201812012359","bucket":"day"}'
    ```
  </Tab>
</Tabs>

<div id="counts-endpoint-response-payload">
  #### Carga útil de la respuesta del endpoint de conteos
</div>

La carga útil que recibes de tu solicitud a la API se mostrará en formato JSON, como se indica a continuación.

```json
{
	"results": [
		{
			"timePeriod": "201811010000",
			"count": 0
		},
		{
			"timePeriod": "201811020000",
			"count": 1
		},
		{
			"timePeriod": "201811030000",
			"count": 0
		},
		{
			"timePeriod": "201811040000",
			"count": 0
		},
		{
			"timePeriod": "201811050000",
			"count": 0
		}
	],
	"totalCount": 1,
	"requestParameters": {
		"bucket": "day",
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

¡Buen trabajo! Ahora has accedido correctamente a la API enterprise Search Posts: 30-Day.

<div id="referenced-articles">
  ##### **Artículos relacionados**
</div>

* [Introducción a los objetos Post](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)
* [Operadores de búsqueda](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators)
* [Objetos Post y cargas útiles](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#post-object)

<div id="getting-started-with-enterprise-search-posts-full-archive-api">
  ### Introducción a enterprise Search Posts: Full-Archive API
</div>

La API enterprise Search Posts: Full-Archive te proporciona Publicaciones desde la primera, publicada en 2006. Las Publicaciones se filtran y se te devuelven en función de la consulta que especifiques en tu solicitud. Una consulta es una regla con la que defines qué debe contener la Publicación que recibes. En este tutorial, buscaremos Publicaciones publicadas desde la cuenta de X @XDevelopers en inglés.

Las Publicaciones que recibes en tu carga útil pueden estar en un formato data, que te proporciona la carga útil completa de la Publicación, o en un formato counts, que te ofrece datos numéricos sobre la cantidad de Publicaciones que coinciden. Usaremos cURL para realizar solicitudes a los endpoints de data y counts.

Necesitarás lo siguiente:

* [Una cuenta Enterprise](https://developer.x.com/en/products/x-api/enterprise)
* Tu nombre de usuario, contraseña y nombre de cuenta
* La etiqueta asociada con tu endpoint de búsqueda, tal como se muestra en console.gnip.com

<div id="accessing-the-data-endpoint">
  #### Acceder al endpoint de datos
</div>

El endpoint de datos nos proporcionará el payload completo de las Publicaciones que coincidan con la búsqueda. Usaremos los operadores `from:` y `lang:` para encontrar Publicaciones de @XDevelopers en inglés. *Para ver más operadores, [haz clic aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators).*

* [cURL](#tab1)
* [Ejemplo de cURL](#tab2)

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos utilizando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos tras sustituir los siguientes valores:

    * **Nombre de usuario** `<USERNAME>` por ejemplo, `email@domain.com`

    * **Nombre de cuenta** `<ACCOUNT-NAME>` por ejemplo, `john-doe`

    * **Etiqueta** `<LABEL>` por ejemplo, `prod`

    * **fromDate y toDate** por ejemplo, `"fromDate":"201802010000", "toDate":"201802282359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/fullarchive/accounts/<ACCOUNT-NAME>/<LABEL>.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    *Este es un ejemplo de solicitud cURL. Si intentas ejecutarlo, no funcionará.*

    ```bash
    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/fullarchive/accounts/john-doe/prod.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"201802010000","toDate":"201802282359"}'
    ```
  </Tab>
</Tabs>

<div id="data-endpoint-response-payload">
  ##### Cuerpo de la respuesta del endpoint de datos
</div>

El cuerpo de la respuesta que recibirás de tu solicitud de API se mostrará en formato JSON, como se indica a continuación.

```json
{
	"results": [
		{
			"created_at": "Fri Nov 02 17:18:31 +0000 2018",
			"id": 1058408022936977409,
			"id_str": "1058408022936977409",
			"text": "RT @harmophone: \"La innovadora colaboración colectiva que hace posible la alianza entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones locales relevantes…",
			"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
			"truncated": false,
			"in_reply_to_status_id": null,
			"in_reply_to_status_id_str": null,
			"in_reply_to_user_id": null,
			"in_reply_to_user_id_str": null,
			"in_reply_to_screen_name": null,
			"user": {
				"id": 2244994945,
				"id_str": "2244994945",
				"name": "Twitter Dev",
				"screen_name": "TwitterDev",
				"location": "Internet",
				"url": "https:\/\/developer.x.com\/",
				"description": "Tu fuente oficial de noticias, actualizaciones y eventos de la plataforma Twitter. ¿Necesitas ayuda técnica? Visita https:\/\/devcommunity.com\/ ⌨️ #TapIntoTwitter",
				"translator_type": "null",
				"protected": false,
				"verified": true,
				"followers_count": 503828,
				"friends_count": 1477,
				"listed_count": 1437,
				"favourites_count": 2199,
				"statuses_count": 3380,
				"created_at": "Sat Dec 14 04:35:55 +0000 2013",
				"utc_offset": null,
				"time_zone": null,
				"geo_enabled": true,
				"lang": "en",
				"contributors_enabled": false,
				"is_translator": false,
				"profile_background_color": "null",
				"profile_background_image_url": "null",
				"profile_background_image_url_https": "null",
				"profile_background_tile": null,
				"profile_link_color": "null",
				"profile_sidebar_border_color": "null",
				"profile_sidebar_fill_color": "null",
				"profile_text_color": "null",
				"profile_use_background_image": null,
				"profile_image_url": "null",
				"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/880136122604507136\/xHrnqf1T_normal.jpg",
				"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/2244994945\/1498675817",
				"default_profile": false,
				"default_profile_image": false,
				"following": null,
				"follow_request_sent": null,
				"notifications": null
			},
			"geo": null,
			"coordinates": null,
			"place": null,
			"contributors": null,
			"retweeted_status": {
				"created_at": "Tue Oct 30 21:30:25 +0000 2018",
				"id": 1057384253116289025,
				"id_str": "1057384253116289025",
				"text": "\"La innovadora colaboración colectiva que hace posible la alianza entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones locales relevantes… https:\/\/t.co\/w46U5TRTzQ",
				"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
				"truncated": true,
				"in_reply_to_status_id": null,
				"in_reply_to_status_id_str": null,
				"in_reply_to_user_id": null,
				"in_reply_to_user_id_str": null,
				"in_reply_to_screen_name": null,
				"user": {
					"id": 175187944,
					"id_str": "175187944",
					"name": "Tyler Singletary",
					"screen_name": "harmophone",
					"location": "San Francisco, CA",
					"url": "http:\/\/medium.com\/@harmophone",
					"description": "SVP de Producto en @Tagboard. Trabajé con datos, negocio y producto en @Klout y para @LithiumTech; miembro del consejo de @BBI; asesor de @Insightpool. El peor dibujante de pizarras del mundo.",
					"translator_type": "null",
					"protected": false,
					"verified": false,
					"followers_count": 1982,
					"friends_count": 1877,
					"listed_count": 245,
					"favourites_count": 23743,
					"statuses_count": 12708,
					"created_at": "Thu Aug 05 22:59:29 +0000 2010",
					"utc_offset": null,
					"time_zone": null,
					"geo_enabled": false,
					"lang": "en",
					"contributors_enabled": false,
					"is_translator": false,
					"profile_background_color": "null",
					"profile_background_image_url": "null",
					"profile_background_image_url_https": "null",
					"profile_background_tile": null,
					"profile_link_color": "null",
					"profile_sidebar_border_color": "null",
					"profile_sidebar_fill_color": "null",
					"profile_text_color": "null",
					"profile_use_background_image": null,
					"profile_image_url": "null",
					"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/719985428632240128\/WYFHcK-m_normal.jpg",
					"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/175187944\/1398653841",
					"default_profile": false,
					"default_profile_image": false,
					"following": null,
					"follow_request_sent": null,
					"notifications": null
				},
				"geo": null,
				"coordinates": null,
				"place": null,
				"contributors": null,
				"is_quote_status": false,
				"extended_tweet": {
					"full_text": "\"La innovadora colaboración colectiva que hace posible la alianza entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones locales relevantes en tiempo real y permitiendo que los votantes hagan preguntas durante los debates”,  -- @adamostrow, @TEGNA\nMás información: https:\/\/t.co\/ivAFtanfje",
					"display_text_range": [
						0,
						259
					],
					"entities": {
						"hashtags": [],
						"urls": [
							{
								"url": "https:\/\/t.co\/ivAFtanfje",
								"expanded_url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
								"display_url": "blog.tagboard.com\/twitter-and-ta…",
								"unwound": {
									"url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
									"status": 200,
									"title": "Twitter y Tagboard colaboran para llevar el mejor contenido electoral a los medios de noticias con Tagboard…",
									"description": "Por Tyler Singletary, director de Producto, Tagboard"
								},
								"indices": [
									236,
									259
								]
							}
						],
						"user_mentions": [
							{
								"screen_name": "adamostrow",
								"name": "Adam Ostrow",
								"id": 5695942,
								"id_str": "5695942",
								"indices": [
									204,
									215
								]
							},
							{
								"screen_name": "TEGNA",
								"name": "TEGNA",
								"id": 34123003,
								"id_str": "34123003",
								"indices": [
									217,
									223
								]
							}
						],
						"symbols": []
					}
				},
				"quote_count": 0,
				"reply_count": 1,
				"retweet_count": 6,
				"favorite_count": 19,
				"entities": {
					"hashtags": [],
					"urls": [
						{
							"url": "https:\/\/t.co\/w46U5TRTzQ",
							"expanded_url": "https:\/\/twitter.com\/i\/web\/status\/1057384253116289025",
							"display_url": "twitter.com\/i\/web\/status\/1…",
							"indices": [
								117,
								140
							]
						}
					],
					"user_mentions": [],
					"symbols": []
				},
				"favorited": false,
				"retweeted": false,
				"possibly_sensitive": false,
				"filter_level": "low",
				"lang": "en"
			},
			"is_quote_status": false,
			"quote_count": 0,
			"reply_count": 0,
			"retweet_count": 0,
			"favorite_count": 0,
			"entities": {
				"hashtags": [],
				"urls": [],
				"user_mentions": [
					{
						"screen_name": "harmophone",
						"name": "Tyler Singletary",
						"id": 175187944,
						"id_str": "175187944",
						"indices": [
							3,
							14
						]
					}
				],
				"symbols": []
			},
			"favorited": false,
			"retweeted": false,
			"filter_level": "low",
			"lang": "en",
			"matching_rules": [
				{
					"tag": null
				}
			]
		}
	],
	"requestParameters": {
		"maxResults": 100,
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

<div id="accessing-the-counts-endpoint">
  #### Acceder al endpoint counts
</div>

Con el endpoint counts, obtendremos la cantidad de Publicaciones provenientes de la cuenta @XDevelopers en inglés, agrupadas por `day`.

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos después de hacer cambios en lo siguiente:

    * **Username** `<USERNAME>` por ejemplo, `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` por ejemplo, `john-doe`

    * **Label** `<LABEL>` por ejemplo, `prod`

    * **fromDate y toDate** por ejemplo, `"fromDate":"201802010000", "toDate":"201802282359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/fullarchive/accounts/<ACCOUNT-NAME>/<LABEL>/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>","bucket":"day"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    ```bash
    _Este es un ejemplo de solicitud cURL. Si intentas ejecutarla, no funcionará._

    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/fullarchive/accounts/john-doe/prod/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"201802010000","toDate":"201802282359","bucket":"day"}'
    ```
  </Tab>
</Tabs>

#### Cuerpo de la respuesta del endpoint Counts

El cuerpo de la respuesta que recibes de tu solicitud de API aparecerá en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"timePeriod": "201811010000",
			"count": 0
		},
		{
			"timePeriod": "201811020000",
			"count": 1
		},
		{
			"timePeriod": "201811030000",
			"count": 0
		},
		{
			"timePeriod": "201811040000",
			"count": 0
		},
		{
			"timePeriod": "201811050000",
			"count": 0
		}
	],
	"totalCount": 1,
	"requestParameters": {
		"bucket": "day",
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

¡Buen trabajo! Ahora has accedido correctamente a la API Enterprise Search Posts: Full-Archive.

##### Artículos de referencia

* [Introducción a los objetos Post](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)
* [Operadores de búsqueda](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators)
* [Objetos Post y cargas útiles](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#post-object)

<div id="guides">
  ## Guías
</div>

<div id="building-search-queries">
  ### Crear consultas de búsqueda
</div>

<div id="enterprise-operators">
  ### Operadores de Enterprise
</div>

A continuación encontrarás una lista de todos los operadores admitidos en las API de búsqueda de Enterprise de X:

* API de búsqueda de 30 días de **Enterprise**
* API de búsqueda de archivo completo de **Enterprise**

Para una comparación en paralelo de los operadores disponibles por producto, consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product).

| Operador                                 | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :--------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| keyword                                  | Coincide con una palabra clave tokenizada dentro del cuerpo o las urls de una Publicación. Se trata de una coincidencia tokenizada, lo que significa que tu cadena de palabras clave se comparará con el texto tokenizado del cuerpo de la Publicación: la tokenización se basa en caracteres de puntuación, símbolos y caracteres separadores del plano básico Unicode. Por ejemplo, una Publicación con el texto “I like coca-cola” se dividiría en los siguientes tokens: I, like, coca, cola. Estos tokens se compararían con la cadena de palabras clave utilizada en tu regla. Para hacer coincidir cadenas que contengan caracteres de puntuación (por ejemplo, coca-cola), símbolos o caracteres separadores, debes utilizar una coincidencia exacta entre comillas, como se describe a continuación.<br /><br />**Nota:** Con la Search API, los caracteres acentuados y especiales se normalizan a caracteres latinos estándar, lo que puede cambiar el significado en idiomas extranjeros o arrojar resultados inesperados:<br />Por ejemplo, &quot;músic&quot; coincidirá con “music” y viceversa.<br />Por ejemplo, frases comunes como &quot;¡Feliz Año Nuevo!&quot; en español se indexarían como &quot;Feliz Ano Nuevo&quot;, lo que cambia el significado de la frase.<br /><br />**Nota:** Este operador coincidirá tanto con URLs como con URLs resueltas dentro de una Publicación. |
| emoji                                    | Coincide con un emoji dentro del cuerpo de una Publicación. Los emojis se comparan mediante coincidencia tokenizada, lo que significa que tu emoji se comparará con el texto tokenizado del cuerpo de la Publicación. La tokenización se basa en caracteres de puntuación, símbolos/emojis y caracteres separadores del plano básico de Unicode. Por ejemplo, una Publicación con el texto “I like <Icon icon="pizza-slice" iconType="solid" />” se dividiría en los siguientes tokens: I, like, <Icon icon="pizza-slice" iconType="solid" />. Estos tokens se compararían con el emoji que utilices en tu regla. Ten en cuenta que, si un emoji tiene una variante, debes usar comillas para agregarlo a una regla.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &quot;coincidencia exacta de frase&quot; | Coincide con la frase tokenizada y en el mismo orden dentro del cuerpo o las URL de una Publicación. Se trata de una coincidencia tokenizada, lo que significa que tu cadena de palabras clave se comparará con el texto tokenizado del cuerpo de la Publicación; la tokenización se basa en caracteres de puntuación, símbolos y caracteres separadores del plano básico de Unicode. <br /><br />**Nota:** La puntuación no se tokeniza y se trata como espacio en blanco.<br />Por ejemplo, el texto entre comillas “#hashtag” coincidirá con “hashtag”, pero no con #hashtag (usa el operador de hashtag # sin comillas para hacer coincidir hashtags reales).<br />Por ejemplo, el texto entre comillas “$cashtag” coincidirá con “cashtag”, pero no con $cashtag (usa el operador de cashtag $ sin comillas para hacer coincidir cashtags reales).<br />Por ejemplo, &quot;Love Snow&quot; coincidirá con &quot;#love #snow&quot;<br />Por ejemplo, &quot;#Love #Snow&quot; coincidirá con &quot;love snow&quot;<br /><br />**Nota:** Este operador coincidirá tanto con URL como con URL desenrolladas dentro de una Publicación.                                                                                                                                                                                                                                                                 |
| &quot;keyword1 keyword2&quot;~N          | Comúnmente denominado operador de proximidad, hace coincidir una Publicación en la que las palabras clave no estén a más de N tokens de distancia entre sí. <br /><br />Si las palabras clave están en el orden inverso, no pueden estar a más de N-2 tokens de distancia entre sí. Puede incluir cualquier número de palabras clave entre comillas. N no puede ser mayor que 6.<br /><br />Ten en cuenta que este operador solo está disponible en las APIs de búsqueda `enterprise`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| from:                                    | Coincide con cualquier Publicación de un usuario específico.<br />El valor debe ser el id numérico de cuenta de X del usuario o su nombre de usuario (excluyendo el carácter @). Consulta [AQUÍ](/es/x-api/users/lookup/introduction) o [AQUÍ](http://gettwitterid.com/) para conocer los métodos para obtener id numéricos de cuentas de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| to:                                      | Coincide con cualquier Publicación que sea una respuesta a un usuario determinado.<br /><br />El valor debe ser el ID numérico de la cuenta del usuario o su nombre de usuario (sin el carácter @). Consulta [AQUÍ](/es/x-api/users/lookup/introduction) para conocer métodos para buscar IDs numéricos de cuentas de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| url:                                     | Realiza una coincidencia tokenizada (palabra clave/frase) en las URL expandidas de una Publicación (similar a url&#95;contains). Los tokens y las frases que contengan signos de puntuación o caracteres especiales deben ir entre comillas dobles. Por ejemplo, url:&quot;/developer&quot;. Aunque por lo general no se recomienda, si deseas hacer coincidir un protocolo específico, enciérralo entre comillas dobles: url:&quot;[https://developer.x.com](https://developer.x.com)&quot;.<br />**Nota:** Al usar PowerTrack o Historical PowerTrack, este operador hará coincidir las URL contenidas en la Publicación original de una Publicación citada. Por ejemplo, si tu regla incluye url:&quot;developer.x.com&quot; y una Publicación contiene esa URL, cualquier Publicación que cite esa Publicación se incluirá en los resultados. Este no es el caso cuando se usa la Search API.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| #                                        | Coincide con cualquier Publicación que tenga el hashtag indicado.<br /><br />Este operador realiza una coincidencia exacta, NO una coincidencia tokenizada, lo que significa que la regla “2016” coincidirá con publicaciones que tengan exactamente el hashtag “2016”, pero no con aquellas que tengan el hashtag “2016election”.<br /><br />Nota: el operador de hashtag depende de la extracción de entidades de X para hacer coincidir hashtags, en lugar de extraer el hashtag directamente del cuerpo del texto. Consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#hashtags) para obtener más información sobre los atributos JSON de X Entities.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| @                                        | Coincide con cualquier Publicación que mencione el nombre de usuario dado.<br />El operador to: devuelve coincidencias que son un subconjunto de las del operador @mention.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| $                                        | Coincide con cualquier Publicación que contenga el «cashtag» especificado (donde el primer carácter del token es el carácter «$»).<br /><br />Ten en cuenta que el operador de cashtag se basa en la extracción de la entidad «symbols» de X para hacer coincidir los cashtags, en lugar de intentar extraer el cashtag directamente del cuerpo de la Publicación. Consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#symbols) para obtener más información sobre los atributos JSON de entidades de X.<br /><br />Ten en cuenta que este operador solo está disponible en las API de búsqueda `enterprise`.<br /><br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| retweets&#95;of:                         | *Alias disponible*: retweets&#95;of&#95;user:<br />Coincide con las Publicaciones que son retweets de un usuario especificado. Acepta tanto nombres de usuario como ID numéricos de cuenta de X (NO ID de estado de Publicación). Consulta [AQUÍ](/es/x-api/users/lookup/introduction) los métodos para buscar ID numéricos de cuenta de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| lang:                                    | Coincide con Publicaciones que X ha clasificado como de un idioma en particular (si y solo si la Publicación ha sido clasificada). Es importante tener en cuenta que actualmente cada Publicación solo se clasifica en un único idioma, por lo que combinar varios idiomas con el operador AND no arrojará resultados.<br /><br />**Nota:** si no se puede realizar ninguna clasificación de idioma, el resultado proporcionado es ‘und’ (indefinido).<br /><br />La siguiente lista representa los idiomas actualmente admitidos y su identificador de idioma BCP 47 correspondiente:<br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Amárico: am | Alemán: de | Malayalam: ml | Eslovaco: sk |
| Árabe: ar | Griego: el | Maldivo: dv | Esloveno: sl |
| Armenio: hy | Guyaratí: gu | Maratí: mr | Kurdo sorani: ckb |
| Vasco: eu | Criollo haitiano: ht | Nepalí: ne | Español: es |
| Bengalí: bn | Hebreo: iw | Noruego: no | Sueco: sv |
| Bosnio: bs | Hindi: hi | Oriya: or | Tagalo: tl |
| Búlgaro: bg | Hindi latinizado: hi-Latn | Panyabí: pa | Tamil: ta |
| Birmano: my | Húngaro: hu | Pastún: ps | Telugu: te |
| Croata: hr | Islandés: is | Persa: fa | Tailandés: th |
| Catalán: ca | Indonesio: in | Polaco: pl | Tibetano: bo |
| Checo: cs | Italiano: it | Portugués: pt | Chino tradicional: zh-TW |
| Danés: da | Japonés: ja | Rumano: ro | Turco: tr |
| Neerlandés: nl | Canarés: kn | Ruso: ru | Ucraniano: uk |
| Inglés: en | Jemer: km | Serbio: sr | Urdu: ur |
| Estonio: et | Coreano: ko | Chino simplificado: zh-CN | Uigur: ug |
| Finés: fi | Lao: lo | Sindhi: sd | Vietnamita: vi |
| Francés: fr | Letón: lv | Cingalés: si | Galés: cy |
| Georgiano: ka | Lituano: lt |     |

|||
|:----|:---|
|place:|Coincide con las Publicaciones etiquetadas con la ubicación especificada *o* con el place ID de X (consulta los ejemplos). Los nombres de lugares con varias palabras (“New York City”, “Palo Alto”) deben ir entre comillas.<br /><br />**Nota:** Consulta el endpoint público de la API [GET geo/search](https://developer.x.com/en/docs/x-api/v1/geo/place-information/overview) para saber cómo obtener place IDs de X.<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Tweet con cita.|
|place&#95;country:|Coincide con las Publicaciones en las que el código de país asociado con un [place](https://developer.x.com/en/docs/x-api/v1/geo/place-information/overview) etiquetado coincide con el código de caracteres ISO alfa-2 proporcionado.<br /><br />Los códigos ISO válidos se pueden encontrar aquí: [http://en.wikipedia.org/wiki/ISO&#95;3166-1&#95;alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Tweet con cita.|
|point&#95;radius:[lon lat radius]|Coincide con la ubicación exacta (x,y) de la Publicación cuando existe y, en X, con un polígono geográfico “Place”, donde el Place está completamente contenido dentro de la región definida.<br /><br />* Las unidades de radio admitidas son millas (mi) y kilómetros (km).<br />* El radio debe ser inferior a 25 mi.<br />* La longitud está en el rango de ±180<br />* La latitud está en el rango de ±90<br />* Todas las coordenadas están en grados decimales.<br />* Los argumentos de la regla se incluyen entre corchetes, separados por espacios.<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Tweet con cita.|
|bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat]|*Alias disponible*: geo&#95;bounding&#95;box:<br /><br />Coincide con la ubicación exacta (long, lat) de la Publicación cuando existe y, en X, con un polígono geográfico “Place”, donde el Place está completamente contenido dentro de la región definida.<br /><br />* west&#95;long y south&#95;lat representan la esquina suroeste del cuadro delimitador, donde west&#95;long es la longitud de ese punto y south&#95;lat es la latitud.<br />* east&#95;long y north&#95;lat representan la esquina noreste del cuadro delimitador, donde east&#95;long es la longitud de ese punto y north&#95;lat es la latitud.<br />* El ancho y la altura del cuadro delimitador deben ser inferiores a 25 mi<br />* La longitud está en el rango de ±180<br />* La latitud está en el rango de ±90<br />* Todas las coordenadas están en grados decimales.<br />* Los argumentos de la regla se incluyen entre corchetes, separados por espacios.<br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Tweet con cita.|
|profile&#95;country:|Coincide exactamente con el campo “countryCode” del objeto “address” en el enriquecimiento de Profile Geo.<br />Utiliza un conjunto normalizado de códigos de país de dos letras, basado en la especificación ISO-3166-1-alpha-2. Este operador se proporciona en lugar de un operador para el campo “country” del objeto “address” para ser más conciso.|
|profile&#95;region:|Coincide con el campo “region” del objeto “address” en el enriquecimiento de Profile Geo.<br /><br />Se trata de una coincidencia exacta de la cadena completa. No es necesario escapar caracteres con una barra invertida. Por ejemplo, si quieres hacer coincidir algo con una barra, usa “one/two”, no “one\/two”. Usa comillas dobles para hacer coincidir subcadenas que contengan espacios en blanco o signos de puntuación.|
|profile&#95;locality:|Coincide con el campo “locality” del objeto “address” en el enriquecimiento de Profile Geo.<br /><br />Se trata de una coincidencia exacta de la cadena completa. No es necesario escapar caracteres con una barra invertida. Por ejemplo, si quieres hacer coincidir algo con una barra, usa “one/two”, no “one\/two”. Usa comillas dobles para hacer coincidir subcadenas que contengan espacios en blanco o signos de puntuación.|

<Info>
  **NOTA:** Los operadores is: y has: no se pueden usar como operadores independientes cuando se utiliza la Search API y deben combinarse con otra cláusula.

  Por ejemplo, @XDeevelopers has:links
</Info>

|                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| has:geo             | Coincide con Publicaciones que tienen datos de ubicación geográfica específicos de la Publicación proporcionados por X. Esto puede ser una coordenada «geo» de latitud y longitud o una «location» en forma de un [«Place»](https://dev.x.com/overview/api/places) de X, con el nombre para mostrar correspondiente, polígono geográfico y otros campos.<br /><br />  <br /><br />**Nota:** Cuando uses la API de búsqueda, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                        |
| has:profile&#95;geo | *Alias disponible*: has:derived&#95;user&#95;geo<br /><br />Coincide con Publicaciones que tienen cualquier metadato de [Profile Geo](http://support.gnip.com/enrichments/profile_geo.html), independientemente de su valor.  <br />  <br /><br />**Nota:** Al usar la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` ni `has:`.                                                                                                                                                                                                                                                    |
| has:links           | Este operador devuelve Publicaciones que contienen enlaces en el cuerpo del mensaje.  <br />  <br /><br />**Nota:** Cuando se usa la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                                                   |
| is:retweet          | Entregar solo retweets explícitos que coincidan con una regla. También se puede negar para excluir de la entrega los retweets que coincidan con una regla, de modo que solo se entregue contenido original.<br /><br />Este operador busca únicamente los retweets auténticos, que usan la funcionalidad de retweet de X. Las publicaciones citadas y las publicaciones modificadas que no usan la funcionalidad de retweet de X no coincidirán con este operador.<br /><br />  <br /><br />**Nota:** Cuando se utiliza la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`. |
| is:reply            | Un operador para filtrar Publicaciones según si son o no respuestas a otras Publicaciones. Devuelve solo respuestas explícitas que coincidan con una regla. También se puede negar para excluir de la entrega las respuestas que coincidan con una regla.<br /><br />Ten en cuenta que este operador está disponible para la búsqueda premium de pago y Enterprise, y no está disponible en entornos de desarrollo de Sandbox.<br /><br />  <br /><br />**Nota:** Cuando se usa la API de búsqueda, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                |
| is:quote            | Devuelve únicamente Quote Tweets o Publicaciones que hacen referencia a otra Publicación, identificadas por &quot;is&#95;quote&#95;status&quot;:true en los payloads de la Publicación. También puede negarse para excluir los Quote Tweets.  <br /><br />**Nota:** Cuando utilices la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                 |
| is:verified         | Devuelve solo Publicaciones cuyos autores estén «verificados» por X. También se puede negar para excluir Publicaciones cuyos autores estén verificados.  <br />  <br /><br />**Nota:** Cuando se utilice la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` ni `has:`.                                                                                                                                                                                                                                                                                                               |
| has:mentions        | Coincide con las Publicaciones que mencionan a otro usuario de X.  <br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                                                                            |
| has:hashtags        | Coincide con Publicaciones que incluyen un hashtag.  <br />  <br /><br />**Nota:** Cuando utilices la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                                                                                      |
| has:media           | *Alias disponible*: has:media&#95;link<br /><br />Coincide con Publicaciones que contienen una URL de contenido multimedia clasificada por X. Por ejemplo, pic.x.com.  <br />  <br /><br />**Nota:** Cuando se utiliza la API de búsqueda, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                             |
| has:images          | Coincide con publicaciones que contienen una URL de contenido multimedia clasificada por X. Por ejemplo, pic.x.com.  <br />  <br /><br />**Nota:** Cuando se utiliza la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                    |
| has:videos          | *Alias disponible*: has:video&#95;link<br /><br />Coincide con Publicaciones que contienen vídeos nativos de X, subidos directamente a X. No coincidirá con vídeos creados con Vine, Periscope ni con Publicaciones que incluyan enlaces a otros sitios de alojamiento de vídeo.  <br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                         |
| has:symbols         | Coincide con Publicaciones que contienen un símbolo de cashtag (con un carácter inicial ‘$’. Por ejemplo, $tag). Ten en cuenta que este operador solo está disponible en las APIs de búsqueda de `enterprise`.  <br />  <br /><br />**Nota:** Cuando uses la API de búsqueda, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                          |

<div id="product-overview">
  ### Descripción general del producto
</div>

El nivel Enterprise de Full-archive Search se lanzó en agosto de 2015 y la versión de nivel premium se lanzó en febrero de 2018. Estos productos de búsqueda permiten a los clientes acceder inmediatamente a cualquier Publicación disponible públicamente. Con Full-archive Search envías una única consulta y recibes una respuesta en el formato clásico RESTful. Full-archive Search implementa paginación de hasta 500 Publicaciones por respuesta y admite hasta 60 solicitudes por minuto (rpm) como límite de frecuencia para premium y 120 rpm para Enterprise. Dado lo anterior, Full-archive Search se puede usar para recuperar Publicaciones rápidamente y a gran escala utilizando solicitudes concurrentes.

A diferencia de Historical PowerTrack, cuyo archivo se basa en un conjunto de archivos planos de Publicaciones en disco, el archivo de Publicaciones de Full-archive Search se asemeja más a una base de datos en línea. Como en todas las bases de datos, permite realizar consultas sobre su contenido. También hace uso de un *índice* para permitir una recuperación de datos de alto rendimiento. Con los endpoints de Full-archive Search, el lenguaje de consulta está compuesto por PowerTrack Operators, y cada uno de estos Operators corresponde a un atributo JSON indexado de la Publicación.

Asimismo, al igual que Historical PowerTrack, hay atributos de la Publicación que son vigentes en el momento en que se realiza una consulta. Por ejemplo, si hoy utilizas Search API para acceder a una Publicación publicada en 2010, la descripción del perfil del usuario, la ubicación &quot;home&quot; de la cuenta, el nombre visible y las métricas de la Publicación para los conteos de Favoritos y Retweets se actualizarán a los valores de hoy y no a los que tenían en 2010. 

<div id="metadata-timelines">
  ### Cronologías de metadatos
</div>

A continuación se muestra una cronología de cuándo los Operadores del endpoint de búsqueda de archivo completo empiezan a devolver coincidencias. En algunos casos, la coincidencia con Operadores comenzó mucho *después* de que una “convención de comunicación” se volviera común en X. Por ejemplo, las @Replies surgieron como una convención de los usuarios en 2006, pero no se convirtieron en un *objeto de primera clase* o *evento* con JSON de respaldo hasta principios de 2007. En consecuencia, obtener coincidencias para @Replies en 2006 requiere examinar el cuerpo de la Publicación, en lugar de depender de los Operadores de PowerTrack `to:` e `in_reply_to_status_id:`.

Los detalles proporcionados aquí se generaron usando Full-Archive Search (el resultado de cientos de búsquedas). Esta cronología no es 100% completa ni precisa. Si identificas otra “fecha de nacimiento” de filtrado/metadatos que sea fundamental para tu caso de uso, háznoslo saber.

Ten en cuenta que el índice de búsqueda subyacente puede reconstruirse. En consecuencia, estos detalles de la cronología están sujetos a cambios.

<div id="2006">
  #### 2006
</div>

* 26 de marzo - `lang:`. Un ejemplo de metadatos de Publicación que se completan retroactivamente mientras se genera el índice de búsqueda.
* 13 de julio - `has:mentions` empieza a devolver coincidencias.
* 6 de octubre - `has:symbols`. Los $cashtags (o símbolos) para hablar de símbolos bursátiles no se generalizan hasta principios de 2009. Hasta entonces, la mayoría de los usos probablemente eran jerga (por ejemplo, $slang).
* 26 de octubre - `has:links` empieza a devolver coincidencias.
* 23 de noviembre - `has:hashtags` empieza a devolver coincidencias.

<div id="2007">
  #### 2007
</div>

* 30 de enero: primera @reply de primera clase (in&#95;reply&#95;to&#95;user&#95;id), `reply_to_status_id:` empieza a coincidir.
* 23 de agosto: los hashtags surgen como una convención común para organizar temas y conversaciones. Primer uso significativo una semana después.

<div id="2009">
  #### 2009
</div>

* 15 de mayo - `is:retweet`. Ten en cuenta que este operador empieza a devolver coincidencias con el lanzamiento de la versión ‘beta’ de los Retweets oficiales y su patrón “Via @”. Durante este período beta, el verbo de la Publicación es ‘post’ y la Publicación original no se incluye en la carga útil.
* 13 de agosto - Se lanza la versión final de los Retweets oficiales con el patrón “RT @”, un verbo establecido en ‘share’ y el atributo ‘retweet&#95;status’ que contiene la Publicación original (lo que aproximadamente duplica el tamaño de la carga útil JSON).

<div id="2010">
  #### 2010
</div>

* 6 de marzo: los operadores geográficos `has:geo`, `bounding_box:` y `point_radius:` empiezan a devolver coincidencias.
* 28 de agosto: `has:videos` (hasta febrero de 2015, este operador coincide con Publicaciones que contienen enlaces a determinados sitios de alojamiento de vídeo como youtube.com, vimeo.com y vivo.com).

<div id="2011">
  #### 2011
</div>

* 20 de julio - `has:media` y `has:images` empiezan a aplicarse. Las fotos nativas se anunciaron oficialmente el 9 de agosto de 2010.

<div id="2014">
  #### 2014
</div>

* 3 de diciembre: (aproximadamente) *Parte* de los [metadatos de URL mejorados](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments), con título y descripción HTML, comienza a incluirse en los payloads. Los metadatos mejorados se implementan de forma más completa en mayo de 2016.

<div id="2015">
  #### 2015
</div>

* 10 de febrero - `has:videos` comienza a coincidir con videos «nativos» de X.
* 17 de febrero - Los operadores `has:profile_geo`, `profile_country:`, `profile_region:`, `profile_locality:` de [Profile Geo](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#profile-geo) comienzan a coincidir.
* 17 de febrero - Los operadores de geolocalización de Publicación `place_country:` y `place:` comienzan a coincidir.

<div id="2016">
  #### 2016
</div>

* 1 de mayo - [Enhanced URL metadata](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) pasó a estar más ampliamente disponible y se anunció oficialmente como parte del [lanzamiento de Gnip 2.0 en agosto de 2016](https://blog.x.com/2016/gnip-2-is-here). No existen Operators asociados para estos metadatos en las APIs de búsqueda.

<div id="2017">
  #### 2017
</div>

* 22 de febrero - Los metadatos de las encuestas están disponibles en formato nativo enriquecido. No hay operadores asociados para estos metadatos.

<div id="2022">
  #### 2022
</div>

* 27 de septiembre: todos los objetos de Publicación creados desde esta fecha disponen de metadatos de Publicación editada. Todos los endpoints de Enterprise que proporcionan objetos de Publicación se actualizaron para ofrecer estos metadatos a partir de esta fecha. Los metadatos de edición proporcionados incluyen los objetos edit&#95;history y edit&#95;controls. Estos metadatos no se devolverán para Publicaciones que se hayan creado antes del 27 de septiembre de 2022. Actualmente, no hay Operadores de Enterprise disponibles que correspondan a estos metadatos. Para obtener más información acerca de los metadatos de Publicación editada, consulta la página [Conceptos básicos sobre Publicaciones editadas](/es/x-api/fundamentals/edit-posts).

<div id="2022">
  #### 2022
</div>

* 29 de septiembre: todos los objetos de Publicación creados a partir de esta fecha tienen disponibles los metadatos de Publicación editada. Todos los endpoints de Enterprise que proporcionan objetos de Publicación se actualizaron para ofrecer estos metadatos a partir de esta fecha. Los metadatos de edición proporcionados incluyen los objetos `edit_history` y `edit_controls`. Estos metadatos no se devolverán para Publicaciones que se hayan creado antes del 27 de septiembre de 2022. Actualmente, no hay Operadores de Enterprise disponibles que coincidan con estos metadatos. Para obtener más información sobre los metadatos de Publicación editada, consulta la página [Fundamentos de la edición de Publicaciones](/es/x-api/fundamentals/edit-posts).

<div id="filtering-tips">
  ### Consejos de filtrado
</div>

Dada toda la información anterior sobre líneas de tiempo, está claro que hay muchos detalles que considerar al escribir filtros para las Search APIs. Hay dos aspectos clave que tener en cuenta:

* Algunos metadatos tienen fechas de creación (“born-on”), por lo que los filtros pueden producir *falsos negativos*. Estas búsquedas incluyen Operators que dependen de metadatos que no existieron durante todo o parte del período de búsqueda. Por ejemplo, si estás buscando Publicaciones con el Operator `has:images`, no obtendrás coincidencias para períodos anteriores a julio de 2011. Esto se debe a que ese Operator busca *fotos nativas* (adjuntas a una Publicación mediante la interfaz de usuario de X). Para obtener un conjunto de datos más completo de Publicaciones con fotos compartidas, los filtros para fechas anteriores a julio de 2011 tendrían que incluir cláusulas de regla que coincidan con URLs comunes de alojamiento de fotos.
* Algunos metadatos se han rellenado retrospectivamente con metadatos de un momento *posterior* a cuando se publicó la Publicación en X.

Hay varios tipos de atributos en los que suele centrarse la atención al crear consultas de PowerTrack:

* Perfiles de X
* Publicaciones originales o compartidas
* Clasificación de idioma de la Publicación
* Publicaciones georreferenciadas
* Contenido multimedia de enlaces compartidos

Algunos de estos tienen un comportamiento específico del producto, mientras que otros tienen un comportamiento idéntico. Consulta la información a continuación para más detalles.

<div id="x-profiles">
  #### Perfiles de X
</div>

Las API de búsqueda devuelven Publicaciones históricas con los datos del perfil de usuario tal como están en el *momento de la recuperación*. Si solicitas una Publicación de 2014, los metadatos del perfil del usuario reflejarán el estado que tenga en el momento de la consulta.

<div id="original-posts-and-retweets">
  #### Publicaciones originales y Retweets
</div>

El operador PowerTrack `_is:retweet_` permite a los usuarios incluir o excluir Retweets. Los usuarios de este operador necesitan tener dos estrategias para gestionar la coincidencia (o no coincidencia) de Retweets en los datos anteriores a agosto de 2009. Antes de agosto de 2009, es necesario revisar el propio mensaje de la Publicación, mediante coincidencia de frase exacta, para encontrar coincidencias con el patrón “@RT ” (en realidad, si estás filtrando Retweets entre mayo y agosto de 2009, deberías incluir el patrón “Via @”). Para los períodos posteriores a agosto de 2009, el operador *is:retweet* está disponible.

<div id="post-language-classifications">
  #### Clasificaciones de idioma de las Publicaciones
</div>

Para filtrar por la clasificación de idioma de una Publicación, los productos históricos de X son bastante diferentes entre sí. Cuando se creó el archivo de Search, todas las Publicaciones se rellenaron retrospectivamente con la clasificación de idioma de X. Por lo tanto, el operador lang: está disponible para todo el archivo de Publicaciones.

<div id="geo-referencing-posts">
  #### Georreferenciación de Publicaciones
</div>

Hay tres formas principales de georreferenciar Publicaciones:

* **Referencias geográficas en el mensaje de la Publicación.** Buscar coincidencias basadas en referencias geográficas en el mensaje de la Publicación, aunque a menudo es el método más desafiante porque depende del conocimiento local, es una opción aplicable a todo el archivo de Publicaciones. [Aquí](https://x.com/biz/statuses/28311) se muestra un ejemplo de coincidencia georreferenciada de 2006 para el área de San Francisco basada en un filtro de ‘golden gate’.

* **Publicaciones con geoetiquetado hecho por el usuario.** Con las API de búsqueda, la posibilidad de empezar a buscar coincidencias en Publicaciones utilizando algunos operadores Geo se introdujo en marzo de 2010, y otros en febrero de 2015:

  * 6 de marzo de 2010: `has:geo`, `bounding_box:` y `point_radius:`
  * 17 de febrero de 2015: `place_country:` y `place:`

* **Ubicación de ‘inicio’ del perfil de la cuenta definida por el usuario.** Los operadores de geolocalización de perfil (Profile Geo Operators) están disponibles tanto en Historical PowerTrack como en las API de búsqueda. Con las API de búsqueda, estos metadatos de Profile Geo están disponibles a partir de febrero de 2015. Para las Publicaciones enviadas antes de que los metadatos de Profile Geo estuvieran disponibles, el operador `bio_location:` está disponible y se puede usar para buscar coincidencias con entradas de usuario no normalizadas.

<div id="shared-links-and-media">
  #### Enlaces compartidos y contenido multimedia
</div>

En marzo de 2012 se introdujo el enriquecimiento de URL ampliada. Hasta entonces, los payloads de la Publicación incluían solo la URL proporcionada por el usuario. Por lo tanto, si el usuario incluía una URL acortada, puede resultar difícil hacer coincidir las URL (ampliadas) de interés. Con las APIs de búsqueda, estos metadatos están disponibles a partir de marzo de 2012.

En julio de 2016 se introdujo el enriquecimiento de URL mejorada. Esta versión mejorada proporciona el título y la descripción HTML de un sitio web en el payload de la Publicación, junto con operadores para hacer coincidencias basadas en ellos. Estos metadatos comienzan a aparecer en diciembre de 2014.

En septiembre de 2016 X introdujo los “native attachments” (archivos adjuntos nativos), donde un enlace compartido al final no cuenta para el límite de 140 caracteres de la Publicación. Ambos enriquecimientos de URL siguen aplicándose a estos enlaces compartidos.

A continuación se indica cuándo comienzan a coincidir los operadores de búsqueda relacionados:

* 26 de octubre de 2006 - `has:links`
* 20 de julio de 2011 - `has:images` y `has:media`
* Agosto de 2011 - `url:` con el [Expanded URLs enrichment](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments). Ya desde septiembre de 2006 `(url:"spotify.com" OR url:gnip OR url:microsoft OR url:google OR url:youtube)` coincide con http://x.com/Adam/statuses/16602, aunque no haya metadatos urls[] en twitter&#95;entities y en los objetos de gnip. &quot;youtube.com&quot; es un ejemplo de contenido de mensaje que, sin ningún metadato urls[], coincide con url:youtube.
* 10 de febrero de 2015 - `has:videos` para videos nativos. Entre 2010/08/28 y 2015/02/10, este operador coincide con Publicaciones que contienen enlaces a algunos sitios de alojamiento de video como youtube.com, vimeo.com y vivo.com.
* 1 de mayo de 2016 - `url_title:` y `url_description:`, basados en el [Enhanced URLs enrichment](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments), de disponibilidad general. Los primeros metadatos de Enhanced URL comenzaron a aparecer en diciembre de 2014.

<div id="frequently-asked-questionsfaq">
  ## Preguntas frecuentes (FAQ)
</div>

<div id="general-search-post-api-questions">
  ### Preguntas generales sobre la API de búsqueda de Publicaciones
</div>

<AccordionGroup>
  <Accordion title="El número de Publicaciones que recibo mediante el endpoint data no coincide con el número de Publicaciones identificado por el endpoint counts. ¿Por qué sucede esto?">
    Existe una diferencia conocida entre los resultados proporcionados por el endpoint de counts y el endpoint de data. Es posible que veas una discrepancia en tus resultados porque el endpoint de counts es previo a la aplicación de las acciones de cumplimiento (es decir, no tiene en cuenta cosas como Publicaciones eliminadas, scrub geo, etc.), mientras que el endpoint de data es conforme a las normas en el momento de la entrega y sí tiene en cuenta todos los eventos de cumplimiento.
  </Accordion>

  <Accordion title="No recibí una Publicación que debería corresponder a mi consulta. ¿Por qué?">
    Hay algunas razones por las que esto puede haber ocurrido, entre ellas:

    1. la Publicación que esperabas ver es de una cuenta protegida
    2. el endpoint de datos tiene en cuenta todos los eventos de cumplimiento normativo (lo que significa que las Publicaciones eliminadas, las geolocalizaciones suprimidas, etc., no se incluirán en la respuesta).
  </Accordion>

  <Accordion title="Mi consulta coincidió con una Publicación, pero contiene una palabra clave que yo había excluido. ¿Por qué sucede esto?">
    Esto probablemente se deba a un uso inadecuado de nuestras reglas y filtrado premium. Revisa nuestra documentación [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering) y asegúrate de comprender las restricciones relacionadas con la creación de reglas.
  </Accordion>

  <Accordion title="¿Existe alguna biblioteca que pueda usar para comenzar a utilizar las APIs de búsqueda de Publicaciones?">
    Sí, existen, entre ellos:

    * [Tweepy](http://www.tweepy.org/) - ideal para usar el producto estándar de búsqueda de Publicaciones (Python)
    * [X API](https://github.com/geduldig/TwitterAPI) - ideal para usar las APIs estándar de Search Post (Python)
    * [Search Posts Python](https://github.com/xdevplatform/search-tweets-python) y [Search Posts Ruby](https://github.com/xdevplatform/search-tweets-ruby) - dos herramientas muy útiles que se pueden usar con las APIs de Search Post de Enterprise (y v2)

    Todas las bibliotecas que admitimos directamente se pueden encontrar en nuestra página de GitHub de xdevplatform: [https://github.com/xdevplatform](https://github.com/xdevplatform).

    Hay [otras bibliotecas de terceros](/es/resources/fundamentals/authentication#oauth-1-0a-2) que también pueden ser útiles; sin embargo, ten en cuenta que es posible que algunas de ellas no funcionen con nuestros productos premium y de Enterprise.
  </Accordion>

  <Accordion title="¿Alguna vez recibiré un volumen de Publicaciones inferior al valor que establecí como `maxResults` en mi solicitud al endpoint de datos?">
    Sí. Nuestro endpoint de datos aplica paginación ya sea en el valor especificado en `maxResults` o después de 30 días.

    Por ejemplo, si tienes 800 Publicaciones en un período de 30 días, tendrás que hacer dos solicitudes para obtener todos los resultados, porque el número máximo de Publicaciones que se pueden devolver por solicitud es 500 (`maxResults`). Y si solo tienes 400 Publicaciones en el primer mes y luego 100 Publicaciones en el segundo mes, también tendrás que hacer dos solicitudes para obtener todos los resultados, porque la paginación se realiza después de un período de 30 días incluso si la primera solicitud devuelve menos Publicaciones que el valor especificado en `maxResults`.
  </Accordion>

  <Accordion title="¿En qué orden se devuelven las Publicaciones que coinciden?">
    Las publicaciones se devuelven en orden cronológico inverso. Por ejemplo, la primera página de resultados mostrará las publicaciones más recientes que coincidan con la consulta, y la paginación continuará hasta que las fechas de publicación de los resultados alcancen el `fromDate` solicitado inicialmente.
  </Accordion>

  <Accordion title="¿Cómo influye Editar Publicaciones en mi uso y mi facturación?">
    Solo la Publicación original contará con fines de facturación. Cualquier edición posterior se ignorará y no se sumará a tu cantidad total de actividad. 

    `Enterprise`
  </Accordion>

  <Accordion title="Estoy interesado en obtener más información sobre los precios de la Enterprise Search Post API y en solicitar esta oferta. ¿Cómo puedo hacerlo?">
    Nuestras soluciones Enterprise se personalizan con precios predecibles para satisfacer las necesidades de tu empresa. Presenta tu solicitud [aquí](/es/x-api/enterprise-gnip-2.0/enterprise-gnip) para obtener más información.
  </Accordion>

  <Accordion title="¿Cómo creo un conjunto de reglas que se adapte a mi caso de uso?">
    * Consulta la documentación de nuestras APIs Enterprise de Search Post [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-search-apis)
    * Puedes encontrar información útil sobre reglas y filtrado [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#enterprise-operators)
    * Puedes encontrar información útil sobre el uso del endpoint de data [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#data-endpoint)
    * Puedes encontrar información útil sobre el uso del endpoint de counts [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#counts-endpoint)
    * Puedes encontrar una lista de operadores disponibles [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators)
  </Accordion>

  <Accordion title="He superado el límite mensual de solicitudes, pero necesito acceder a más datos. ¿Qué puedo hacer?">
    Ponte en contacto con tu representante de cuenta de X, quien podrá ayudarte con esto.
  </Accordion>
</AccordionGroup>

<div id="error-troubleshooting-guide">
  ### Guía para la solución de problemas de errores
</div>

**Código 404 - Not Found**

1. Asegúrate de usar los parámetros correctos para cada endpoint (por ejemplo, el campo `buckets` solo se puede usar con el endpoint de counts, no con el endpoint de data).
2. Vuelve a comprobar que los campos `:product`, `:account_name` y `:label` sean correctos. Puedes encontrar tu campo `:label` en la GNIP Console (solo clientes Enterprise).

<div id="api-reference">
  ## Referencia de la API
</div>

<div id="enterprise-search-apis">
  ### Enterprise search APIs
</div>

Existen dos APIs de búsqueda Enterprise:

* 30-Day Search API: proporciona Publicaciones realizadas en los últimos 30 días.
* Full-Archive Search API: proporciona Publicaciones desde el año 2006, comenzando con la primera Publicación realizada en marzo de 2006.

Estas APIs de búsqueda comparten un diseño común y la documentación a continuación se aplica a ambas. Ten en cuenta que, para las Publicaciones creadas a partir del 29 de septiembre de 2022, los objetos de Publicación incluirán metadatos de edición de la Publicación que describen su historial de ediciones. Consulta la página de conceptos básicos [&quot;Edit Tweets&quot;](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets) para obtener más detalles.

A continuación encontrarás detalles importantes necesarios para integrarte con las APIs de búsqueda Enterprise:

* Métodos para solicitar datos de Publicaciones y conteos
* Autenticación
* Paginación
* Parámetros de solicitud de la API y ejemplos de solicitudes
* Cargas JSON de respuesta de la API y ejemplos de respuestas
* Códigos de respuesta HTTP

Las APIs Enterprise proporcionan acceso de baja latencia, fidelidad completa y basado en consultas al archivo de Publicaciones. La única diferencia entre las dos APIs es el período de tiempo que puedes consultar, ya sea los 30 días anteriores o desde el año 2006. Los períodos de tiempo se pueden especificar con granularidad de minutos. Los datos de Publicaciones se sirven en orden cronológico inverso, comenzando por la Publicación más reciente que coincida con tu consulta. Las Publicaciones están disponibles a través de la API de búsqueda aproximadamente 30 segundos después de haber sido publicadas.

<div id="methods">
  #### Métodos
</div>

El URI base para la búsqueda Enterprise es `https://gnip-api.x.com/search/`.

| Método | Descripción |
| :--- | :--- |
| [POST /search/:product/accounts/:account&#95;name/:label](#SearchRequests) | Recuperar Publicaciones de los últimos 30 días que coincidan con la regla de PowerTrack especificada. |
| [POST /search/:product/accounts/:account&#95;name/:label/counts](#CountRequests) | Recuperar la cantidad de Publicaciones de los últimos 30 días que coincidan con la regla de PowerTrack especificada. |

Donde:

* `:product` indica el endpoint de búsqueda al que está realizando solicitudes, ya sea `30day` o `fullarchive`.
* `:account_name` es el nombre (sensible a mayúsculas y minúsculas) asociado con su cuenta, tal como se muestra en console.gnip.com
* `:label` es la etiqueta (sensible a mayúsculas y minúsculas) asociada con su endpoint de búsqueda, tal como se muestra en console.gnip.com

Por ejemplo, si la cuenta TwitterDev tiene el producto de búsqueda de 30 días con una etiqueta &quot;prod&quot; (abreviatura de producción), los endpoints de búsqueda serían:

* Endpoint de datos: [https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod.json](https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod.json)
* Endpoint de conteos: [https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod/counts.json](https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod/counts.json)

Su endpoint completo de la API de búsqueda Enterprise se muestra en [https://console.gnip.com](https://console.gnip.com).

A continuación, se muestran varios ejemplos de solicitudes utilizando una sencilla utilidad HTTP llamada curl. Estos ejemplos usan URL con `:product`, `:account_name` y `:label`. Para usar estos ejemplos, asegúrese de actualizar las URL con sus datos.

<div id="authentication">
  #### Autenticación
</div>

Todas las solicitudes a las API de búsqueda de Enterprise deben usar la autenticación básica de HTTP (*HTTP Basic Authentication*), construida a partir de una combinación válida de dirección de correo electrónico y contraseña utilizada para iniciar sesión en su cuenta en [https://console.gnip.com](https://console.gnip.com). Las credenciales deben enviarse en el encabezado *Authorization* en cada solicitud.

<div id="requestresponse-behavior">
  #### Comportamiento de las solicitudes y respuestas
</div>

Usando los parámetros `fromDate` y `toDate`, puedes solicitar cualquier período de tiempo que la API admita. La API de búsqueda de 30 días proporciona Publicaciones de los 31 días más recientes (aunque se la denomine API de &quot;30 días&quot;, pone a disposición 31 días para permitir que los usuarios realicen solicitudes que abarquen meses completos). La API de búsqueda de archivo completo proporciona Publicaciones desde la primera publicación (21 de marzo de 2006). Sin embargo, una sola respuesta estará limitada al menor valor entre tu `maxResults` especificado o 31 días. Si los datos que coinciden o tu rango de tiempo superan tu `maxResults` especificado o los 31 días, recibirás un token &#39;next&#39; que deberás usar para paginar el resto del período de tiempo especificado.

Por ejemplo, supongamos que estás usando la búsqueda de archivo completo y quieres todas las Publicaciones que coincidan con tu consulta desde el 1 de enero de 2017 hasta el 30 de junio de 2017. Especificarás ese período completo de seis meses en tu solicitud usando los parámetros `fromDate` y `toDate`. La API de búsqueda responderá con la primera &quot;página&quot; de Publicaciones, con el número de Publicaciones que coincidan con tu parámetro `maxResults` (que tiene un valor predeterminado de 100). Suponiendo que haya más Publicaciones (y lo más probable es que sí las haya), la API también proporcionará un token &#39;next&#39; que te permitirá realizar una solicitud para la siguiente &quot;página&quot; de datos. Este proceso se repite hasta que la API ya no devuelve un token &#39;next&#39;. Consulta la siguiente sección para obtener más detalles.

<div id="pagination">
  #### Paginación
</div>

Al realizar solicitudes tanto de datos como de cantidad, es probable que haya más datos de los que se puedan devolver en una sola respuesta. Cuando sea así, la respuesta incluirá un token &quot;next&quot;. El token &quot;next&quot; se proporciona como un atributo JSON de nivel raíz. Siempre que se proporcione un token &quot;next&quot;, habrá datos adicionales que recuperar, por lo que se deberán seguir realizando solicitudes a la API.

**Nota:** El comportamiento del token &quot;next&quot; difiere ligeramente entre las solicitudes de datos y de cantidad, y ambos se describen a continuación, con respuestas de ejemplo incluidas en la sección de Referencia de la API.

<div id="data-pagination">
  ##### Data pagination
</div>

Las solicitudes de datos probablemente generarán más datos de los que se pueden devolver en una sola respuesta. Cada solicitud de datos incluye un parámetro que establece el número máximo de Publicaciones que se devolverán por solicitud. Este parámetro `maxResults` tiene un valor predeterminado de 100 y se puede configurar en un rango de 10 a 500. Si tu consulta devuelve más Publicaciones que las permitidas por el parámetro `maxResults` usado en la solicitud, la respuesta incluirá un token `next` (como un atributo JSON de nivel raíz). Este token `next` se utiliza en la solicitud posterior para recuperar la siguiente parte de las Publicaciones que coinciden con esa consulta (es decir, la siguiente &quot;page&quot;). Se seguirán proporcionando tokens `next` hasta que hayas llegado a la última &quot;page&quot; de resultados para esa consulta, momento en el que ya no se proporcionará ningún token `next`.

Para solicitar la siguiente &quot;page&quot; de datos, debes realizar exactamente la misma consulta que la original, incluidos los parámetros `query`, `toDate` y `fromDate`, si se utilizaron, y también incluir un parámetro de solicitud `next` establecido en el valor de la respuesta anterior. Esto se puede utilizar tanto con una solicitud GET como con una POST. Sin embargo, el parámetro `next` debe estar codificado en la URL en el caso de una solicitud GET.

Puedes seguir enviando el elemento `next` de tu consulta anterior hasta que hayas recibido todas las Publicaciones del período de tiempo cubierto por tu consulta. Cuando recibas una respuesta que no incluya un elemento `next`, significará que has llegado a la última página y que no hay datos adicionales disponibles para la consulta y el intervalo de tiempo especificados.

<div id="counts-pagination">
  ##### Paginación de counts
</div>

El endpoint `counts` proporciona volúmenes de Publicaciones asociados a una consulta con granularidad diaria, por hora o por minuto. El endpoint de la API `counts` devolverá un array de recuentos con marca de tiempo para un máximo de 31 días de recuentos. Si solicitas más de 31 días de recuentos, se te proporcionará un token `next`. Al igual que con los tokens `next` de datos, debes realizar exactamente la misma consulta que la original e incluir también un parámetro de solicitud `next` establecido con el valor de la respuesta anterior.

Además de solicitar más de 31 días de recuentos, hay otro escenario en el que se proporciona un token `next`. Para consultas de mayor volumen, existe la posibilidad de que la generación de recuentos tarde lo suficiente como para activar un timeout de la respuesta. Cuando esto ocurre, recibirás menos de 31 días de recuentos, pero se te proporcionará un token `next` para que puedas seguir realizando solicitudes hasta obtener toda la carga de recuentos. ***Importante:*** Los timeouts solo devolverán “bloques” completos; por lo tanto, 2.5 días darían como resultado 2 “bloques” de días completos.

<div id="additional-notes">
  ##### Notas adicionales
</div>

* Cuando utilices un fromDate o toDate en una solicitud de búsqueda, solo obtendrás resultados dentro de tu rango de tiempo. Cuando alcances el último grupo de resultados dentro de tu rango de tiempo, no recibirás un token &#39;next&#39;.
* El elemento &#39;next&#39; se puede usar con cualquier valor de maxResults entre 10 y 500 (con un valor predeterminado de 100). El parámetro maxResults determina cuántas Publicaciones se devuelven en cada respuesta, pero no impide que eventualmente termines obteniendo todos los resultados.
* El elemento &#39;next&#39; no caduca. Varias solicitudes que usen la misma consulta con &#39;next&#39; recibirán los mismos resultados, sin importar cuándo se haga la solicitud.
* Al paginar resultados usando el parámetro &#39;next&#39;, puedes encontrar duplicados en los límites de la consulta. Tu aplicación debe ser tolerante a estos.

<div id="data-endpoint">
  #### Endpoint de datos
</div>

<div id="post-searchproductlabel">
  ##### POST /search/:product/:label
</div>

<div id="endpoint-pattern">
  ###### Patrón del endpoint:
</div>

Este endpoint devuelve datos para la consulta y el período de tiempo especificados. Si no se especifica un período de tiempo, los parámetros de tiempo tendrán como valor por defecto los últimos 30 días. Nota: Esta funcionalidad también se puede conseguir usando una solicitud GET, en lugar de una solicitud POST, codificando en la URL los parámetros descritos a continuación.

<div id="data-request-parameters">
  ##### Parámetros de solicitud de datos
</div>

| Parámetros | Descripción | Obligatorio | Valor de ejemplo |
| :--- | :--- | :--- | :--- |
| query | El equivalente a una regla de PowerTrack, con hasta 2.048 caracteres (sin límites en el número de cláusulas positivas y negativas).  <br />  <br />Este parámetro debe incluir TODAS las partes de la regla de PowerTrack, incluidos todos los operadores; las partes de la regla no deben separarse en otros parámetros de la consulta.  <br />  <br />**Nota:** No todos los operadores de PowerTrack están admitidos. Los operadores admitidos se enumeran [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators). | Sí | (snow OR cold OR blizzard) weather |
| tag | Las etiquetas pueden utilizarse para organizar reglas y sus datos coincidentes en distintos grupos lógicos. Si se proporciona una etiqueta de regla, esta se incluye en el atributo `matching_rules`.  <br />  <br />Se recomienda asignar UUID específicos de regla a las etiquetas de regla y mantener las asociaciones deseadas en el lado del cliente. | No  | 8HYG54ZGTU |
| fromDate | La marca de tiempo UTC más antigua (hasta el 21/3/2006 con la búsqueda de archivo completo) a partir de la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y es inclusiva (es decir, 12:00 incluye el minuto 00).  <br />  <br />*Especificado:* Usar solo fromDate sin el parámetro toDate entregará resultados para la consulta retrocediendo en el tiempo desde now() hasta fromDate.  <br />  <br />*No especificado:* Si no se especifica un fromDate, la API entregará todos los resultados de los 30 días anteriores a now() o a toDate (si se especifica).  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará todos los resultados de los 30 días más recientes, comenzando en el momento de la solicitud y retrocediendo. | No  | 201207220000 |
| toDate | La marca de tiempo UTC más reciente hasta la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y no es inclusiva (es decir, 11:59 no incluye el minuto 59 de la hora).  <br />  <br />*Especificado:* Usar solo toDate sin el parámetro fromDate entregará los 30 días más recientes de datos anteriores a toDate.  <br />  <br />*No especificado:* Si no se especifica un toDate, la API entregará todos los resultados desde now() para la consulta retrocediendo en el tiempo hasta fromDate.  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará todos los resultados para todo el índice de 30 días, comenzando en el momento de la solicitud y retrocediendo. | No  | 201208220000 |
| maxResults | El número máximo de resultados de búsqueda que se devolverán en una solicitud. Un número entre 10 y el límite del sistema (actualmente 500). De forma predeterminada, la respuesta de una solicitud devolverá 100 resultados. | No  | 500 |
| next | Este parámetro se utiliza para obtener la siguiente &quot;página&quot; de resultados, como se describe [AQUÍ](#Pagination). El valor utilizado con el parámetro se extrae directamente de la respuesta proporcionada por la API y no debe modificarse. | No  | NTcxODIyMDMyODMwMjU1MTA0 |

<div id="additional-details">
  ###### Detalles adicionales
</div>

|     |     |
| :--- | :--- |
| **Available Timeframe** | 30-Day: últimos 31 días  <br />Full-Archive: archivo completo desde el 21 de marzo de 2006 hasta la fecha |
| **Query Format** | El equivalente a una regla de PowerTrack, con hasta 2.048 caracteres (y sin límites en la cantidad de cláusulas positivas y negativas).  <br />  <br />**Nota:** No todos los operadores de PowerTrack son compatibles. Consulta [Operadores disponibles](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para ver una lista de los operadores compatibles. |
| **Rate Limit** | Los socios estarán sujetos a límites de frecuencia tanto por minuto como por segundo. El límite de frecuencia por minuto variará según el socio, tal como se especifique en tu contrato. Sin embargo, estos límites de frecuencia por minuto no están pensados para usarse en una sola ráfaga. Independientemente de tu límite de frecuencia por minuto, todos los socios estarán limitados a un máximo de 20 solicitudes por segundo, sumadas entre todas las solicitudes de datos y/o conteos. |
| **Compliance** | Todos los datos entregados a través de la Full-Archive Search API cumplen con las normas en el momento de la entrega. |
| **Realtime Availability** | Los datos están disponibles en el índice dentro de los 30 segundos posteriores a su generación en la plataforma de X. |

<div id="example-data-requests-and-responses">
  ##### Ejemplos de solicitudes y respuestas
</div>

<div id="example-post-request">
  ###### Ejemplo de solicitud POST
</div>

* Los parámetros de una solicitud POST se envían en un cuerpo con formato JSON, como se muestra a continuación.
* Todos los componentes de la regla de PowerTrack que se van a consultar (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben incluirse en el parámetro &#39;query&#39;.
* No separe componentes de la regla como parámetros independientes en la URL de la consulta.

A continuación se muestra un comando POST de ejemplo (usando cURL) para realizar una solicitud inicial de datos:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label.json" -d '{"query":"from:twitterDev","maxResults":500,"fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm"}'
```

Si la respuesta de la API incluye un token &#39;next&#39;, a continuación se muestra una solicitud posterior que es la misma que la solicitud original, con el parámetro &#39;next&#39; establecido en el token proporcionado:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label.json" -d '{"query":"from:twitterDev","maxResults":500,"fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm",
    "next":"NTcxODIyMDMyODMwMjU1MTA0"}'
```

<div id="example-get-request">
  ###### Ejemplo de solicitud GET
</div>

* Los parámetros de una solicitud GET se codifican en la URL mediante la codificación estándar de URL.
* Todos los componentes de la regla de PowerTrack que se están consultando (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;.
* No separe componentes de la regla como parámetros individuales en la URL de la consulta.

Este es un ejemplo de comando GET (usando cURL) para realizar una solicitud inicial de datos:

```bash
    curl -u<username> "http://gnip-api.x.com/search/:product/accounts/:account_name/:label.json?query=from%3Atwitterdev&maxResults=500&fromDate=yyyymmddhhmm&toDate=yyyymmddhhmm"
```

<div id="example-data-responses">
  ###### Ejemplos de respuestas de datos
</div>

Ten en cuenta que, para las Publicaciones creadas a partir del 29 de septiembre de 2022, los objetos de Publicación incluirán metadatos de edición que describen su historial de ediciones. Consulta la página de fundamentos [&quot;Edit Tweets&quot;](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets) para obtener más detalles.

A continuación se muestra un ejemplo de respuesta a una consulta de datos. Este ejemplo asume que había más Publicaciones disponibles que &#39;maxResults&#39;, por lo que se proporciona un token &#39;next&#39; para solicitudes posteriores. Si &#39;maxResults&#39; o menos Publicaciones están asociadas con tu consulta, no se incluirá ningún token &#39;next&#39; en la respuesta.
El valor del elemento &#39;next&#39; cambiará con cada consulta y debe tratarse como una cadena opaca. El elemento &#39;next&#39; tendrá el siguiente aspecto en el cuerpo de la respuesta:

```json
{
    "results":
      [
            {--Publicación 1--},
            {--Publicación 2--},
            ...
            {--Publicación 500--}
      ],
    "next":"NTcxODIyMDMyODMwMjU1MTA0",
    "requestParameters":
      {
        "maxResults":500,
        "fromDate":"201101010000",
        "toDate":"201201010000"
      }
  }
```

La respuesta a una solicitud posterior podría verse como la siguiente (ten en cuenta las nuevas Publicaciones y el nuevo valor de &#39;next&#39;):

```json
{
      "results":
      [
            {--Tweet 501--},
            {--Tweet 502--},
            ...
            {--Tweet 1000--}
      ],
      "next":"R2hCDbpBFR6eLXGwiRF1cQ",
      "requestParameters":
      {
        "maxResults":500,
        "fromDate":"201101010000",
        "toDate":"201201010000"
      }
  }
```

Puedes seguir enviando el elemento &#39;next&#39; de tu consulta anterior hasta que hayas recibido todas las Publicaciones correspondientes al período de tiempo cubierto por tu consulta. Cuando recibas una respuesta que no incluya un elemento &#39;next&#39;, significará que has llegado a la última página y que no hay datos adicionales disponibles para tu intervalo de tiempo.

<div id="counts-endpoint">
  #### Endpoint de recuentos
</div>

<div id="searchstreamcounts">
  ##### /search/:stream/counts
</div>

<div id="endpoint-pattern">
  ###### Patrón del endpoint:
</div>

`/search/fullarchive/accounts/:account_name/:label/counts.json`

Este endpoint devuelve datos de recuentos (volúmenes de datos) para la consulta especificada. Si no se especifica un período de tiempo, los parámetros de tiempo tendrán como valor predeterminado los últimos 30 días. Los volúmenes de datos se devuelven como un array con marcas de tiempo, ya sea a nivel diario, por hora (predeterminado) o por minuto.

**Nota:** Esta funcionalidad también se puede obtener usando una solicitud GET, en lugar de una solicitud POST, codificando en la URL los parámetros descritos a continuación.

<div id="counts-request-parameters">
  ##### Parámetros de la solicitud de conteos
</div>

| Parámetros | Descripción | Obligatorio | Valor de ejemplo |
| :--- | :--- | :--- | :--- |
| query | El equivalente a una regla de PowerTrack, con hasta 2.048 caracteres (y sin límites en la cantidad de cláusulas positivas y negativas).  <br />  <br />Este parámetro debe incluir TODAS las partes de la regla de PowerTrack, incluidos todos los operadores, y no se deben separar partes de la regla en otros parámetros de la consulta.  <br />  <br />**Nota:** No se admiten todos los operadores de PowerTrack. Consulta [Operadores disponibles](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para ver una lista de los operadores admitidos. | Sí | (snow OR cold OR blizzard) weather |
| fromDate | La marca de tiempo UTC más antigua (hasta el 21/3/2006) desde la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y es inclusiva (es decir, 12:00 incluye el minuto 00).  <br />  <br />*Especificado:* Si solo se usa fromDate sin el parámetro toDate, la API entregará conteos (volúmenes de datos) para la consulta hacia atrás en el tiempo desde ahora hasta fromDate. Si fromDate es anterior a 31 días desde ahora(), recibirás un next token para paginar tu solicitud.  <br />  <br />*No especificado:* Si no se especifica un fromDate, la API entregará conteos (volúmenes de datos) correspondientes a los 30 días previos a ahora() o a toDate (si se especifica).  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará conteos (volúmenes de datos) para los 30 días más recientes, comenzando en el momento de la solicitud y yendo hacia atrás en el tiempo. | No  | 201207220000 |
| toDate | La marca de tiempo UTC más reciente hasta la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y no es inclusiva (es decir, 11:59 no incluye el minuto 59 de la hora).  <br />  <br />*Especificado:* Si solo se usa toDate sin el parámetro fromDate, se entregarán los conteos (volúmenes de datos) más recientes correspondientes a los 30 días previos a toDate.  <br />  <br />*No especificado:* Si no se especifica un toDate, la API entregará conteos (volúmenes de datos) para la consulta hacia atrás en el tiempo hasta fromDate. Si fromDate es más de 31 días antes de ahora(), recibirás un next token para paginar tu solicitud.  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará conteos (volúmenes de datos) para los 30 días más recientes, comenzando en el momento de la solicitud y yendo hacia atrás en el tiempo. | No  | 201208220000 |
| bucket | La unidad de tiempo para la cual se proporcionarán los datos de conteos. Los datos de conteos se pueden devolver para cada día, hora o minuto dentro del periodo solicitado. De forma predeterminada, se proporcionarán conteos por hora. Opciones: &#39;day&#39;, &#39;hour&#39;, &#39;minute&#39; | No  | minute |
| next | Este parámetro se utiliza para obtener la siguiente &quot;page&quot; de resultados, tal como se describe [AQUÍ](#Pagination). El valor utilizado con el parámetro se toma directamente de la respuesta proporcionada por la API y no debe modificarse. | No  | NTcxODIyMDMyODMwMjU1MTA0 |

<div id="additional-details">
  ###### Detalles adicionales
</div>

|     |     |
| :--- | :--- |
| **Periodo de tiempo disponible** | 30-Day: últimos 31 días  <br />Full-Archive: 21 de marzo de 2006 - presente |
| **Formato de consulta** | Equivalente a una regla de PowerTrack, con hasta 2.048 caracteres.  <br />  <br />**Nota:** No todos los operadores de PowerTrack son compatibles. Consulta [Operadores disponibles](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para ver la lista de operadores admitidos. |
| **Límite de frecuencia** | Los partners tendrán límites de frecuencia con granularidad tanto por minuto como por segundo. El límite de frecuencia por minuto variará según el partner, tal como se especifica en tu contrato. Sin embargo, estos límites de frecuencia por minuto no están diseñados para utilizarse en una sola ráfaga. Independientemente de tu límite de frecuencia por minuto, todos los partners estarán limitados a un máximo de 20 solicitudes por segundo, agregadas entre todas las solicitudes de datos y/o de conteos. |
| **Precisión del conteo** | Los conteos proporcionados a través de este endpoint reflejan la cantidad de Publicaciones que se produjeron y no reflejan ningún evento de cumplimiento posterior (eliminaciones, scrub geos). Es posible que algunas Publicaciones contabilizadas no estén disponibles a través del endpoint de datos debido a acciones de cumplimiento del usuario. |

<div id="example-counts-requests-and-responses">
  ##### Ejemplos de solicitudes y respuestas de counts
</div>

<div id="example-post-request">
  ###### Ejemplo de solicitud POST
</div>

* Los parámetros de una solicitud POST se envían mediante un cuerpo con formato JSON, como se muestra a continuación.
* Todas las partes de la regla de PowerTrack que se está consultando (por ejemplo, palabras clave, otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;.
* No separe partes de la regla como parámetros independientes en la URL de la consulta.

Aquí se muestra un ejemplo de comando POST (usando cURL) para realizar una solicitud inicial de conteos:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label/counts.json" -d '{"query":"TwitterDev","fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm","bucket":"day"}'
```

Si la respuesta de counts de la API incluye un token &#39;next&#39;, a continuación se muestra una solicitud subsiguiente que consiste en la solicitud original, con el parámetro &#39;next&#39; establecido en el token proporcionado:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label/counts.json" -d '{"query":"TwitterDev","fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm","bucket":"day",
    "next":"YUcxO87yMDMyODMwMjU1MTA0"}'
```

<div id="example-get-request">
  ###### Ejemplo de solicitud GET
</div>

* Los parámetros en una solicitud GET se codifican en la URL usando la codificación de URL estándar
* Todas las partes de la regla de PowerTrack para las que se está realizando la consulta (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;
* No descomponga partes de la regla en parámetros independientes dentro de la URL de la consulta

Este es un comando GET de ejemplo (usando cURL) para realizar una solicitud inicial de counts:

```bash
    curl -u<username> "http://gnip-api.x.com/search/fullarchive/accounts/:account_name/:label/counts.json?query=TwitterDev&bucket=day&fromDate=yyyymmddhhmm&toDate=yyyymmddhhmm"
```

<div id="example-counts-responses">
  #### Ejemplos de respuestas de recuentos
</div>

A continuación se muestra un ejemplo de respuesta a una consulta de recuentos (volumen de datos). Esta respuesta de ejemplo incluye un token de &#39;next&#39;, lo que significa que la solicitud de recuentos abarcó más de 31 días o que la consulta enviada tenía un volumen asociado lo suficientemente grande como para generar una respuesta parcial.

El valor del elemento &#39;next&#39; cambiará con cada consulta y debe tratarse como una cadena opaca. El elemento &#39;next&#39; tendrá el siguiente aspecto en el cuerpo de la respuesta:

```json
    {
      "results": [
        { "timePeriod": "201101010000", "count": 32 },
        { "timePeriod": "201101020000", "count": 45 },
        { "timePeriod": "201101030000", "count": 57 },
        { "timePeriod": "201101040000", "count": 123 },
        { "timePeriod": "201101050000", "count": 134 },
        { "timePeriod": "201101060000", "count": 120 },
        { "timePeriod": "201101070000", "count": 43 },
        { "timePeriod": "201101080000", "count": 65 },
        { "timePeriod": "201101090000", "count": 85 },
        { "timePeriod": "201101100000", "count": 32 },
        { "timePeriod": "201101110000", "count": 23 },
        { "timePeriod": "201101120000", "count": 85 },
        { "timePeriod": "201101130000", "count": 32 },
        { "timePeriod": "201101140000", "count": 95 },
        { "timePeriod": "201101150000", "count": 109 },
        { "timePeriod": "201101160000", "count": 34 },
        { "timePeriod": "201101170000", "count": 74 },
        { "timePeriod": "201101180000", "count": 24 },
        { "timePeriod": "201101190000", "count": 90 },
        { "timePeriod": "201101200000", "count": 85 },
        { "timePeriod": "201101210000", "count": 93 },
        { "timePeriod": "201101220000", "count": 48 },
        { "timePeriod": "201101230000", "count": 37 },
        { "timePeriod": "201101240000", "count": 54 },
        { "timePeriod": "201101250000", "count": 52 },
        { "timePeriod": "201101260000", "count": 84 },
        { "timePeriod": "201101270000", "count": 120 },
        { "timePeriod": "201101280000", "count": 34 },
        { "timePeriod": "201101290000", "count": 83 },
        { "timePeriod": "201101300000", "count": 23 },
        { "timePeriod": "201101310000", "count": 12 }
       ],
      "totalCount":2027,
      "next":"NTcxODIyMDMyODMwMjU1MTA0",
      "requestParameters":
        {
          "bucket":"day",
          "fromDate":"201101010000",
          "toDate":"201201010000"
        }
    }
```

La respuesta a una solicitud posterior podría verse como sigue (ten en cuenta la nueva línea de tiempo de recuentos y el valor &#39;next&#39; diferente):

```json
    {
      "results": [
        { "timePeriod": "201102010000", "count": 45 },
        { "timePeriod": "201102020000", "count": 76 },
         ....
        { "timePeriod": "201103030000", "count": 13 }
     ],
     "totalCount":3288,
     "next":"WE79fnakFanyMDMyODMwMjU1MTA0",
     "requestParameters":
        {
          "bucket":"day",
          "fromDate":"201101010000",
          "toDate":"201201010000"
        }
    }
```

Puedes seguir utilizando el elemento &#39;next&#39; de tu consulta anterior hasta que hayas recibido todas las cantidades del período de tiempo de la consulta. Cuando recibas una respuesta que no incluya un elemento &#39;next&#39;, significa que has llegado a la última página y no hay cantidades adicionales disponibles en tu intervalo de tiempo.

<div id="http-response-codes">
  #### Códigos de respuesta HTTP
</div>

| Estado | Texto | Descripción |
| :--- | :--- | :--- |
| 200 | OK  | La solicitud se realizó correctamente. La respuesta JSON será similar a la siguiente: |
| 400 | Bad Request | Generalmente, esta respuesta se produce debido a la presencia de JSON no válido en la solicitud o cuando la solicitud no envía ningún cuerpo (payload) JSON. |
| 401 | Unauthorized | La autenticación HTTP falló debido a credenciales no válidas. Inicia sesión en console.gnip.com con tus credenciales para asegurarte de que las estás usando correctamente en tu solicitud. |
| 404 | Not Found | El recurso no se encontró en la URL a la que se envió la solicitud, probablemente porque se utilizó una URL incorrecta. |
| 422 | Unprocessable Entity | Se devuelve debido a parámetros no válidos en la consulta (por ejemplo, reglas de PowerTrack no válidas). |
| 429 | Unknown Code | Tu aplicación ha superado el límite de solicitudes de conexión. El mensaje JSON correspondiente será similar al siguiente: |
| 500 | Internal Server Error | Se produjo un error en el lado del servidor. Vuelve a intentar tu solicitud utilizando un patrón de reintentos exponenciales. |
| 502 | Proxy Error | Se produjo un error en el lado del servidor. Vuelve a intentar tu solicitud utilizando un patrón de reintentos exponenciales. |
| 503 | Service Unavailable | Se produjo un error en el lado del servidor. Vuelve a intentar tu solicitud utilizando un patrón de reintentos exponenciales. |