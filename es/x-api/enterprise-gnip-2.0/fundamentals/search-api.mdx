---
title: "API de búsqueda: Enterprise"
sidebarTitle: API de búsqueda
keywords: ["búsqueda Enterprise", "búsqueda GNIP", "API de búsqueda Enterprise", "API de búsqueda Enterprise", "endpoints de búsqueda Enterprise"]
---

> **Ten en cuenta lo siguiente:**
>
> Hemos publicado una nueva versión de la [búsqueda de Publicaciones](/es/x-api/posts/search/introduction) y del [recuento de Publicaciones](/es/x-api/posts/counts/introduction) en [X API v2](/es/x-api/getting-started/about-x-api). Te recomendamos [revisar qué hay de nuevo](/es/x-api/migrate/overview) con X API v2. 
>
> Estos endpoints se han actualizado para incluir metadatos sobre la edición de Publicaciones. Obtén más información sobre estos metadatos en la página de conceptos básicos [«Editar Publicaciones»](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets). 

<div id="overview">
  ## Overview
</div>

`Enterprise`

*Las API Enterprise están disponibles solo dentro de nuestros niveles de acceso administrado. Para usar estas API, primero debes crear una cuenta con nuestro equipo de ventas Enterprise. Para obtener más información, consulta [AQUÍ](https://developer.x.com/en/products/x-api/enterprise).*

*Puedes ver todas las ofertas de búsqueda de Publicaciones de X API [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api).*

Hay dos API de búsqueda Enterprise:

1. La 30-Day Search API proporciona datos de los 30 días anteriores.
2. La Full-Archive Search API proporciona acceso completo e instantáneo al corpus completo de datos de X que se remonta hasta la primera Publicación en marzo de 2006.

Estas API RESTful admiten una única consulta de hasta 2.048 caracteres por solicitud. Las consultas se escriben con la sintaxis de reglas de PowerTrack; consulta [Rules and filtering](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#getting-started-with-enterprise-rules-and-queries) para más detalles. Los usuarios pueden especificar cualquier período de tiempo, con granularidad de hasta un minuto. Sin embargo, las respuestas se limitarán al menor valor entre tu maxResults especificado O 31 días e incluirán un next token para paginar el siguiente conjunto de resultados. Si no se especifican parámetros de tiempo, la API devolverá los datos coincidentes de los 30 días más recientes.

Las API de búsqueda Enterprise proporcionan acceso de baja latencia y fidelidad completa al archivo de Publicaciones, basado en consultas y con granularidad de minutos. Los datos de Publicaciones se sirven en orden cronológico inverso, comenzando con la Publicación más reciente que coincida con tu consulta. Las Publicaciones están disponibles desde la API de búsqueda aproximadamente 30 segundos después de ser publicadas.

Estos endpoints de búsqueda proporcionan metadatos de Publicaciones editadas. Todos los objetos de Publicaciones creadas desde el 29 de septiembre de 2022 incluyen metadatos de edición de Publicación, incluso si la Publicación nunca fue editada. Cada vez que se edita una Publicación, se crea un nuevo ID de la Publicación. El historial de edición de una Publicación se documenta mediante un array de IDs de Publicación, comenzando con el ID original.

Estos endpoints siempre devolverán la edición más reciente, junto con cualquier historial de edición. Cualquier Publicación recopilada después de su ventana de edición de 30 minutos representará su versión final. Para obtener más información sobre los metadatos de Edit Post, consulta la página [Edit Posts fundamentals](/es/x-api/fundamentals/edit-posts).

Las solicitudes incluyen un parámetro maxResults que especifica la cantidad máxima de Publicaciones que se devolverán por respuesta de la API. Si hay más Publicaciones asociadas con la consulta que esta cantidad máxima de resultados por respuesta, se incluye un next token en la respuesta. Estos next tokens se usan en solicitudes posteriores para paginar todo el conjunto de Publicaciones asociadas con la consulta.

Estas API de búsqueda Enterprise proporcionan un endpoint de *counts* que permite a los usuarios solicitar el volumen de datos asociado con su consulta. 

<div id="request-types">
  ### Tipos de solicitudes
</div>

Las API de búsqueda de Enterprise aceptan dos tipos de solicitudes:

<div id="search-requests-data">
  #### Search requests (data)
</div>

Las solicitudes de búsqueda a las APIs de búsqueda de Enterprise te permiten recuperar hasta 500 resultados por respuesta para un intervalo de tiempo dado, con la posibilidad de paginar para obtener datos adicionales. Usando el parámetro maxResults, puedes especificar tamaños de página más pequeños para casos de uso de visualización (permitiendo que tu usuario solicite más resultados según sea necesario) o tamaños de página más grandes (hasta 500) para extracciones de datos de mayor volumen. Los datos se entregan en orden cronológico inverso y están en cumplimiento en el momento de la entrega.

<div id="counts-requests-post-count">
  #### Solicitudes de recuento (cantidad de Publicaciones)
</div>

Las solicitudes de recuento ofrecen la posibilidad de obtener recuentos de actividad histórica, que reflejan la cantidad de actividades que ocurrieron y que coinciden con una consulta determinada durante el período de tiempo solicitado. La respuesta, esencialmente, proporcionará un histograma de recuentos, agrupados por día, hora o minuto (la agrupación predeterminada es por *hora*). Es importante tener en cuenta que los resultados de recuento no siempre reflejan eventos de cumplimiento (por ejemplo, eliminaciones de Publicaciones) que ocurren mucho tiempo después (más de 7 días) de que se publica una Publicación; por lo tanto, es de esperar que la métrica de recuento no siempre coincida con la de una solicitud de datos para la misma consulta.

**Nota sobre facturación:** cada solicitud – *incluidas las solicitudes de paginación* – realizada a los endpoints de datos y de recuentos se contabiliza como una solicitud facturable. Por lo tanto, si hay varias páginas de resultados para una sola consulta, recorrer las X páginas de resultados equivaldría a X solicitudes a efectos de facturación.

<div id="available-operators">
  ### Operadores disponibles
</div>

Las APIs de búsqueda Enterprise admiten reglas de hasta 2.048 caracteres. Las APIs de búsqueda Enterprise admiten los operadores que se indican a continuación. Para descripciones detalladas, consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators). 

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| **Coincidencia con el contenido de la Publicación:** | **Coincidencia con cuentas de interés:** | **Atributos de la Publicación:** | **Operadores geoespaciales:** |
| * keyword<br />* “quoted phrase”<br />* “keyword1 keyword2”~N<br />* #<br />* @<br />* $<br />* url:<br />* lang: | * from:<br />* to:<br />* retweets&#95;of: | * is:retweet  <br />    <br />* has:mentions<br />* has:hashtags<br />* has:media<br />* has:videos<br />* has:images<br />* has:links<br />* has:symbols<br />* is:verified  <br />    <br />* -is:nullcast (operador solo de negación) | * bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat]<br />* point&#95;radius:[lon lat radius]<br />* has:geo<br />* place:<br />* place&#95;country:<br />* has:profile&#95;geo<br />* profile&#95;country:<br />* profile&#95;region:<br />* profile&#95;locality: |

Notas: No incrustes ni anides operadores: «#cats» se resolverá como cats con las APIs de búsqueda. El operador «lang:» y todos los operadores «is:» y «has:» no se pueden usar como operadores independientes y deben combinarse con otra cláusula (por ejemplo, @XDevelopers has:links).    

Las APIs de búsqueda usan un conjunto limitado de operadores debido a la funcionalidad de tokenización y coincidencia. Las APIs Enterprise en tiempo real y las históricas por lotes proporcionan operadores adicionales. Consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product) para obtener más detalles.

Para obtener más información, consulta la guía [Introducción a los operadores](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#building-rules-and-queries).

<div id="data-availability-important-date">
  ### Disponibilidad de datos / fecha importante
</div>

Cuando utilices la API de búsqueda en el archivo completo (Full-Archive), ten en cuenta que la plataforma X ha seguido evolucionando desde 2006. A medida que se añadían nuevas funciones, se añadían nuevos metadatos a los objetos JSON subyacentes. Por ese motivo, es importante entender cuándo se añadieron los atributos de las Publicaciones sobre los que actúan los operadores de búsqueda. A continuación se muestran algunas de las fechas de “nacimiento” más fundamentales de grupos importantes de metadatos. Para obtener más información sobre cuándo se introdujeron por primera vez los atributos de las Publicaciones, consulta [esta guía](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#full-archive-search-metadata-timeline).  

* Primera Publicación: 21/3/2006
* Primeros Retweets nativos: 6/11/2009
* Primera Publicación con geolocalización: 19/11/2009
* URLs indexadas por primera vez para el filtrado: 27/8/2011
* Metadatos mejorados de expansión de URL (títulos y descripciones de sitios web): 1/12/2014
* Metadatos de enriquecimiento Geo de perfil y filtrado: 17/2/2015

<div id="data-updates-and-mutability">
  ### Actualizaciones de datos y mutabilidad
</div>

Con las API de búsqueda de Enterprise, algunos de los datos dentro de una Publicación son mutables, es decir, se pueden actualizar o cambiar después de su archivado inicial.

Estos datos mutables se dividen en dos categorías:

* Metadatos del objeto de usuario:
  * @handle del usuario (el id numérico nunca cambia)
  * Biografía
  * Contadores: statuses, followers, friends, favorites, lists
  * Ubicación del perfil
  * Otros detalles como la zona horaria y el idioma
* Estadísticas de la Publicación, es decir, cualquier valor que pueda cambiarse en la plataforma mediante acciones del usuario (ver ejemplos a continuación):
  * Favorites count
  * Retweet count

En la mayoría de estos casos, las API de búsqueda devolverán los datos tal como existen en la plataforma en el momento de la *consulta* (*query-time*), en lugar del momento de generación de la Publicación. Sin embargo, en el caso de consultas que usan operadores de selección (por ejemplo, from, to, @, is:verified), es posible que esto no sea así. Los datos se actualizan en nuestro índice de forma regular, con una frecuencia mayor para los intervalos de tiempo más recientes. Como resultado, en algunos casos, los datos devueltos pueden no coincidir exactamente con los datos actuales tal como se muestran en X.com, pero sí coinciden con los datos en el momento en que se indexaron por última vez.

Ten en cuenta que este problema de inconsistencia solo se aplica a consultas en las que el operador se aplica a datos mutables. Un ejemplo es el filtrado por nombres de usuario, y la mejor solución alternativa sería utilizar id numéricos de usuario en lugar de @handles para estas consultas.

<div id="single-vs-multi-threaded-requests">
  ### Solicitudes de un solo hilo vs. de múltiples hilos
</div>

Cada cliente tiene un límite de frecuencia definido para su endpoint de búsqueda. El límite de frecuencia predeterminado por minuto para la búsqueda de archivo completo es de 120 solicitudes por minuto, para un promedio de 2 consultas por segundo (QPS). Este QPS promedio significa que, en teoría, se pueden realizar 2 solicitudes a la API cada segundo. Dada la función de paginación del producto, si una consulta de un año tiene un millón de Publicaciones asociadas, distribuidas uniformemente a lo largo del año, se requerirían más de 2,000 solicitudes (asumiendo un `maxResults` de 500) para recibir todos los datos. Suponiendo que se necesitan dos segundos por respuesta, eso son 4,000 segundos (o poco más de una hora) para extraer todos esos datos de forma serial/secuencial a través de un solo hilo (1 solicitud por segundo utilizando el token de &quot;next&quot; de la respuesta anterior). ¡Nada mal!

Ahora considere la situación en la que se utilizan doce hilos paralelos para recibir datos. Suponiendo una distribución uniforme del millón de Publicaciones a lo largo del período de un año, podría dividir las solicitudes en doce hilos paralelos (multihilo) y aprovechar mejor el límite de frecuencia por segundo para una única “tarea”. En otras palabras, podría ejecutar un hilo por cada mes que le interese y, al hacerlo, los datos podrían recuperarse 12 veces más rápido (o ~6 minutos).

Este ejemplo multihilo se aplica igualmente bien al endpoint de counts. Por ejemplo, si quisiera recibir los recuentos de Publicaciones para un período de dos años, podría hacer una solicitud de un solo hilo y paginar hacia atrás en intervalos de 31 días. Suponiendo que se necesitan 2 segundos por respuesta, tomaría aproximadamente 48 segundos hacer las 24 solicitudes a la API y recuperar el conjunto completo de recuentos. Sin embargo, también tiene la opción de realizar varias solicitudes de un mes a la vez. Al hacer 12 solicitudes por segundo, el conjunto completo de recuentos podría recuperarse en aproximadamente 2 segundos.

<div id="retry-logic">
  ### Lógica de reintentos
</div>

Si experimentas un error 503 con las APIs de búsqueda de Enterprise, es probable que sea un error transitorio y pueda resolverse volviendo a intentar la solicitud poco tiempo después.

Si la solicitud falla 4 veces seguidas y has esperado al menos 10 minutos entre cada fallo, utiliza los siguientes pasos para solucionar el problema:

* Vuelve a intentar la solicitud después de reducir el periodo de tiempo que abarca. Repite esto hasta llegar a una ventana de tiempo de 6 horas si no tienes éxito.
* Si estás combinando un gran número de términos con el operador OR, divídelos en reglas separadas y vuelve a intentar cada una individualmente.
* Si estás utilizando un gran número de exclusiones en tu regla, reduce el número de términos negados en la regla y vuelve a intentarlo.

<div id="quick-start">
  ## Inicio rápido
</div>

<div id="getting-started-with-enterprise-search-posts-30-day-api">
  ### Introducción a la API Enterprise Search Posts: 30-Day
</div>

La API Enterprise Search Posts: 30-Day te proporciona Publicaciones de los últimos 30 días. Las Publicaciones se seleccionan y se te devuelven en función de la consulta que especifiques en tu solicitud. Una consulta es una regla con la que defines qué debe contener la Publicación que quieres obtener. En este tutorial, buscaremos Publicaciones que se originan en la cuenta de X @XDevelopers en idioma inglés.

Las Publicaciones que recibes en tu payload pueden estar en un formato de datos, que te proporciona el payload completo de la Publicación, o en un formato de recuentos (counts), que te da datos numéricos agregados sobre las Publicaciones que coinciden. Usaremos cURL para realizar solicitudes a los endpoints de datos y de recuentos.

Necesitarás lo siguiente:

* [Una cuenta Enterprise](https://developer.x.com/en/products/x-api/enterprise)
* Tu nombre de usuario, contraseña y nombre de cuenta
* La etiqueta asociada con tu endpoint de búsqueda, tal como se muestra en console.gnip.com

#### Acceso al endpoint de datos

El endpoint de datos nos proporcionará el payload completo de las Publicaciones coincidentes. Usaremos los operadores `from:` y `lang:` para encontrar Publicaciones publicadas por @XDevelopers en inglés. *Para ver más operadores [haz clic aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators).*

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos después de hacer cambios en lo siguiente:

    * **Username** `<USERNAME>` por ejemplo `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` por ejemplo `john-doe`

    * **Label** `<LABEL>` por ejemplo `prod`

    * **fromDate y toDate** por ejemplo `"fromDate":"201811010000", "toDate":"201811122359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/30day/accounts/<ACCOUNT-NAME>/<LABEL>.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    ```bash
    _Este es un ejemplo de solicitud cURL. Si intentas ejecutarla, no funcionará._

    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/30day/accounts/john-doe/prod.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"201811100000","toDate":"201812012359"}'
    ```
  </Tab>
</Tabs>

#### Contenido de la respuesta del endpoint de datos

El contenido que recibes como respuesta a tu solicitud a la API se presenta en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"created_at": "Fri Nov 02 17:18:31 +0000 2018",
			"id": 1058408022936977409,
			"id_str": "1058408022936977409",
			"text": "RT @harmophone: \"The innovative crowdsourcing that the Tagboard, Twitter and TEGNA collaboration enables is surfacing locally relevant conv…",
			"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
			"truncated": false,
			"in_reply_to_status_id": null,
			"in_reply_to_status_id_str": null,
			"in_reply_to_user_id": null,
			"in_reply_to_user_id_str": null,
			"in_reply_to_screen_name": null,
			"user": {
				"id": 2244994945,
				"id_str": "2244994945",
				"name": "Twitter Dev",
				"screen_name": "TwitterDev",
				"location": "Internet",
				"url": "https:\/\/developer.x.com\/",
				"description": "Your official source for Twitter Platform news, updates & events. Need technical help? Visit https:\/\/devcommunity.com\/ ⌨️ #TapIntoTwitter",
				"translator_type": "null",
				"protected": false,
				"verified": true,
				"followers_count": 503828,
				"friends_count": 1477,
				"listed_count": 1437,
				"favourites_count": 2199,
				"statuses_count": 3380,
				"created_at": "Sat Dec 14 04:35:55 +0000 2013",
				"utc_offset": null,
				"time_zone": null,
				"geo_enabled": true,
				"lang": "en",
				"contributors_enabled": false,
				"is_translator": false,
				"profile_background_color": "null",
				"profile_background_image_url": "null",
				"profile_background_image_url_https": "null",
				"profile_background_tile": null,
				"profile_link_color": "null",
				"profile_sidebar_border_color": "null",
				"profile_sidebar_fill_color": "null",
				"profile_text_color": "null",
				"profile_use_background_image": null,
				"profile_image_url": "null",
				"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/880136122604507136\/xHrnqf1T_normal.jpg",
				"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/2244994945\/1498675817",
				"default_profile": false,
				"default_profile_image": false,
				"following": null,
				"follow_request_sent": null,
				"notifications": null
			},
			"geo": null,
			"coordinates": null,
			"place": null,
			"contributors": null,
			"retweeted_status": {
				"created_at": "Tue Oct 30 21:30:25 +0000 2018",
				"id": 1057384253116289025,
				"id_str": "1057384253116289025",
				"text": "\"The innovative crowdsourcing that the Tagboard, Twitter and TEGNA collaboration enables is surfacing locally relev… https:\/\/t.co\/w46U5TRTzQ",
				"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
				"truncated": true,
				"in_reply_to_status_id": null,
				"in_reply_to_status_id_str": null,
				"in_reply_to_user_id": null,
				"in_reply_to_user_id_str": null,
				"in_reply_to_screen_name": null,
				"user": {
					"id": 175187944,
					"id_str": "175187944",
					"name": "Tyler Singletary",
					"screen_name": "harmophone",
					"location": "San Francisco, CA",
					"url": "http:\/\/medium.com\/@harmophone",
					"description": "SVP Product at @Tagboard. Did some Data, biz, and product @Klout & for @LithiumTech; @BBI board member; @Insightpool advisor. World's worst whiteboarder.",
					"translator_type": "null",
					"protected": false,
					"verified": false,
					"followers_count": 1982,
					"friends_count": 1877,
					"listed_count": 245,
					"favourites_count": 23743,
					"statuses_count": 12708,
					"created_at": "Thu Aug 05 22:59:29 +0000 2010",
					"utc_offset": null,
					"time_zone": null,
					"geo_enabled": false,
					"lang": "en",
					"contributors_enabled": false,
					"is_translator": false,
					"profile_background_color": "null",
					"profile_background_image_url": "null",
					"profile_background_image_url_https": "null",
					"profile_background_tile": null,
					"profile_link_color": "null",
					"profile_sidebar_border_color": "null",
					"profile_sidebar_fill_color": "null",
					"profile_text_color": "null",
					"profile_use_background_image": null,
					"profile_image_url": "null",
					"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/719985428632240128\/WYFHcK-m_normal.jpg",
					"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/175187944\/1398653841",
					"default_profile": false,
					"default_profile_image": false,
					"following": null,
					"follow_request_sent": null,
					"notifications": null
				},
				"geo": null,
				"coordinates": null,
				"place": null,
				"contributors": null,
				"is_quote_status": false,
				"extended_tweet": {
					"full_text": "\"The innovative crowdsourcing that the Tagboard, Twitter and TEGNA collaboration enables is surfacing locally relevant conversations in real-time and enabling voters to ask questions during debates,”  -- @adamostrow, @TEGNA\nLearn More: https:\/\/t.co\/ivAFtanfje",
					"display_text_range": [
						0,
						259
					],
					"entities": {
						"hashtags": [],
						"urls": [
							{
								"url": "https:\/\/t.co\/ivAFtanfje",
								"expanded_url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
								"display_url": "blog.tagboard.com\/twitter-and-ta…",
								"unwound": {
									"url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
									"status": 200,
									"title": "Twitter and Tagboard Collaborate to Bring Best Election Content to News Outlets With Tagboard…",
									"description": "By Tyler Singletary, Head of Product, Tagboard"
								},
								"indices": [
									236,
									259
								]
							}
						],
						"user_mentions": [
							{
								"screen_name": "adamostrow",
								"name": "Adam Ostrow",
								"id": 5695942,
								"id_str": "5695942",
								"indices": [
									204,
									215
								]
							},
							{
								"screen_name": "TEGNA",
								"name": "TEGNA",
								"id": 34123003,
								"id_str": "34123003",
								"indices": [
									217,
									223
								]
							}
						],
						"symbols": []
					}
				},
				"quote_count": 0,
				"reply_count": 1,
				"retweet_count": 6,
				"favorite_count": 19,
				"entities": {
					"hashtags": [],
					"urls": [
						{
							"url": "https:\/\/t.co\/w46U5TRTzQ",
							"expanded_url": "https:\/\/twitter.com\/i\/web\/status\/1057384253116289025",
							"display_url": "twitter.com\/i\/web\/status\/1…",
							"indices": [
								117,
								140
							]
						}
					],
					"user_mentions": [],
					"symbols": []
				},
				"favorited": false,
				"retweeted": false,
				"possibly_sensitive": false,
				"filter_level": "low",
				"lang": "en"
			},
			"is_quote_status": false,
			"quote_count": 0,
			"reply_count": 0,
			"retweet_count": 0,
			"favorite_count": 0,
			"entities": {
				"hashtags": [],
				"urls": [],
				"user_mentions": [
					{
						"screen_name": "harmophone",
						"name": "Tyler Singletary",
						"id": 175187944,
						"id_str": "175187944",
						"indices": [
							3,
							14
						]
					}
				],
				"symbols": []
			},
			"favorited": false,
			"retweeted": false,
			"filter_level": "low",
			"lang": "en",
			"matching_rules": [
				{
					"tag": null
				}
			]
		}
	],
	"requestParameters": {
		"maxResults": 100,
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

<div id="accessing-the-counts-endpoint">
  #### Acceder al endpoint de counts
</div>

Con el endpoint de counts, recuperaremos el número de Publicaciones que se originan en la cuenta @XDevelopers en inglés, agrupadas por `day`.

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos tras realizar los siguientes cambios:

    * **Username** `<USERNAME>` p. ej. `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` p. ej. `john-doe`

    * **Label** `<LABEL>` p. ej. `prod`

    * **fromDate y toDate** p. ej. `"fromDate":"201811010000", "toDate":"201811122359"`

    *Después de enviar tu solicitud, se te pedirá la contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/30day/accounts/<ACCOUNT-NAME>/<LABEL>/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>","bucket":"day"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    *Este es un ejemplo de solicitud cURL. Si intentas ejecutarlo, no funcionará.*

    ```bash
    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/30day/accounts/john-doe/prod/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"201811100000","toDate":"201812012359","bucket":"day"}'
    ```
  </Tab>
</Tabs>

<div id="counts-endpoint-response-payload">
  #### Carga útil de la respuesta del endpoint Counts
</div>

La carga útil que recibes en la respuesta a tu solicitud a la API aparecerá en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"timePeriod": "201811010000",
			"count": 0
		},
		{
			"timePeriod": "201811020000",
			"count": 1
		},
		{
			"timePeriod": "201811030000",
			"count": 0
		},
		{
			"timePeriod": "201811040000",
			"count": 0
		},
		{
			"timePeriod": "201811050000",
			"count": 0
		}
	],
	"totalCount": 1,
	"requestParameters": {
		"bucket": "day",
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

¡Buen trabajo! Ahora has accedido correctamente a la API Search Posts: 30-Day de Enterprise.

<div id="referenced-articles">
  ##### **Artículos relacionados**
</div>

* [Introducción a los objetos Post](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)
* [Operadores de búsqueda](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators)
* [Objetos Post y cargas útiles](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#post-object)

<div id="getting-started-with-enterprise-search-posts-full-archive-api">
  ### Introducción a la API Enterprise Search Posts: Full-Archive
</div>

La API Enterprise Search Posts: Full-Archive te ofrece Publicaciones desde la primera que se publicó en 2006. Las Publicaciones se filtran y se te devuelven según la consulta que especifiques en tu solicitud. Una consulta es una regla en la que defines qué debe contener la Publicación que recibes. En este tutorial, buscaremos Publicaciones originadas en la cuenta de X @XDevelopers en inglés.

Las Publicaciones que recibes en tu payload pueden estar en un formato data, que te proporciona el payload completo de la Publicación, o pueden estar en un formato de conteos, que te ofrece datos numéricos de conteo de las Publicaciones coincidentes. Usaremos cURL para realizar solicitudes a los endpoints de data y de conteos.

Necesitarás lo siguiente:

* [Una cuenta Enterprise](https://developer.x.com/en/products/x-api/enterprise)
* Tu nombre de usuario, contraseña y nombre de cuenta
* Etiqueta asociada a tu endpoint de búsqueda, tal como se muestra en console.gnip.com

<div id="accessing-the-data-endpoint">
  #### Acceder al endpoint de datos
</div>

El endpoint de datos nos proporcionará el payload completo de cada Publicación coincidente. Usaremos los operadores `from:` y `lang:` para encontrar Publicaciones provenientes de @XDevelopers en inglés. *Para ver más operadores, [haz clic aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators).*

* [cURL](#tab1)
* [Ejemplo de cURL](#tab2)

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos utilizando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos y actualiza los siguientes valores:

    * **Username** `<USERNAME>` por ejemplo, `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` por ejemplo, `john-doe`

    * **Label** `<LABEL>` por ejemplo, `prod`

    * **fromDate y toDate** por ejemplo, `"fromDate":"201802010000", "toDate":"201802282359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/fullarchive/accounts/<ACCOUNT-NAME>/<LABEL>.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    *Esta es una solicitud cURL de ejemplo. Si intentas ejecutarla, no funcionará.*

    ```bash
    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/fullarchive/accounts/john-doe/prod.json" -d '{"query":"from:TwitterDev lang:en","maxResults":"500","fromDate":"201802010000","toDate":"201802282359"}'
    ```
  </Tab>
</Tabs>

<div id="data-endpoint-response-payload">
  ##### Contenido de la respuesta del endpoint de datos
</div>

El contenido que recibes de tu solicitud a la API aparecerá en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"created_at": "Fri Nov 02 17:18:31 +0000 2018",
			"id": 1058408022936977409,
			"id_str": "1058408022936977409",
			"text": "RT @harmophone: \"El innovador crowdsourcing que hace posible la colaboración entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones relevantes a nivel local…",
			"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
			"truncated": false,
			"in_reply_to_status_id": null,
			"in_reply_to_status_id_str": null,
			"in_reply_to_user_id": null,
			"in_reply_to_user_id_str": null,
			"in_reply_to_screen_name": null,
			"user": {
				"id": 2244994945,
				"id_str": "2244994945",
				"name": "Twitter Dev",
				"screen_name": "TwitterDev",
				"location": "Internet",
				"url": "https:\/\/developer.x.com\/",
				"description": "Tu fuente oficial de noticias, actualizaciones y eventos de la plataforma de Twitter. ¿Necesitas ayuda técnica? Visita https:\/\/devcommunity.com\/ ⌨️ #TapIntoTwitter",
				"translator_type": "null",
				"protected": false,
				"verified": true,
				"followers_count": 503828,
				"friends_count": 1477,
				"listed_count": 1437,
				"favourites_count": 2199,
				"statuses_count": 3380,
				"created_at": "Sat Dec 14 04:35:55 +0000 2013",
				"utc_offset": null,
				"time_zone": null,
				"geo_enabled": true,
				"lang": "en",
				"contributors_enabled": false,
				"is_translator": false,
				"profile_background_color": "null",
				"profile_background_image_url": "null",
				"profile_background_image_url_https": "null",
				"profile_background_tile": null,
				"profile_link_color": "null",
				"profile_sidebar_border_color": "null",
				"profile_sidebar_fill_color": "null",
				"profile_text_color": "null",
				"profile_use_background_image": null,
				"profile_image_url": "null",
				"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/880136122604507136\/xHrnqf1T_normal.jpg",
				"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/2244994945\/1498675817",
				"default_profile": false,
				"default_profile_image": false,
				"following": null,
				"follow_request_sent": null,
				"notifications": null
			},
			"geo": null,
			"coordinates": null,
			"place": null,
			"contributors": null,
			"retweeted_status": {
				"created_at": "Tue Oct 30 21:30:25 +0000 2018",
				"id": 1057384253116289025,
				"id_str": "1057384253116289025",
				"text": "\"El innovador crowdsourcing que hace posible la colaboración entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones relevantes a nivel local… https:\/\/t.co\/w46U5TRTzQ",
				"source": "<a href=\"http:\/\/twitter.com\" rel=\"nofollow\">Cliente web de Twitter<\/a>",
				"truncated": true,
				"in_reply_to_status_id": null,
				"in_reply_to_status_id_str": null,
				"in_reply_to_user_id": null,
				"in_reply_to_user_id_str": null,
				"in_reply_to_screen_name": null,
				"user": {
					"id": 175187944,
					"id_str": "175187944",
					"name": "Tyler Singletary",
					"screen_name": "harmophone",
					"location": "San Francisco, CA",
					"url": "http:\/\/medium.com\/@harmophone",
					"description": "SVP Product at @Tagboard. Did some Data, biz, and product @Klout & for @LithiumTech; @BBI board member; @Insightpool advisor. World's worst whiteboarder.",
					"translator_type": "null",
					"protected": false,
					"verified": false,
					"followers_count": 1982,
					"friends_count": 1877,
					"listed_count": 245,
					"favourites_count": 23743,
					"statuses_count": 12708,
					"created_at": "Thu Aug 05 22:59:29 +0000 2010",
					"utc_offset": null,
					"time_zone": null,
					"geo_enabled": false,
					"lang": "en",
					"contributors_enabled": false,
					"is_translator": false,
					"profile_background_color": "null",
					"profile_background_image_url": "null",
					"profile_background_image_url_https": "null",
					"profile_background_tile": null,
					"profile_link_color": "null",
					"profile_sidebar_border_color": "null",
					"profile_sidebar_fill_color": "null",
					"profile_text_color": "null",
					"profile_use_background_image": null,
					"profile_image_url": "null",
					"profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/719985428632240128\/WYFHcK-m_normal.jpg",
					"profile_banner_url": "https:\/\/pbs.twimg.com\/profile_banners\/175187944\/1398653841",
					"default_profile": false,
					"default_profile_image": false,
					"following": null,
					"follow_request_sent": null,
					"notifications": null
				},
				"geo": null,
				"coordinates": null,
				"place": null,
				"contributors": null,
				"is_quote_status": false,
				"extended_tweet": {
					"full_text": "\"El innovador crowdsourcing que hace posible la colaboración entre Tagboard, Twitter y TEGNA está sacando a la luz conversaciones relevantes a nivel local en tiempo real y permite que los votantes hagan preguntas durante los debates\",  -- @adamostrow, @TEGNA\nMás información: https:\/\/t.co\/ivAFtanfje",
					"display_text_range": [
						0,
						259
					],
					"entities": {
						"hashtags": [],
						"urls": [
							{
								"url": "https:\/\/t.co\/ivAFtanfje",
								"expanded_url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
								"display_url": "blog.tagboard.com\/twitter-and-ta…",
								"unwound": {
									"url": "https:\/\/blog.tagboard.com\/twitter-and-tagboard-collaborate-to-bring-best-election-content-to-news-outlets-with-tagboard-e85fc864bcf4",
									"status": 200,
									"title": "Twitter y Tagboard colaboran para llevar el mejor contenido electoral a los medios de noticias con Tagboard…",
									"description": "Por Tyler Singletary, Responsable de Producto, Tagboard"
								},
								"indices": [
									236,
									259
								]
							}
						],
						"user_mentions": [
							{
								"screen_name": "adamostrow",
								"name": "Adam Ostrow",
								"id": 5695942,
								"id_str": "5695942",
								"indices": [
									204,
									215
								]
							},
							{
								"screen_name": "TEGNA",
								"name": "TEGNA",
								"id": 34123003,
								"id_str": "34123003",
								"indices": [
									217,
									223
								]
							}
						],
						"symbols": []
					}
				},
				"quote_count": 0,
				"reply_count": 1,
				"retweet_count": 6,
				"favorite_count": 19,
				"entities": {
					"hashtags": [],
					"urls": [
						{
							"url": "https:\/\/t.co\/w46U5TRTzQ",
							"expanded_url": "https:\/\/twitter.com\/i\/web\/status\/1057384253116289025",
							"display_url": "twitter.com\/i\/web\/status\/1…",
							"indices": [
								117,
								140
							]
						}
					],
					"user_mentions": [],
					"symbols": []
				},
				"favorited": false,
				"retweeted": false,
				"possibly_sensitive": false,
				"filter_level": "low",
				"lang": "en"
			},
			"is_quote_status": false,
			"quote_count": 0,
			"reply_count": 0,
			"retweet_count": 0,
			"favorite_count": 0,
			"entities": {
				"hashtags": [],
				"urls": [],
				"user_mentions": [
					{
						"screen_name": "harmophone",
						"name": "Tyler Singletary",
						"id": 175187944,
						"id_str": "175187944",
						"indices": [
							3,
							14
						]
					}
				],
				"symbols": []
			},
			"favorited": false,
			"retweeted": false,
			"filter_level": "low",
			"lang": "en",
			"matching_rules": [
				{
					"tag": null
				}
			]
		}
	],
	"requestParameters": {
		"maxResults": 100,
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

<div id="accessing-the-counts-endpoint">
  #### Acceder al endpoint de counts
</div>

Con el endpoint de counts recuperaremos la cantidad de Publicaciones que se originan en la cuenta @XDevelopers en inglés, agrupadas por `day`.

<Tabs>
  <Tab title="cURL">
    *cURL es una herramienta de línea de comandos para obtener o enviar archivos usando la sintaxis de URL.*

    Copia la siguiente solicitud cURL en tu línea de comandos tras realizar los siguientes cambios:

    * **Username** `<USERNAME>` p. ej. `email@domain.com`

    * **Account name** `<ACCOUNT-NAME>` p. ej. `john-doe`

    * **Label** `<LABEL>` p. ej. `prod`

    * **fromDate and toDate** p. ej. `"fromDate":"201802010000", "toDate":"201802282359"`

    *Después de enviar tu solicitud, se te pedirá tu contraseña.*

    ```bash
    curl -X POST -u<USERNAME> "https://gnip-api.x.com/search/fullarchive/accounts/<ACCOUNT-NAME>/<LABEL>/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"<yyyymmddhhmm>","toDate":"<yyyymmddhhmm>","bucket":"day"}'
    ```
  </Tab>

  <Tab title="Ejemplo de cURL">
    ```bash
    _Este es un ejemplo de solicitud cURL. Si intentas ejecutarla, no funcionará._

    curl -X POST -uemail@domain.com "https://gnip-api.x.com/search/fullarchive/accounts/john-doe/prod/counts.json" -d '{"query":"from:TwitterDev lang:en","fromDate":"201802010000","toDate":"201802282359","bucket":"day"}'
    ```
  </Tab>
</Tabs>

#### Cuerpo de la respuesta del endpoint de conteos

El cuerpo de la respuesta que recibes de tu solicitud de API aparecerá en formato JSON, como se muestra a continuación.

```json
{
	"results": [
		{
			"timePeriod": "201811010000",
			"count": 0
		},
		{
			"timePeriod": "201811020000",
			"count": 1
		},
		{
			"timePeriod": "201811030000",
			"count": 0
		},
		{
			"timePeriod": "201811040000",
			"count": 0
		},
		{
			"timePeriod": "201811050000",
			"count": 0
		}
	],
	"totalCount": 1,
	"requestParameters": {
		"bucket": "day",
		"fromDate": "201811010000",
		"toDate": "201811060000"
	}
}
```

¡Buen trabajo! Ahora has accedido correctamente a la API Enterprise Search Posts: Full-Archive.

##### Artículos de referencia

* [Introducción a los objetos Post](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)
* [Operadores de búsqueda](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-operators)
* [Objetos Post y payloads](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#post-object)

<div id="guides">
  ## Guías
</div>

<div id="building-search-queries">
  ### Cómo crear consultas de búsqueda
</div>

<div id="enterprise-operators">
  ### Operadores de Enterprise
</div>

A continuación se muestra una lista de todos los operadores admitidos en las APIs de búsqueda Enterprise de X:

* API de búsqueda de 30 días de **Enterprise**
* API de búsqueda de archivo completo de **Enterprise**

Para ver una comparación en paralelo de los operadores disponibles por producto, consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product).

| Operador                                                                                                                                                         | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| keyword                                                                                                                                                          | Coincide con una palabra clave tokenizada dentro del cuerpo o las URL de una Publicación. Es una coincidencia tokenizada, lo que significa que tu cadena de palabras clave se comparará con el texto tokenizado del cuerpo de la Publicación; la tokenización se basa en caracteres de puntuación, símbolos y caracteres separadores del plano básico Unicode. Por ejemplo, una Publicación con el texto “I like coca-cola” se dividiría en los siguientes tokens: I, like, coca, cola. Estos tokens se compararían luego con la cadena de palabras clave utilizada en tu regla. Para hacer coincidir cadenas que contienen signos de puntuación (por ejemplo, coca-cola), símbolos o caracteres separadores, debes usar una coincidencia exacta entre comillas, como se describe a continuación.<br /><br />**Nota:** Con la Search API, los caracteres acentuados y especiales se normalizan a caracteres latinas estándar, lo que puede modificar los significados en idiomas extranjeros o devolver resultados inesperados:<br />Por ejemplo, &quot;músic&quot; coincidirá con “music” y viceversa.<br />Por ejemplo, frases comunes como &quot;Feliz Año Nuevo!&quot; en español se indexarían como &quot;Feliz Ano Nuevo&quot;, lo que cambia el significado de la frase.<br /><br />**Nota:** Este operador coincidirá tanto con las URL como con las URL expandidas dentro de una Publicación. |
| emoji                                                                                                                                                            | Coincide con un emoji dentro del cuerpo de una Publicación. Los emojis se comparan de forma tokenizada, lo que significa que tu emoji se comparará con el texto tokenizado del cuerpo de la Publicación; la tokenización se basa en caracteres de puntuación, símbolos/emojis y caracteres separadores del plano básico de Unicode. Por ejemplo, una Publicación con el texto “I like <Icon icon="pizza-slice" iconType="solid" />” se dividiría en los siguientes tokens: I, like, <Icon icon="pizza-slice" iconType="solid" />. Estos tokens se compararían con el emoji usado en tu regla. Ten en cuenta que, si un emoji tiene una variante, debes usar “comillas” para agregarlo a una regla.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &quot;coincidencia exacta de frase&quot;                                                                                                                         | Coincide con la frase tokenizada y ordenada dentro del cuerpo o las URL de una Publicación. Se trata de una coincidencia tokenizada, lo que significa que tu cadena de palabras clave se comparará con el texto tokenizado del cuerpo de la Publicación; la tokenización se basa en caracteres básicos del plano Unicode de puntuación, símbolos y separadores. <br /><br />**Nota:** La puntuación no se tokeniza y en su lugar se trata como espacio en blanco.<br />Por ejemplo, la cadena entre comillas “#hashtag” coincidirá con “hashtag” pero no con #hashtag (usa el operador de hashtag # sin comillas para hacer coincidencias con hashtags reales).<br />Por ejemplo, la cadena entre comillas “$cashtag” coincidirá con “cashtag” pero no con $cashtag (usa el operador de cashtag $ sin comillas para hacer coincidencias con cashtags reales).<br />Por ejemplo, &quot;Love Snow&quot; coincidirá con &quot;#love #snow&quot;<br />Por ejemplo, &quot;#Love #Snow&quot; coincidirá con &quot;love snow&quot;<br /><br />**Nota:** Este operador hará coincidencias tanto en URL como en URL desplegadas dentro de una Publicación.                                                                                                                                                                                                                                                      |
| &quot;keyword1 keyword2&quot;~N                                                                                                                                  | Habitualmente denominado operador de proximidad, coincide con una Publicación en la que las palabras clave están a no más de N tokens entre sí. <br /><br />Si las palabras clave están en el orden inverso, no pueden estar a más de N-2 tokens de distancia entre sí. Puede incluir cualquier cantidad de palabras clave entre comillas. N no puede ser mayor que 6.<br /><br />Tenga en cuenta que este operador solo está disponible en las APIs de búsqueda `enterprise`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| from:                                                                                                                                                            | Coincide con cualquier Publicación de un usuario específico.<br />El valor debe ser el id numérico de la cuenta de X del usuario o su nombre de usuario (excluyendo el carácter @). Consulta [AQUÍ](/es/x-api/users/lookup/introduction) o [AQUÍ](http://gettwitterid.com/) para ver métodos para obtener ids numéricos de cuentas de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| to:                                                                                                                                                              | Coincide con cualquier Publicación que responda a un usuario específico.<br /><br />El valor debe ser el id numérico de la cuenta del usuario o su nombre de usuario (sin el carácter @). Consulta [AQUÍ](/es/x-api/users/lookup/introduction) los métodos para buscar ids numéricos de cuentas de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| url:                                                                                                                                                             | Realiza una coincidencia tokenizada (palabra clave/frase) en las URL expandidas de una Publicación (similar a url&#95;contains). Los tokens y las frases que contienen signos de puntuación o caracteres especiales deben ir entre comillas dobles. Por ejemplo, url:&quot;/developer&quot;. Aunque generalmente no se recomienda, si deseas hacer coincidir un protocolo específico, enciérralo entre comillas dobles: url:&quot;[https://developer.x.com](https://developer.x.com)&quot;.<br />**Nota:** Cuando uses PowerTrack o Historical PowerTrack, este operador hará coincidir las URL contenidas en la Publicación original de una Publicación citada. Por ejemplo, si tu regla incluye url:&quot;developer.x.com&quot; y una Publicación contiene esa URL, cualquier Publicación citada de esa Publicación se incluirá en los resultados. Esto no ocurre cuando se usa la Search API.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| #                                                                                                                                                                | Coincide con cualquier Publicación que tenga el hashtag indicado.<br /><br />Este operador realiza una coincidencia exacta, NO una coincidencia tokenizada, lo que significa que la regla “2016” coincidirá con Publicaciones que tengan exactamente el hashtag “2016”, pero no con aquellas que tengan el hashtag “2016election”.<br /><br />Nota: el operador de hashtag se basa en la extracción de entidades de X para hacer coincidir los hashtags, en lugar de extraer el hashtag directamente del cuerpo de la Publicación. Consulte [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#hashtags) para obtener más información sobre los atributos JSON de X Entities.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| @ | Coincide con cualquier Post que mencione el nombre de usuario indicado.<br />El operador to: devuelve un subconjunto de coincidencias del operador @mention. | Coincide con cualquier Publicación que mencione el nombre de usuario indicado.<br />El operador to: devuelve un conjunto de resultados que es un subconjunto de los del operador @mention.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| $                                                                                                                                                                | Coincide con cualquier Publicación que contenga el «cashtag» especificado (donde el carácter inicial del token es el símbolo «$»).<br /><br />Ten en cuenta que el operador de cashtag se basa en la extracción de entidades «symbols» de X para identificar cashtags, en lugar de intentar extraer el cashtag directamente del cuerpo. Consulta [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#symbols) para obtener más información sobre los atributos JSON de X Entities.<br /><br />Ten en cuenta que este operador solo está disponible en las APIs de búsqueda de `enterprise`.<br /><br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| retweets&#95;of:                                                                                                                                                 | *Alias disponible*: retweets&#95;of&#95;user:<br />Coincide con Publicaciones que son retweets de un usuario específico. Acepta tanto nombres de usuario como IDs numéricas de cuentas de X (NO IDs de estado de Publicaciones). Consulte [AQUÍ](/es/x-api/users/lookup/introduction) para ver métodos para buscar IDs numéricas de cuentas de X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| lang:                                                                                                                                                            | Coincide con las Publicaciones que han sido clasificadas por X como pertenecientes a un idioma en particular (únicamente si la Publicación ha sido clasificada). Es importante tener en cuenta que actualmente cada Publicación solo se clasifica como perteneciente a un idioma, por lo que usar AND para combinar varios idiomas no producirá ningún resultado.<br /><br />**Nota:** si no se puede realizar una clasificación de idioma, el resultado proporcionado es &#39;und&#39; (por indefinido).<br /><br />La siguiente lista representa los idiomas actualmente compatibles y su correspondiente identificador de idioma BCP 47:<br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| amárico: am | alemán: de | malayalam: ml | eslovaco: sk |
| árabe: ar | griego: el | maldivo: dv | esloveno: sl |
| armenio: hy | guyaratí: gu | maratí: mr | kurdo sorani: ckb |
| vasco: eu | criollo haitiano: ht | nepalí: ne | español: es |
| bengalí: bn | hebreo: iw | noruego: no | sueco: sv |
| bosnio: bs | hindi: hi | oriya: or | tagalo: tl |
| búlgaro: bg | hindi latinizado: hi-Latn | panyabí: pa | tamil: ta |
| birmano: my | húngaro: hu | pastún: ps | telugu: te |
| croata: hr | islandés: is | persa: fa | tailandés: th |
| catalán: ca | indonesio: in | polaco: pl | tibetano: bo |
| checo: cs | italiano: it | portugués: pt | chino tradicional: zh-TW |
| danés: da | japonés: ja | rumano: ro | turco: tr |
| neerlandés: nl | canarés: kn | ruso: ru | ucraniano: uk |
| inglés: en | jemer: km | serbio: sr | urdu: ur |
| estonio: et | coreano: ko | chino simplificado: zh-CN | uigur: ug |
| finés: fi | lao: lo | sindhi: sd | vietnamita: vi |
| francés: fr | letón: lv | cingalés: si | galés: cy |
| georgiano: ka | lituano: lt |     |

|||
|:----|:---|
|place:|Coincide con las Publicaciones etiquetadas con la ubicación especificada *o* con el id de lugar de X (consulta los ejemplos). Los nombres de lugares con varias palabras (“New York City”, “Palo Alto”) deben ir entre comillas.<br /><br />**Nota:** Consulta el endpoint público de la API [GET geo/search](https://developer.x.com/en/docs/x-api/v1/geo/place-information/overview) para saber cómo obtener ids de lugares de X.<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Quote Tweet.|
|place&#95;country:|Coincide con Publicaciones en las que el código de país asociado con un [place](https://developer.x.com/en/docs/x-api/v1/geo/place-information/overview) etiquetado coincide con el código ISO alfa-2 de dos caracteres proporcionado.<br /><br />Los códigos ISO válidos se pueden encontrar aquí: [http://en.wikipedia.org/wiki/ISO&#95;3166-1&#95;alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Quote Tweet.|
|point&#95;radius:[lon lat radius]|Coincide con la ubicación exacta (x,y) de la Publicación cuando está presente y, en X, con un polígono geográfico de “Place”, donde el Place está completamente contenido dentro de la región definida.<br /><br />* Las unidades de radio admitidas son millas (mi) y kilómetros (km).<br />* El radio debe ser inferior a 25 mi.<br />* La longitud está en el rango de ±180<br />* La latitud está en el rango de ±90<br />* Todas las coordenadas están en grados decimales.<br />* Los argumentos de la regla se incluyen entre corchetes, separados por espacios.<br /><br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Quote Tweet.|
|bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat]|*Alias disponible*: geo&#95;bounding&#95;box:<br /><br />Coincide con la ubicación exacta (long, lat) de la Publicación cuando está presente y, en X, con un polígono geográfico de “Place”, donde el Place está completamente contenido dentro de la región definida.<br /><br />* west&#95;long y south&#95;lat representan la esquina suroeste de la caja delimitadora, donde west&#95;long es la longitud de ese punto y south&#95;lat es la latitud.<br />* east&#95;long y north&#95;lat representan la esquina noreste de la caja delimitadora, donde east&#95;long es la longitud de ese punto y north&#95;lat es la latitud.<br />* El ancho y el alto de la caja delimitadora deben ser inferiores a 25 mi<br />* La longitud está en el rango de ±180<br />* La latitud está en el rango de ±90<br />* Todas las coordenadas están en grados decimales.<br />* Los argumentos de la regla se incluyen entre corchetes, separados por espacios.<br />**Nota:** Este operador no coincidirá con Retweets, ya que los lugares de los Retweets están asociados a la Publicación original. Tampoco coincidirá con los lugares asociados a la Publicación original de un Quote Tweet.
|profile&#95;country:|Coincide exactamente con el campo “countryCode” del objeto “address” en el enriquecimiento de Profile Geo.<br />Utiliza un conjunto normalizado de códigos de país de dos letras, basado en la especificación ISO-3166-1-alpha-2. Este operador se proporciona en lugar de un operador para el campo “country” del objeto “address” para ser más conciso.|
|profile&#95;region:|Coincide con el campo “region” del objeto “address” en el enriquecimiento de Profile Geo.<br /><br />Se trata de una coincidencia exacta de cadena completa. No es necesario escapar caracteres con una barra invertida. Por ejemplo, si deseas hacer coincidir algo con una barra, usa “one/two”, no “one\/two”. Usa comillas dobles para hacer coincidir subcadenas que contengan espacios en blanco o signos de puntuación.|
|profile&#95;locality:|Coincide con el campo “locality” del objeto “address” en el enriquecimiento de Profile Geo.<br /><br />Se trata de una coincidencia exacta de cadena completa. No es necesario escapar caracteres con una barra invertida. Por ejemplo, si deseas hacer coincidir algo con una barra, usa “one/two”, no “one\/two”. Usa comillas dobles para hacer coincidir subcadenas que contengan espacios en blanco o signos de puntuación.|

<Info>
  **NOTA:** Todos los operadores is: y has: no se pueden usar como operadores independientes cuando se utiliza la Search API y deben combinarse con otra cláusula.

  Por ejemplo, @XDeevelopers has:links
</Info>

|                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| :------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| has:geo             | Coincide con Publicaciones que contienen datos de ubicación geográfica específicos de la propia Publicación proporcionados por X. Puede tratarse de una coordenada “geo” de latitud-longitud o de una “location” en forma de un [“Place”](https://dev.x.com/overview/api/places) de X, con el nombre para mostrar correspondiente, polígono geográfico y otros campos.<br /><br />  <br /><br />**Nota:** Cuando uses la API de búsqueda, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                         |
| has:profile&#95;geo | *Alias disponible*: has:derived&#95;user&#95;geo<br /><br />Coincide con las Publicaciones que tienen metadatos de [Profile Geo](http://support.gnip.com/enrichments/profile_geo.html), independientemente de su valor.  <br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` ni `has:`.                                                                                                                                                                                                                                                |
| has:links           | Este operador devuelve Publicaciones que contienen enlaces en el cuerpo del mensaje.  <br />  <br /><br />**Nota:** Cuando se utiliza la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` ni `has:`.                                                                                                                                                                                                                                                                                                                                                                                 |
| is:retweet          | Entrega solo los retweets explícitos que coincidan con una regla. También se puede negar para excluir de la entrega los retweets que coincidan con una regla, de modo que solo se entregue contenido original.<br /><br />Este operador busca únicamente retweets reales, que usan la funcionalidad de retweet de X. Las Publicaciones citadas y las Publicaciones modificadas que no usan la funcionalidad de retweet de X no se corresponderán con este operador.<br /><br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`. |
| is:reply            | Un operador para filtrar Publicaciones según si son o no respuestas a otras Publicaciones. Entrega solo respuestas explícitas que coinciden con una regla. También se puede usar en forma negada para excluir de la entrega las respuestas que coinciden con una regla.<br /><br />Ten en cuenta que este operador está disponible para la búsqueda Premium y Enterprise de pago y no está disponible en entornos de desarrollo de Sandbox.<br /><br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                         |
| is:quote            | Devuelve únicamente Quote Tweets, o Publicaciones que hacen referencia a otra Publicación, identificadas por &quot;is&#95;quote&#95;status&quot;:true en los payloads de las Publicaciones. También puede negarse para excluir los Quote Tweets.  <br /><br />**Nota:** Cuando se utilice la Search API, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                              |
| is:verified         | Devuelve solo Publicaciones cuyo autor esté «verificado» por X. También puede negarse para excluir Publicaciones cuyo autor esté verificado.  <br />  <br /><br />**Nota:** Al usar la Search API, este operador debe emplearse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                 |
| has:mentions        | Coincide con las Publicaciones que mencionan a otro usuario de X.  <br />  <br /><br />**Nota:** Al usar la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                                                                           |
| has:hashtags        | Coincide con las Publicaciones que contienen un hashtag.  <br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                                                                                                                                |
| has:media           | *Alias disponible*: has:media&#95;link<br /><br />Coincide con Publicaciones que contienen una URL de contenido multimedia clasificada por X. Por ejemplo, pic.x.com.  <br />  <br /><br />**Nota:** Cuando uses la API de búsqueda, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                                                                  |
| has:images          | Coincide con Publicaciones que contienen una URL de contenido multimedia clasificada por X. Por ejemplo, pic.x.com.  <br />  <br /><br />**Nota:** Cuando se utiliza la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` ni `has:`.                                                                                                                                                                                                                                                                                                                                              |
| has:videos          | *Alias disponible*: has:video&#95;link<br /><br />Coincide con Publicaciones que contienen vídeos nativos de X, subidos directamente a X. Esto no coincidirá con vídeos creados en Vine, Periscope ni con Publicaciones con enlaces a otros sitios de alojamiento de vídeo.  <br />  <br /><br />**Nota:** Cuando utilices la API de búsqueda, este operador debe usarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                        |
| has:symbols         | Coincide con Publicaciones que contienen un símbolo de cashtag (con un carácter inicial ‘$’; por ejemplo, $tag). Ten en cuenta que este operador solo está disponible en las APIs de búsqueda `enterprise`.  <br />  <br /><br />**Nota:** Cuando uses la Search API, este operador debe utilizarse junto con otros operadores que no incluyan `is:` o `has:`.                                                                                                                                                                                                                                                             |

<div id="product-overview">
  ### Descripción general del producto
</div>

La versión de nivel Enterprise de Full-archive Search se lanzó en agosto de 2015 y la versión de nivel premium se lanzó en febrero de 2018. Estos productos de búsqueda permiten a los clientes acceder de forma inmediata a cualquier Publicación disponible públicamente. Con Full-archive Search envías una única consulta y recibes una respuesta al estilo RESTful clásico. Full-archive Search implementa paginación de hasta 500 Publicaciones por respuesta y admite hasta 60 solicitudes por minuto (rpm) como límite de frecuencia para premium y 120 rpm para Enterprise. Teniendo en cuenta estos detalles, Full-archive Search se puede utilizar para recuperar Publicaciones rápidamente y a gran escala mediante solicitudes concurrentes.

A diferencia de Historical PowerTrack, cuyo archivo se basa en un conjunto de archivos planos de Publicaciones en disco, el archivo de Publicaciones de Full-archive Search se parece más a una base de datos en línea. Como con todas las bases de datos, admite realizar consultas sobre su contenido. También hace uso de un *índice* para permitir una recuperación de datos de alto rendimiento. Con los endpoints de Full-archive Search, el lenguaje de consulta está compuesto por operadores PowerTrack, y cada uno de estos operadores corresponde a un atributo JSON de la Publicación que está indexado.

Asimismo, al igual que con Historical PowerTrack, hay atributos de la Publicación que son actuales al momento en que se realiza una consulta. Por ejemplo, si hoy utilizas Search API para acceder a una Publicación publicada en 2010, la descripción del perfil del usuario, la ubicación &quot;home&quot; de la cuenta, el nombre para mostrar y las métricas de la Publicación de favoritos y Retweets se actualizarán a los valores actuales y no a los que tenían en 2010. 

<div id="metadata-timelines">
  ### Cronología de metadatos
</div>

A continuación se muestra una cronología de cuándo los operadores del endpoint de búsqueda de archivo completo empezaron a devolver coincidencias. En algunos casos, la coincidencia mediante operadores comenzó mucho *después* de que una “convención de comunicación” se volviera común en X. Por ejemplo, las @Replies surgieron como una convención de uso en 2006, pero no se convirtieron en un *objeto de primera clase* o *evento* con JSON de respaldo hasta principios de 2007. En consecuencia, para que las @Replies de 2006 coincidan es necesario examinar el cuerpo de la Publicación, en lugar de depender de los operadores de PowerTrack `to:` e `in_reply_to_status_id:`.

Los detalles proporcionados aquí se generaron usando Full-Archive Search (a partir de cientos de búsquedas). Esta cronología no es 100 % completa ni precisa. Si identifica otra “fecha de nacimiento” de filtrado/metadatos fundamental para su caso de uso, háganoslo saber.

Tenga en cuenta que el índice de búsqueda subyacente puede volver a generarse. En consecuencia, estos detalles de la cronología están sujetos a cambios.

<div id="2006">
  #### 2006
</div>

* 26 de marzo - `lang:`. Un ejemplo de metadatos de Publicación que se completan retroactivamente mientras se genera el índice de búsqueda.
* 13 de julio - `has:mentions` empieza a devolver coincidencias.
* 6 de octubre - `has:symbols`. Los $cashtags (o símbolos) para hablar de símbolos bursátiles no se generalizan hasta principios de 2009. Hasta entonces, la mayoría de los usos probablemente eran jerga (por ejemplo, $slang).
* 26 de octubre - `has:links` empieza a devolver coincidencias.
* 23 de noviembre - `has:hashtags` empieza a devolver coincidencias.

<div id="2007">
  #### 2007
</div>

* 30 de enero: primera @reply de primera clase (in&#95;reply&#95;to&#95;user&#95;id); `reply_to_status_id:` empieza a hacer match.
* 23 de agosto: aparecen los hashtags como una convención habitual para organizar temas y conversaciones. Primer uso real una semana después.

<div id="2009">
  #### 2009
</div>

* 15 de mayo - `is:retweet`. Ten en cuenta que este operador comienza a aplicarse con el lanzamiento beta de los Retweets oficiales y su patrón “Via @”. Durante este período beta, el verbo de la Publicación es ‘post’ y la Publicación original no se incluye en la carga útil.
* 13 de agosto - Se publica la versión final de los Retweets oficiales con el patrón “RT @”, el verbo configurado como ‘share’ y el atributo ‘retweet&#95;status’ que contiene la Publicación original (lo que aproximadamente duplica el tamaño de la carga útil JSON).

<div id="2010">
  #### 2010
</div>

* 6 de marzo - Los operadores geográficos `has:geo`, `bounding_box:` y `point_radius:` empiezan a encontrar coincidencias.
* 28 de agosto - `has:videos` (hasta febrero de 2015, este operador encuentra coincidencias en Publicaciones con enlaces a determinados sitios de alojamiento de vídeo como youtube.com, vimeo.com y vivo.com).

<div id="2011">
  #### 2011
</div>

* 20 de julio: `has:media` y `has:images` comienzan a devolver coincidencias. Las fotos nativas se anunciaron oficialmente el 9 de agosto de 2010.

<div id="2014">
  #### 2014
</div>

* 3 de diciembre - (aproximadamente) *Algunos* [metadatos de URL mejorados](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) con título y descripción HTML empezaron a incluirse en los payloads. Los metadatos mejorados terminaron de consolidarse en mayo de 2016.

<div id="2015">
  #### 2015
</div>

* 10 de febrero: `has:videos` coincide con videos nativos de X.
* 17 de febrero: los operadores `has:profile_geo`, `profile_country:`, `profile_region:`, `profile_locality:` de [Profile Geo](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#profile-geo) empiezan a aplicarse.
* 17 de febrero: los operadores de geolocalización de Publicaciones `place_country:` y `place:` empiezan a aplicarse.

<div id="2016">
  #### 2016
</div>

* 1 de mayo: [metadatos de URL mejorados](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) disponibles de forma más amplia y anunciados oficialmente como parte del [lanzamiento de Gnip 2.0 en agosto de 2016](https://blog.x.com/2016/gnip-2-is-here). No hay operadores asociados para estos metadatos en las APIs de búsqueda.

<div id="2017">
  #### 2017
</div>

* 22 de febrero: los metadatos de encuestas pasan a estar disponibles en formato nativo enriquecido. No hay Operators asociados a estos metadatos.

<div id="2022">
  #### 2022
</div>

* 27 de septiembre: todos los objetos de Publicación creados desde esta fecha cuentan con metadatos de edición de Publicaciones disponibles. Todos los endpoints de Enterprise que devuelven objetos de Publicación se actualizaron para incluir estos metadatos a partir de esta fecha. Los metadatos de edición proporcionados incluyen los objetos `edit_history` y `edit_controls`. Estos metadatos no se devolverán para Publicaciones que se hayan creado antes del 27 de septiembre de 2022. Actualmente, no hay operadores de Enterprise disponibles que coincidan con estos metadatos. Para obtener más información sobre los metadatos de edición de Publicaciones, consulta la página [Conceptos básicos sobre la edición de Publicaciones](/es/x-api/fundamentals/edit-posts).

<div id="2022">
  #### 2022
</div>

* 29 de septiembre: todos los objetos de Publicación creados desde esta fecha tienen disponibles metadatos de Publicación editada. Todos los endpoints de Enterprise que proporcionan objetos de Publicación se actualizaron para proporcionar estos metadatos a partir de esta fecha. Los metadatos de edición proporcionados incluyen los objetos `edit_history` y `edit_controls`. Estos metadatos no se devolverán para Publicaciones que se crearon antes del 27 de septiembre de 2022. Actualmente, no hay operadores de Enterprise disponibles que admitan estos metadatos. Para obtener más información sobre los metadatos de Publicación editada, consulta la página [Conceptos básicos sobre Publicaciones editadas](/es/x-api/fundamentals/edit-posts).

<div id="filtering-tips">
  ### Consejos de filtrado
</div>

Dada toda la información anterior sobre las líneas de tiempo, está claro que hay muchos detalles que considerar al escribir filtros de las APIs de búsqueda. Hay dos aspectos clave que debes tener en cuenta:

* Algunos metadatos tienen fechas de “nacimiento”, por lo que los filtros pueden producir *falsos negativos*. Estas búsquedas incluyen operadores que dependen de metadatos que no existieron durante todo o parte del período de búsqueda. Por ejemplo, si estás buscando Publicaciones con el operador `has:images`, no obtendrás coincidencias para períodos anteriores a julio de 2011. Esto se debe a que ese operador busca fotos *nativas* (adjuntadas a una Publicación usando la interfaz de usuario de X). Para obtener un conjunto de datos más completo de Publicaciones en las que se comparten fotos, los filtros para antes de julio de 2011 tendrían que contener cláusulas de regla que coincidan con URL comunes de alojamiento de fotos.
* Algunos metadatos se han rellenado a posteriori con metadatos de un momento *posterior* a cuando se publicó en X.

Hay varios tipos de atributos en los que suele centrarse la atención al crear consultas de PowerTrack:

* Perfiles de X
* Publicaciones originales o compartidas
* Clasificación de idioma de la Publicación
* Publicaciones georreferenciadas
* Contenido multimedia de enlaces compartidos

Algunos de estos presentan un comportamiento específico del producto, mientras que otros tienen un comportamiento idéntico. Consulta a continuación para obtener más detalles.

<div id="x-profiles">
  #### Perfiles de X
</div>

Las APIs de búsqueda devuelven Publicaciones históricas con los datos del perfil de usuario tal como están en el *momento de la recuperación*. Si solicitas una Publicación de 2014, los metadatos del perfil del usuario reflejarán cómo es en el momento de la consulta.

<div id="original-posts-and-retweets">
  #### Publicaciones originales y Retweets
</div>

El operador PowerTrack `_is:retweet_` permite a los usuarios incluir o excluir Retweets. Los usuarios de este operador deben contar con dos estrategias para hacer coincidir (o no) Retweets en los datos anteriores a agosto de 2009. Antes de agosto de 2009, es necesario revisar el propio mensaje de la Publicación, utilizando coincidencia de frase exacta, para encontrar coincidencias con el patrón “@RT ” (de hecho, si estás filtrando Retweets del período entre mayo y agosto de 2009, se debe incluir el patrón “Via @”). Para los períodos posteriores a agosto de 2009, se puede utilizar el operador *is:retweet*.

<div id="post-language-classifications">
  #### Clasificaciones de idioma de las Publicaciones
</div>

Para filtrar según la clasificación de idioma de una Publicación, los productos históricos de X difieren bastante. Cuando se creó el archivo de búsqueda, todas las Publicaciones se completaron retrospectivamente con la clasificación de idioma de X. Por lo tanto, el operador lang: está disponible para todo el archivo de Publicaciones.

<div id="geo-referencing-posts">
  #### Georreferenciación de Publicaciones
</div>

Hay tres formas principales de georreferenciar Publicaciones:

* **Referencias geográficas en el mensaje de la Publicación.** Buscar coincidencias basadas en referencias geográficas en el mensaje de la Publicación, aunque a menudo es el método más desafiante ya que depende del conocimiento local, es una opción para todo el archivo de Publicaciones. [Aquí](https://x.com/biz/statuses/28311) hay un ejemplo de coincidencia con referencia geográfica de 2006 para el área de San Francisco basada en un filtro «golden gate».

* **Publicaciones geoetiquetadas por el usuario.** Con las APIs de búsqueda, la capacidad de empezar a buscar coincidencias en Publicaciones con algunos Geo Operators comenzó en marzo de 2010, y con otros en febrero de 2015:

  * 6 de marzo de 2010: `has:geo`, `bounding_box:` y `point_radius:`
  * 17 de febrero de 2015: `place_country:` y `place:`

* **Ubicación de «inicio» del perfil de la cuenta establecida por el usuario.** Los Profile Geo Operators están disponibles tanto en Historical PowerTrack como en las Search APIs. Con las Search APIs, estos metadatos de Profile Geo están disponibles a partir de febrero de 2015. Para las Publicaciones publicadas antes de que los metadatos de Profile Geo estuvieran disponibles, el operador `bio_location:` está disponible y se puede usar para buscar coincidencias con entradas de usuario sin normalizar.

<div id="shared-links-and-media">
  #### Enlaces compartidos y contenido multimedia
</div>

En marzo de 2012 se introdujo el enriquecimiento de URL expandida. Antes de este momento, los payloads de las Publicaciones incluían solo la URL tal como la proporcionaba el usuario. Por lo tanto, si el usuario incluía una URL acortada, puede resultar difícil hacerla coincidir con las URL (expandidas) de interés. Con las APIs de búsqueda, estos metadatos están disponibles a partir de marzo de 2012.

En julio de 2016 se introdujo el enriquecimiento de URL mejorado. Esta versión mejorada proporciona el título y la descripción HTML de un sitio web en el payload de la Publicación, junto con operadores para hacer coincidencias con ellos. Estos metadatos comienzan a aparecer en diciembre de 2014.

En septiembre de 2016, X introdujo los “native attachments”, donde un enlace compartido al final no se contabiliza dentro del límite de 140 caracteres de la Publicación. Ambos enriquecimientos de URL siguen aplicándose a estos enlaces compartidos.

A continuación se indica desde cuándo los operadores de búsqueda relacionados comienzan a hacer coincidencias:

* 26 de octubre de 2006 - `has:links`
* 20 de julio de 2011 - `has:images` y `has:media`
* Agosto de 2011 - `url:` con el [enriquecimiento de Expanded URLs](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) Desde tan pronto como septiembre de 2006, `(url:"spotify.com" OR url:gnip OR url:microsoft OR url:google OR url:youtube)` coincide con http://x.com/Adam/statuses/16602, aunque no haya metadatos urls[] en twitter&#95;entities y en los objetos de gnip. “youtube.com” es un ejemplo de contenido del mensaje que, sin ningún metadato urls[], coincide con url:youtube.
* 10 de febrero de 2015 - `has:videos` para videos nativos. Entre 2010/08/28 y 2015/02/10, este operador coincide con Publicaciones con enlaces a determinados sitios de alojamiento de video como youtube.com, vimeo.com y vivo.com.
* 1 de mayo de 2016 - `url_title:` y `url_description:`, basados en el [enriquecimiento de Enhanced URLs](/es/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments), disponibles de forma general. Los primeros metadatos de Enhanced URL comenzaron a aparecer en diciembre de 2014.

<div id="frequently-asked-questionsfaq">
  ## Preguntas frecuentes (FAQ)
</div>

<div id="general-search-post-api-questions">
  ### Preguntas generales sobre la API de búsqueda de Publicaciones
</div>

<AccordionGroup>
  <Accordion title="La cantidad de Publicaciones que recibo con el endpoint de datos no coincide con el número de Publicaciones que identifica el endpoint counts. ¿Por qué ocurre esto?">
    Existe una diferencia conocida entre los resultados proporcionados por el endpoint counts y el endpoint data. Es posible que veas una discrepancia en tus resultados porque el endpoint counts es previo al cumplimiento (es decir, no tiene en cuenta aspectos como Publicaciones eliminadas, scrub geo, etc.), mientras que el endpoint data cumple con las normas en el momento de la entrega y considera todos los eventos de cumplimiento.
  </Accordion>

  <Accordion title="No obtuve una Publicación que debería coincidir con mi consulta. ¿Por qué?">
    Hay algunas razones diferentes por las que esto podría haber sucedido, entre ellas:

    1. la Publicación que esperabas ver es de una cuenta protegida
    2. que el endpoint de datos tiene en cuenta todos los eventos de cumplimiento (lo que significa que las Publicaciones eliminadas, los geodatos depurados, etc., no se incluirán en la respuesta).
  </Accordion>

  <Accordion title="Mi consulta coincidió con una Publicación, pero contiene una palabra clave que excluí. ¿Por qué ocurre esto?">
    Esto probablemente se debe a un uso incorrecto de nuestras reglas premium y del filtrado. Consulta nuestra documentación [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering) y asegúrate de comprender las restricciones relacionadas con la creación de reglas.
  </Accordion>

  <Accordion title="¿Hay alguna biblioteca que pueda usar para empezar a trabajar con las APIs de búsqueda de Publicaciones?">
    Sí, las hay, incluidas:

    * [Tweepy](http://www.tweepy.org/) - buena para usar el producto estándar de búsqueda de Publicaciones (Python)
    * [X API](https://github.com/geduldig/TwitterAPI) - buena para usar las API estándar de Search Post (Python)
    * [Search Posts Python](https://github.com/xdevplatform/search-tweets-python) y [Search Posts Ruby](https://github.com/xdevplatform/search-tweets-ruby) - dos buenas herramientas que se pueden usar con las API de Search Post de Enterprise (¡y v2!)

    Todas las bibliotecas para las que ofrecemos soporte directo se pueden encontrar en nuestra página de GitHub de xdevplatform: [https://github.com/xdevplatform](https://github.com/xdevplatform).

    Hay [otras bibliotecas de terceros](/es/resources/fundamentals/authentication#oauth-1-0a-2) que también pueden ser útiles; sin embargo, ten en cuenta que es posible que algunas de ellas no funcionen con nuestros productos premium y Enterprise.
  </Accordion>

  <Accordion title="¿Alguna vez recibiré un volumen de Publicaciones inferior al valor que establecí como `maxResults` en mi solicitud al endpoint de datos?">
    Sí. Nuestro endpoint de datos pagina según el valor especificado en `maxResults` o después de 30 días.

    Por ejemplo, si tienes 800 Publicaciones en un período de 30 días, tendrás que hacer dos solicitudes para obtener todos los resultados, ya que el número máximo de Publicaciones que se puede devolver por solicitud es 500 (`maxResults`). Y si solo tienes 400 Publicaciones en el primer mes y luego 100 Publicaciones en el segundo mes, también tendrás que hacer dos solicitudes para obtener todos los resultados, porque la paginación se produce después de un período de 30 días, incluso si la primera solicitud devuelve menos Publicaciones que el valor especificado en `maxResults`.
  </Accordion>

  <Accordion title="¿En qué orden se devuelven las Publicaciones que coinciden?">
    Las Publicaciones se devuelven en orden cronológico inverso. Por ejemplo, la primera página de resultados mostrará las Publicaciones más recientes que coincidan con la consulta, y la paginación continuará hasta que las fechas de publicación de los resultados alcancen el `fromDate` solicitado inicialmente.
  </Accordion>

  <Accordion title="¿Cómo afecta la edición de Publicaciones a mi uso y a mi facturación?">
    Solo la Publicación original contará a efectos de facturación. Cualquier edición posterior se ignorará y no se tendrá en cuenta en el cómputo total de tu actividad. 

    `Enterprise`
  </Accordion>

  <Accordion title="Me interesa obtener más información sobre los precios de la Enterprise Search Post API y solicitar el acceso a esta oferta. ¿Cómo puedo hacerlo?">
    Nuestras soluciones Enterprise se personalizan, con precios predecibles, para adaptarse a las necesidades de su empresa. Para obtener más información, envíe su solicitud [aquí](/es/x-api/enterprise-gnip-2.0/enterprise-gnip).
  </Accordion>

  <Accordion title="¿Cómo creo un conjunto de reglas que se adapte a mi caso de uso?">
    * Puedes consultar nuestra documentación de las APIs Enterprise de Search Post [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#enterprise-search-apis)
    * Puedes encontrar información útil sobre reglas y filtrado [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#enterprise-operators)
    * Puedes encontrar información útil para usar el endpoint data [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#data-endpoint)
    * Puedes encontrar información útil para usar el endpoint counts [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#counts-endpoint)
    * Puedes encontrar una lista de operadores disponibles [aquí](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators)
  </Accordion>

  <Accordion title="He superado mi límite de solicitudes de este mes, pero necesito acceder a más datos. ¿Qué puedo hacer?">
    Ponte en contacto con tu Account Manager de X, quien podrá ayudarte con esto.
  </Accordion>
</AccordionGroup>

<div id="error-troubleshooting-guide">
  ### Guía para la resolución de errores
</div>

**Código 404 - No encontrado**

1. Asegúrate de que estás utilizando los parámetros correctos para cada endpoint (por ejemplo, el campo `buckets` solo se puede usar con el endpoint de counts, no con el endpoint de data).
2. Verifica nuevamente que los campos `:product`, `:account_name` y `:label` sean correctos. Puedes encontrar tu campo `:label` en la GNIP Console (solo clientes Enterprise).

<div id="api-reference">
  ## Referencia de la API
</div>

<div id="enterprise-search-apis">
  ### Enterprise search APIs
</div>

Hay dos APIs de búsqueda Enterprise:

* 30-Day Search API: proporciona Publicaciones realizadas en los últimos 30 días.
* Full-Archive Search API: proporciona Publicaciones desde el año 2006, comenzando con la primera Publicación realizada en marzo de 2006.

Estas APIs de búsqueda Enterprise comparten un diseño común y la documentación a continuación se aplica a ambas. Ten en cuenta que, para las Publicaciones creadas a partir del 29 de septiembre de 2022, los objetos de Publicación incluirán metadatos de edición de la Publicación que describen su historial de ediciones. Consulta la página de fundamentos [&quot;Editar Publicaciones&quot;](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets) para más detalles.

A continuación encontrarás detalles importantes necesarios al integrarte con las APIs de búsqueda Enterprise:

* Métodos para solicitar datos de Publicaciones y recuentos
* Autenticación
* Paginación
* Parámetros de solicitud de la API y ejemplos de solicitudes
* Cargas útiles JSON de respuesta de la API y ejemplos de respuestas
* Códigos de respuesta HTTP

Las Enterprise APIs proporcionan acceso de baja latencia, de fidelidad completa y basado en consultas al archivo de Publicaciones. La única diferencia entre las dos APIs es el intervalo de tiempo que puedes buscar, ya sea los 30 días anteriores o desde el año 2006. Los intervalos de tiempo se pueden especificar con granularidad de minutos. Los datos de Publicaciones se sirven en orden cronológico inverso, comenzando con la Publicación más reciente que coincida con tu consulta. Las Publicaciones están disponibles en la API de búsqueda aproximadamente 30 segundos después de ser publicadas.

<div id="methods">
  #### Métodos
</div>

El URI base para la búsqueda Enterprise es `https://gnip-api.x.com/search/`.

| Método | Descripción |
| :--- | :--- |
| [POST /search/:product/accounts/:account&#95;name/:label](#SearchRequests) | Recupera Publicaciones de los últimos 30 días que coinciden con la regla de PowerTrack especificada. |
| [POST /search/:product/accounts/:account&#95;name/:label/counts](#CountRequests) | Recupera la cantidad de Publicaciones de los últimos 30 días que coinciden con la regla de PowerTrack especificada. |

Donde:

* `:product` indica el endpoint de búsqueda al que realizas solicitudes, ya sea `30day` o `fullarchive`.
* `:account_name` es el nombre (sensible a mayúsculas y minúsculas) asociado con tu cuenta, tal como se muestra en console.gnip.com.
* `:label` es la etiqueta (sensible a mayúsculas y minúsculas) asociada con tu endpoint de búsqueda, tal como se muestra en console.gnip.com.

Por ejemplo, si la cuenta TwitterDev tiene el producto de búsqueda de 30 días con una etiqueta &quot;prod&quot; (abreviatura de production), los endpoints de búsqueda serían:

* Endpoint de datos: [https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod.json](https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod.json)
* Endpoint de conteos: [https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod/counts.json](https://gnip-api.x.com/search/30day/accounts/TwitterDev/prod/counts.json)

Tu endpoint completo de la API de búsqueda Enterprise se muestra en [https://console.gnip.com](https://console.gnip.com).

A continuación se muestran varias solicitudes de ejemplo utilizando una sencilla utilidad HTTP llamada curl. Estos ejemplos usan URLs con `:product`, `:account_name` y `:label`. Para usar estos ejemplos, asegúrate de actualizar las URLs con tus datos.

<div id="authentication">
  #### Autenticación
</div>

Todas las solicitudes a las APIs de búsqueda de Enterprise deben utilizar *autenticación básica HTTP (HTTP Basic Authentication)*, construida a partir de una combinación válida de dirección de correo electrónico y contraseña que utilizas para iniciar sesión en tu cuenta en [https://console.gnip.com](https://console.gnip.com). Las credenciales deben pasarse en el encabezado *Authorization* de cada solicitud.

<div id="requestresponse-behavior">
  #### Comportamiento de solicitud/respuesta
</div>

Con los parámetros `fromDate` y `toDate`, puedes solicitar cualquier período de tiempo que la API admita. La API de búsqueda de 30 días proporciona Publicaciones de los 31 días más recientes (aunque se denomina API de &quot;30 días&quot;, pone a disposición 31 días para permitir que los usuarios realicen solicitudes de mes completo). La API de búsqueda de archivo completo proporciona Publicaciones hasta la primera Publicación (21 de marzo de 2006). Sin embargo, una sola respuesta estará limitada al menor valor entre el `maxResults` que especifiques y 31 días. Si los datos coincidentes o tu rango de tiempo superan el `maxResults` que hayas especificado o los 31 días, recibirás un token `next` que debes usar para paginar el resto del rango temporal que especificaste.

Por ejemplo, supongamos que estás usando la búsqueda de archivo completo y quieres todas las Publicaciones que coincidan con tu consulta desde el 1 de enero de 2017 hasta el 30 de junio de 2017. Especificarás ese período completo de seis meses en tu solicitud usando los parámetros `fromDate` y `toDate`. La API de búsqueda responderá con la primera &quot;página&quot; de Publicaciones, con el número de Publicaciones que coincidan con tu parámetro `maxResults` (cuyo valor predeterminado es 100). Suponiendo que haya más Publicaciones (y lo más probable es que las haya), la API también proporcionará un token `next` que te permitirá realizar una solicitud para la siguiente &quot;página&quot; de datos. Este proceso se repite hasta que la API ya no devuelva un token `next`. Consulta la siguiente sección para obtener más detalles.

<div id="pagination">
  #### Paginación
</div>

Al realizar solicitudes tanto de datos como de cantidad, es probable que haya más datos de los que se puedan devolver en una sola respuesta. Cuando sea así, la respuesta incluirá un token ‘next’. El token ‘next’ se proporciona como un atributo JSON de nivel raíz. Siempre que se proporcione un token ‘next’, habrá datos adicionales que recuperar, por lo que deberás seguir realizando solicitudes a la API.

**Nota:** El comportamiento del token ‘next’ difiere ligeramente para las solicitudes de datos y de cantidad, y ambos se describen a continuación, con respuestas de ejemplo incluidas en la sección de Referencia de la API.

<div id="data-pagination">
  ##### Paginación de datos
</div>

Es probable que las solicitudes de datos generen más datos de los que se pueden devolver en una sola respuesta. Cada solicitud de datos incluye un parámetro que establece el número máximo de Publicaciones que se devolverán por solicitud. Este parámetro `maxResults` tiene un valor predeterminado de 100 y se puede configurar en un rango de 10 a 500. Si tu consulta devuelve más Publicaciones que las indicadas por el parámetro `maxResults` utilizado en la solicitud, la respuesta incluirá un token `next` (como un atributo JSON de nivel raíz). Este token `next` se usa en la siguiente solicitud para recuperar la siguiente parte de las Publicaciones que coinciden con esa consulta (es decir, la siguiente &quot;página&quot;). Se seguirán proporcionando tokens `next` hasta que hayas llegado a la última &quot;página&quot; de resultados para esa consulta, momento en el que ya no se proporcionará ningún token `next`.

Para solicitar la siguiente &quot;página&quot; de datos, debes realizar exactamente la misma consulta que la inicial, incluidos los parámetros `query`, `toDate` y `fromDate`, si se utilizaron, y también incluir un parámetro de solicitud `next` establecido con el valor de la respuesta anterior. Esto se puede utilizar tanto con una solicitud GET como POST. Sin embargo, el parámetro `next` debe estar codificado para URL en el caso de una solicitud GET.

Puedes seguir enviando el elemento `next` de tu consulta anterior hasta que hayas recibido todas las Publicaciones del período de tiempo cubierto por tu consulta. Cuando recibas una respuesta que no incluya un elemento `next`, significa que has llegado a la última página y no hay datos adicionales disponibles para la consulta y el intervalo de tiempo especificados.

<div id="counts-pagination">
  ##### Paginación de recuentos
</div>

El endpoint &quot;counts&quot; proporciona volúmenes de Publicaciones asociados con una consulta en una base diaria, por hora o por minuto. El endpoint de la API &quot;counts&quot; devolverá un array de recuentos con marca de tiempo para una carga útil máxima de recuentos de 31 días. Si solicitas más de 31 días de recuentos, se te proporcionará un token &quot;next&quot;. Al igual que con los tokens &quot;next&quot; de datos, debes hacer exactamente la misma consulta que la original e incluir también un parámetro de solicitud &quot;next&quot; establecido con el valor de la respuesta anterior.

Además de solicitar más de 31 días de recuentos, hay otro escenario en el que se proporciona un token &quot;next&quot;. Para consultas de mayor volumen, existe la posibilidad de que la generación de recuentos tarde lo suficiente como para provocar un tiempo de espera de la respuesta. Cuando esto ocurre, recibirás menos de 31 días de recuentos, pero se te proporcionará un token &quot;next&quot; para que puedas seguir realizando solicitudes hasta obtener la carga útil completa de recuentos. ***Importante:*** Los tiempos de espera solo devolverán intervalos (&quot;buckets&quot;) completos; por lo tanto, 2,5 días darían como resultado 2 intervalos de días completos.

<div id="additional-notes">
  ##### Notas adicionales
</div>

* Al usar un fromDate o toDate en una solicitud de búsqueda, solo obtendrás resultados dentro de tu intervalo de tiempo. Cuando llegues al último grupo de resultados dentro de ese intervalo, no recibirás un token &#39;next&#39;.
* El elemento &#39;next&#39; se puede usar con cualquier valor de maxResults entre 10 y 500 (con un valor predeterminado de 100). maxResults determina cuántas Publicaciones se devuelven en cada respuesta, pero no impide que acabes obteniendo todos los resultados.
* El elemento &#39;next&#39; no caduca. Múltiples solicitudes que utilizan la misma consulta &#39;next&#39; recibirán los mismos resultados, sin importar cuándo se realice la solicitud.
* Al paginar resultados usando el parámetro &#39;next&#39;, puedes encontrarte con duplicados en los límites de la consulta. Tu aplicación debe tolerarlos.

<div id="data-endpoint">
  #### Endpoint de datos
</div>

<div id="post-searchproductlabel">
  ##### POST /search/:product/:label
</div>

<div id="endpoint-pattern">
  ###### Patrón de endpoint:
</div>

Este endpoint devuelve datos para la consulta y el período de tiempo especificados. Si no se especifica un período de tiempo, los parámetros de tiempo se establecerán de forma predeterminada en los últimos 30 días. Nota: Esta funcionalidad también se puede conseguir mediante una solicitud GET, en lugar de una POST, codificando los parámetros descritos a continuación en la URL.

<div id="data-request-parameters">
  ##### Parámetros de solicitud de datos
</div>

| Parámetros | Descripción | Obligatorio | Valor de ejemplo |
| :--- | :--- | :--- | :--- |
| query | El equivalente a una regla de PowerTrack, con hasta 2.048 caracteres (y sin límites en el número de cláusulas positivas y negativas).  <br />  <br />Este parámetro debe incluir TODAS las partes de la regla de PowerTrack, incluidos todos los operadores, y las partes de la regla no deben separarse en otros parámetros de la query.  <br />  <br />**Nota:** No se admiten todos los operadores de PowerTrack. Los operadores admitidos se enumeran [AQUÍ](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators). | Sí | (snow OR cold OR blizzard) weather |
| tag | Las etiquetas pueden utilizarse para segmentar reglas y sus datos coincidentes en diferentes grupos lógicos. Si se proporciona una etiqueta de regla, esta se incluye en el atributo &#39;matching&#95;rules&#39;.  <br />  <br />Se recomienda asignar UUID específicos de cada regla a las etiquetas y mantener las asociaciones deseadas en el lado del cliente. | No  | 8HYG54ZGTU |
| fromDate | La marca de tiempo UTC más antigua (hasta el 21/3/2006 con búsqueda de archivo completo (Full-Archive)) a partir de la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y es inclusiva (es decir, 12:00 incluye el minuto 00).  <br />  <br />*Especificado:* Usar solo fromDate sin el parámetro toDate entregará resultados para la query retrocediendo en el tiempo desde now( ) hasta fromDate.  <br />  <br />*No especificado:* Si no se especifica un fromDate, la API entregará todos los resultados correspondientes a los 30 días previos a now( ) o a toDate (si se especifica).  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará todos los resultados de los 30 días más recientes, comenzando en el momento de la solicitud y retrocediendo. | No  | 201207220000 |
| toDate | La marca de tiempo UTC más reciente hasta la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y no es inclusiva (es decir, 11:59 no incluye el minuto 59 de la hora).  <br />  <br />*Especificado:* Usar solo toDate sin el parámetro fromDate entregará los últimos 30 días de datos previos a toDate.  <br />  <br />*No especificado:* Si no se especifica un toDate, la API entregará todos los resultados desde now( ) para la query retrocediendo en el tiempo hasta fromDate.  <br />  <br />Si no se utiliza ni el parámetro fromDate ni toDate, la API entregará todos los resultados para todo el índice de 30 días, comenzando en el momento de la solicitud y retrocediendo. | No  | 201208220000 |
| maxResults | El número máximo de resultados de búsqueda que se devolverán en una solicitud. Un número entre 10 y el límite del sistema (actualmente 500). De forma predeterminada, la respuesta de una solicitud devolverá 100 resultados. | No  | 500 |
| next | Este parámetro se utiliza para obtener la siguiente &quot;página&quot; de resultados, tal como se describe [AQUÍ](#Pagination). El valor utilizado con el parámetro se extrae directamente de la respuesta proporcionada por la API y no debe modificarse. | No  | NTcxODIyMDMyODMwMjU1MTA0 |

<div id="additional-details">
  ###### Detalles adicionales
</div>

|     |     |
| :--- | :--- |
| **Available Timeframe** | 30-Day: últimos 31 días  <br />Full-Archive: 21 de marzo de 2006 - actualidad |
| **Query Format** | Equivalente a una regla de PowerTrack, con hasta 2,048 caracteres (y sin límites en la cantidad de cláusulas positivas y negativas).  <br />  <br />**Nota:** No todos los operadores de PowerTrack son compatibles. Consulta [Operadores disponibles](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para obtener una lista de los operadores compatibles. |
| **Rate Limit** | Los socios estarán sujetos a límites de frecuencia con granularidad tanto de minuto como de segundo. El límite de frecuencia por minuto variará según el socio, tal como se especifica en su contrato. Sin embargo, estos límites de frecuencia por minuto no están pensados para utilizarse en una sola ráfaga. Independientemente de su límite de frecuencia por minuto, todos los socios estarán limitados a un máximo de 20 solicitudes por segundo, agregadas en todas las solicitudes de datos y/o recuentos. |
| **Compliance** | Todos los datos entregados a través de la Full-Archive Search API cumplen con las normas de cumplimiento en el momento de su entrega. |
| **Realtime Availability** | Los datos están disponibles en el índice dentro de los 30 segundos posteriores a su generación en la plataforma de X. |

<div id="example-data-requests-and-responses">
  ##### Ejemplos de solicitudes de datos y sus respuestas
</div>

<div id="example-post-request">
  ###### Ejemplo de solicitud POST
</div>

* Los parámetros de una solicitud POST se envían mediante un cuerpo con formato JSON, como se muestra a continuación.
* Todas las partes de la regla de PowerTrack que se están consultando (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;.
* No separe partes de la regla como parámetros independientes en la URL de la consulta.

A continuación se muestra un ejemplo de comando POST (con cURL) para realizar una solicitud inicial de datos:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label.json" -d '{"query":"from:twitterDev","maxResults":500,"fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm"}'
```

Si la respuesta de datos de la API incluye un token &#39;next&#39;, a continuación se muestra una solicitud siguiente que es igual a la original, con el parámetro &#39;next&#39; establecido en el token proporcionado:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label.json" -d '{"query":"from:twitterDev","maxResults":500,"fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm",
    "next":"NTcxODIyMDMyODMwMjU1MTA0"}'
```

<div id="example-get-request">
  ###### Ejemplo de solicitud GET
</div>

* Los parámetros de una solicitud GET se codifican en la URL mediante la codificación URL estándar.
* Todas las partes de la regla de PowerTrack que se va a consultar (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben incluirse en el parámetro &#39;query&#39;.
* No separe partes de la regla como parámetros independientes en la URL de consulta.

Este es un ejemplo de comando GET (usando cURL) para realizar una solicitud inicial de datos:

```bash
    curl -u<username> "http://gnip-api.x.com/search/:product/accounts/:account_name/:label.json?query=from%3Atwitterdev&maxResults=500&fromDate=yyyymmddhhmm&toDate=yyyymmddhhmm"
```

<div id="example-data-responses">
  ###### Ejemplos de respuestas de datos
</div>

Ten en cuenta que, para las Publicaciones creadas a partir del 29 de septiembre de 2022, los objetos de Publicación incluirán metadatos de edición de la Publicación que describen su historial de ediciones. Consulta la página de conceptos básicos [&quot;Edit Tweets&quot;](/es/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets) para obtener más detalles.

A continuación se muestra un ejemplo de respuesta a una consulta de datos. Este ejemplo parte de que había más de ‘maxResults’ Publicaciones disponibles, por lo que se proporciona un token &#39;next&#39; para solicitudes posteriores. Si hay &#39;maxResults&#39; o menos Publicaciones asociadas con tu consulta, no se incluirá ningún token &#39;next&#39; en la respuesta.
El valor del elemento &#39;next&#39; cambiará con cada consulta y debe tratarse como una cadena opaca. El elemento &#39;next&#39; tendrá el siguiente aspecto en el cuerpo de la respuesta:

```json
{
    "results":
      [
            {--Publicación 1--},
            {--Publicación 2--},
            ...
            {--Publicación 500--}
      ],
    "next":"NTcxODIyMDMyODMwMjU1MTA0",
    "requestParameters":
      {
        "maxResults":500,
        "fromDate":"201101010000",
        "toDate":"201201010000"
      }
  }
```

La respuesta a una solicitud posterior podría tener el siguiente aspecto (observa las nuevas Publicaciones y el valor distinto de &#39;next&#39;):

```json
{
      "results":
      [
            {--Tweet 501--},
            {--Tweet 502--},
            ...
            {--Tweet 1000--}
      ],
      "next":"R2hCDbpBFR6eLXGwiRF1cQ",
      "requestParameters":
      {
        "maxResults":500,
        "fromDate":"201101010000",
        "toDate":"201201010000"
      }
  }
```

Puedes seguir pasando el elemento &#39;next&#39; de tu consulta anterior hasta que hayas recibido todas las Publicaciones correspondientes al período de tiempo cubierto por tu consulta. Cuando recibas una respuesta que no incluya el elemento &#39;next&#39;, significa que has llegado a la última página y no hay datos adicionales disponibles para tu intervalo de tiempo.

<div id="counts-endpoint">
  #### Endpoint de recuentos
</div>

<div id="searchstreamcounts">
  ##### /search/:stream/counts
</div>

<div id="endpoint-pattern">
  ###### Patrón de endpoint:
</div>

`/search/fullarchive/accounts/:account_name/:label/counts.json`

Este endpoint devuelve datos de conteos (volúmenes de datos) para la consulta especificada. Si no se especifica un período de tiempo, los parámetros de tiempo usarán por defecto los últimos 30 días. Los volúmenes de datos se devuelven como un array con marcas de tiempo a nivel diario, por hora (predeterminado) o por minuto.

**Nota:** Esta funcionalidad también se puede realizar usando una solicitud GET, en lugar de una POST, codificando los parámetros descritos a continuación en la URL.

<div id="counts-request-parameters">
  ##### Parámetros de la solicitud de conteos
</div>

| Parámetros | Descripción | Obligatorio | Valor de ejemplo |
| :--- | :--- | :--- | :--- |
| query | Equivalente a una regla de PowerTrack, con hasta 2.048 caracteres (y sin límites en la cantidad de cláusulas positivas y negativas).  <br />  <br />Este parámetro debe incluir TODAS las partes de la regla de PowerTrack, incluidos todos los operadores; las partes de la regla no deben separarse en otros parámetros de la consulta.  <br />  <br />**Nota:** No todos los operadores de PowerTrack son compatibles. Consulta [Available operators](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para ver una lista de los operadores compatibles. | Sí | (snow OR cold OR blizzard) weather |
| fromDate | La marca de tiempo UTC más antigua (hasta el 21/03/2006) a partir de la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y es inclusiva (es decir, 12:00 incluye el minuto 00).  <br />  <br />*Especificado:* Usar solo fromDate sin el parámetro toDate hará que la API entregue datos de conteos (volúmenes de datos) para la consulta, retroactivamente desde ahora hasta fromDate. Si fromDate es anterior a 31 días desde ahora( ), recibirás un next token para paginar tu solicitud.  <br />  <br />*No especificado:* Si no se especifica un fromDate, la API entregará conteos (volúmenes de datos) para los 30 días anteriores a ahora( ) o a toDate (si se especifica).  <br />  <br />Si no se usan ni el parámetro fromDate ni toDate, la API entregará conteos (volúmenes de datos) para los 30 días más recientes, empezando en el momento de la solicitud y retrocediendo en el tiempo. | No  | 201207220000 |
| toDate | La marca de tiempo UTC más reciente hasta la cual se proporcionarán las Publicaciones. La marca de tiempo tiene granularidad de minutos y no es inclusiva (es decir, 11:59 no incluye el minuto 59 de la hora).  <br />  <br />*Especificado:* Usar solo toDate sin el parámetro fromDate entregará los conteos (volúmenes de datos) más recientes para los 30 días anteriores a toDate.  <br />  <br />*No especificado:* Si no se especifica un toDate, la API entregará conteos (volúmenes de datos) para la consulta hacia atrás en el tiempo hasta fromDate. Si fromDate es más de 31 días anterior a ahora( ), recibirás un next token para paginar tu solicitud.  <br />  <br />Si no se usan ni el parámetro fromDate ni toDate, la API entregará conteos (volúmenes de datos) para los 30 días más recientes, empezando en el momento de la solicitud y hacia atrás en el tiempo. | No  | 201208220000 |
| bucket | La unidad de tiempo para la cual se proporcionarán los datos de conteo. Los datos de conteo se pueden devolver para cada día, hora o minuto dentro del intervalo de tiempo solicitado. De forma predeterminada, se devolverán conteos por hora. Opciones: &#39;day&#39;, &#39;hour&#39;, &#39;minute&#39; | No  | minute |
| next | Este parámetro se usa para obtener la siguiente &quot;página&quot; de resultados, como se describe [AQUÍ](#Pagination). El valor utilizado con el parámetro se toma directamente de la respuesta proporcionada por la API y no debe modificarse. | No  | NTcxODIyMDMyODMwMjU1MTA0 |

<div id="additional-details">
  ###### Detalles adicionales
</div>

|     |     |
| :--- | :--- |
| **Período de tiempo disponible** | De 30 días: últimos 31 días  <br />Archivo completo: 21 de marzo de 2006 - actualidad |
| **Formato de consulta** | Equivalente a una regla de PowerTrack, con hasta 2.048 caracteres.  <br />  <br />**Nota:** No todos los operadores de PowerTrack son compatibles. Consulta [Operadores disponibles](/es/x-api/enterprise-gnip-2.0/fundamentals/search-api#available-operators) para ver la lista de operadores compatibles. |
| **Límite de frecuencia** | Los socios estarán sujetos a límites de frecuencia tanto a nivel de minuto como de segundo. El límite de frecuencia por minuto variará según el socio, tal como se especifica en tu contrato. Sin embargo, estos límites de frecuencia por minuto no están pensados para usarse de una sola vez. Independientemente de tu límite de frecuencia por minuto, todos los socios estarán limitados a un máximo de 20 solicitudes por segundo, sumadas en todas las solicitudes de datos y/o conteos. |
| **Precisión de los recuentos** | Los recuentos proporcionados a través de este endpoint reflejan la cantidad de Publicaciones que se produjeron y no reflejan eventos de cumplimiento posteriores (eliminaciones, scrub geo). Algunas Publicaciones contadas pueden no estar disponibles a través del endpoint de datos debido a acciones de cumplimiento de los usuarios. |

<div id="example-counts-requests-and-responses">
  ##### Ejemplos de solicitudes y respuestas de conteos
</div>

<div id="example-post-request">
  ###### Ejemplo de solicitud POST
</div>

* Los parámetros de una solicitud POST se envían mediante un cuerpo con formato JSON, como se muestra a continuación.
* Todas las partes de la regla de PowerTrack que se van a consultar (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;.
* No separe partes de la regla como parámetros independientes en la URL de la consulta.

A continuación se muestra un ejemplo de comando POST (con cURL) para realizar una solicitud inicial de recuentos:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label/counts.json" -d '{"query":"TwitterDev","fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm","bucket":"day"}'
```

Si la respuesta de counts de la API incluye un token &#39;next&#39;, a continuación se muestra una solicitud posterior compuesta por la solicitud original, con el parámetro &#39;next&#39; establecido en el token proporcionado:

```bash
    curl -X POST -u<username> "https://gnip-api.x.com/search/:product/accounts/:account_name/:label/counts.json" -d '{"query":"TwitterDev","fromDate":"yyyymmddhhmm","toDate":"yyyymmddhhmm","bucket":"day",
    "next":"YUcxO87yMDMyODMwMjU1MTA0"}'
```

<div id="example-get-request">
  ###### Ejemplo de solicitud GET
</div>

* Los parámetros de una solicitud GET se codifican en la URL, mediante la codificación estándar de URL
* Todas las partes de la regla de PowerTrack que se estén consultando (por ejemplo, palabras clave u otros operadores como bounding&#95;box:) deben colocarse en el parámetro &#39;query&#39;
* No separe partes de la regla como parámetros independientes en la URL de la consulta

Aquí hay un ejemplo de comando GET (usando cURL) para realizar una solicitud inicial de conteos:

```bash
    curl -u<username> "http://gnip-api.x.com/search/fullarchive/accounts/:account_name/:label/counts.json?query=TwitterDev&bucket=day&fromDate=yyyymmddhhmm&toDate=yyyymmddhhmm"
```

<div id="example-counts-responses">
  #### Ejemplos de respuestas de conteos
</div>

A continuación se muestra un ejemplo de respuesta para una consulta de conteos (volumen de datos). Este ejemplo de respuesta incluye un token de &#39;next&#39;, lo que significa que la solicitud de conteos abarcaba más de 31 días o que la consulta enviada tenía un volumen asociado lo suficientemente grande como para generar una respuesta parcial.

El valor del elemento &#39;next&#39; cambiará con cada consulta y debe tratarse como una cadena opaca. El elemento &#39;next&#39; tendrá el siguiente aspecto en el cuerpo de la respuesta:

```json
    {
      "results": [
        { "timePeriod": "201101010000", "count": 32 },
        { "timePeriod": "201101020000", "count": 45 },
        { "timePeriod": "201101030000", "count": 57 },
        { "timePeriod": "201101040000", "count": 123 },
        { "timePeriod": "201101050000", "count": 134 },
        { "timePeriod": "201101060000", "count": 120 },
        { "timePeriod": "201101070000", "count": 43 },
        { "timePeriod": "201101080000", "count": 65 },
        { "timePeriod": "201101090000", "count": 85 },
        { "timePeriod": "201101100000", "count": 32 },
        { "timePeriod": "201101110000", "count": 23 },
        { "timePeriod": "201101120000", "count": 85 },
        { "timePeriod": "201101130000", "count": 32 },
        { "timePeriod": "201101140000", "count": 95 },
        { "timePeriod": "201101150000", "count": 109 },
        { "timePeriod": "201101160000", "count": 34 },
        { "timePeriod": "201101170000", "count": 74 },
        { "timePeriod": "201101180000", "count": 24 },
        { "timePeriod": "201101190000", "count": 90 },
        { "timePeriod": "201101200000", "count": 85 },
        { "timePeriod": "201101210000", "count": 93 },
        { "timePeriod": "201101220000", "count": 48 },
        { "timePeriod": "201101230000", "count": 37 },
        { "timePeriod": "201101240000", "count": 54 },
        { "timePeriod": "201101250000", "count": 52 },
        { "timePeriod": "201101260000", "count": 84 },
        { "timePeriod": "201101270000", "count": 120 },
        { "timePeriod": "201101280000", "count": 34 },
        { "timePeriod": "201101290000", "count": 83 },
        { "timePeriod": "201101300000", "count": 23 },
        { "timePeriod": "201101310000", "count": 12 }
       ],
      "totalCount":2027,
      "next":"NTcxODIyMDMyODMwMjU1MTA0",
      "requestParameters":
        {
          "bucket":"day",
          "fromDate":"201101010000",
          "toDate":"201201010000"
        }
    }
```

La respuesta a una solicitud posterior podría verse de la siguiente manera (observa el nuevo timeline de conteos y el valor diferente de &#39;next&#39;):

```json
    {
      "results": [
        { "timePeriod": "201102010000", "count": 45 },
        { "timePeriod": "201102020000", "count": 76 },
         ....
        { "timePeriod": "201103030000", "count": 13 }
     ],
     "totalCount":3288,
     "next":"WE79fnakFanyMDMyODMwMjU1MTA0",
     "requestParameters":
        {
          "bucket":"day",
          "fromDate":"201101010000",
          "toDate":"201201010000"
        }
    }
```

Puedes continuar pasando el elemento &#39;next&#39; de tu consulta anterior hasta que hayas recibido todos los recuentos del período de tiempo de la consulta. Cuando recibas una respuesta que no incluya un elemento &#39;next&#39;, significa que has llegado a la última página y no hay recuentos adicionales disponibles en tu intervalo de tiempo.

<div id="http-response-codes">
  #### Códigos de respuesta HTTP
</div>

| Estado | Texto | Descripción |
| :--- | :--- | :--- |
| 200 | OK  | La solicitud se realizó correctamente. La respuesta JSON será similar a la siguiente: |
| 400 | Bad Request | Generalmente, esta respuesta se produce debido a la presencia de JSON no válido en la solicitud, o cuando la solicitud no envía ningún cuerpo JSON. |
| 401 | Unauthorized | La autenticación HTTP falló debido a credenciales no válidas. Inicia sesión en console.gnip.com con tus credenciales para asegurarte de que las estás usando correctamente en tu solicitud. |
| 404 | Not Found | No se encontró el recurso en la URL a la que se envió la solicitud, probablemente porque se usó una URL incorrecta. |
| 422 | Unprocessable Entity | Se devuelve cuando hay parámetros no válidos en la consulta (por ejemplo, reglas de PowerTrack no válidas). |
| 429 | Unknown Code | Tu aplicación ha superado el límite de solicitudes de conexión. El mensaje JSON correspondiente será similar al siguiente: |
| 500 | Internal Server Error | Ocurrió un error en el lado del servidor. Reintenta la solicitud utilizando un patrón de backoff exponencial. |
| 502 | Proxy Error | Ocurrió un error en el lado del servidor. Reintenta la solicitud utilizando un patrón de backoff exponencial. |
| 503 | Service Unavailable | Ocurrió un error en el lado del servidor. Reintenta la solicitud utilizando un patrón de backoff exponencial. |