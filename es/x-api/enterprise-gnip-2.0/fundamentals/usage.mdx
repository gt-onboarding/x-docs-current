---
title: API de uso
description: "Usage API es una API REST gratuita que proporciona acceso programático y visibilidad del consumo de actividad en todos los productos de tu cuenta Enterprise."
sidebarTitle: API de uso
keywords: ["Usage API", "Usage API de Enterprise", "seguimiento de uso", "seguimiento de consumo", "uso de Enterprise", "uso de API en Enterprise"]
---

<div id="usage-api-twitter-api">
  ## Usage API | API de Twitter
</div>

<div id="overview">
  ### Descripción general
</div>

`Enterprise`

Es la herramienta más importante y *mejor* para ayudarte a supervisar y gestionar el uso en las diferentes APIs asociadas a tu cuenta.

**Aviso importante:**

Los recuentos de uso devueltos por la Usage API pueden no coincidir con los de una factura debido a periodos de prueba y otros ajustes de facturación. Todas las cifras se basan en actividades deduplicadas consumidas en un día determinado (en UTC).

<div id="features">
  #### Características
</div>

* Obtener de forma programática los datos de uso disponibles en la interfaz de usuario de console.gnip.com
* Datos de uso a nivel de stream: proporciona datos de uso a nivel de stream (por ejemplo, dev y prod), además del nivel de producto
* Datos granulares y descriptivos: las solicitudes de búsqueda (“requests”) se desglosan entre los productos Full-Archive y 30-Day Search
* “Days” y “jobs” históricos de PowerTrack 

<div id="supported-apis">
  ### APIs compatibles
</div>

A continuación se muestra una lista de las APIs que actualmente admite Usage API:

* PowerTrack API `enterprise`
* 30-Day Search API `enterprise`
* Full-Archive Search API `enterprise`
* Historical PowerTrack `enterprise`

<div id="limitations">
  ### Limitations
</div>

* La Usage API te permite acceder a datos de uso a partir del 1 de mayo de 2018. Después del 1 de julio de 2019, Usage API te permite acceder a datos de uso de los **13 meses calendario anteriores**

* Puedes acceder a datos de uso en **intervalos de tres meses** definidos con un fromDate y un toDate

Consulta a continuación un ejemplo de solicitud y respuesta:

```bash
curl -u<username>:<password> \
"https://gnip-api.x.com/metrics/usage/accounts/<account-name>.json?bucket=month"
```

```json
{
  "account": {
    "name": "accountnamehere"
  },
  "publishers": [
    {
      "type": "twitter",
      "used": [
        {
          "timePeriod": "201805010000",
          "activities": 1235,
          "searchRequests30Day": 3,
          "searchRequestsFullArchive": 19,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201806010000",
          "activities": 23467,
          "searchRequests30Day": 0,
          "searchRequestsFullArchive": 66,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201807010000",
          "activities": 431,
          "searchRequests30Day": 11,
          "searchRequestsFullArchive": 4,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        }
      ],
      "projected": {
        "timePeriod": "201807010000",
        "activities": 803,
        "searchRequests30Day": 20,
        "searchRequestsFullArchive": 7,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0
      },
      "products": [
        {
          "type": "Suscripción a Historical PowerTrack",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 0,
            "days": 0,
            "jobs": 0
          }
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 267
            },
            {
              "timePeriod": "201806010000",
              "activities": 3
            },
            {
              "timePeriod": "201807010000",
              "activities": 32
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 59
          },
          "endpoints": [
            {
              "type": "PowerTrack 2.0",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            },
              {
              "type": "PowerTrack Replay 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "API de búsqueda (30 días) 2.0",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 10,
              "searchRequests30Day": 3
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 23,
              "searchRequests30Day": 11
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 42,
            "searchRequests30Day": 20
          },
          "endpoints": [
            {
              "type": "API de búsqueda (30 días) 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 10,
                  "searchRequests30Day": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 21,
                  "searchRequests30Day": 10
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 39,
                "searchRequests30Day": 18
              }
            }
          ]
        },
        {
          "type": "API de búsqueda (archivo completo)",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 961,
              "searchRequestsFullArchive": 19
            },
            {
              "timePeriod": "201806010000",
              "activities": 23466,
              "searchRequestsFullArchive": 66
            },
            {
              "timePeriod": "201807010000",
              "activities": 379,
              "searchRequestsFullArchive": 4
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 706,
            "searchRequestsFullArchive": 7
          },
          "endpoints": [
            {
              "type": "API de búsqueda (archivo completo)",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 1,
                  "searchRequestsFullArchive": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 2,
                  "searchRequestsFullArchive": 1
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 3,
                "searchRequestsFullArchive": 1
              }
            },
            {
              "type": "API de búsqueda (archivo completo)",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 961,
                  "searchRequestsFullArchive": 16
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 23466,
                  "searchRequestsFullArchive": 66
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 379,
                  "searchRequestsFullArchive": 3
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 706,
                "searchRequestsFullArchive": 5
              }
            }
          ]
        }
      ]
    }
  ],
  "bucket": "month",
  "fromDate": "201805010000",
  "toDate": "201808010000"
}
```

<div id="sample-payload">
  ### Ejemplo de carga
</div>

A continuación, se muestra un ejemplo de la carga:

```bash
{
  "account": {
    "name": "gnip-username"
  },
  "bucket": "month",
  "publishers": [
    {
      "type": "automattic",
      "used": [
        {
          "activities": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "timePeriod": "201603010000"
      },
      "products": [
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201603010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201603010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "dev",
              "used": [
                {
                  "timePeriod": "201603010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201603010000",
                "activities": 0
              }
            }
          ]
        }
      ]
    },
    {
      "type": "twitter",
      "used": [
        {
          "activities": 84,
          "searchRequests30Day": 4,
          "searchRequestsFullArchive": 0,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "searchRequests30Day": 0,
        "searchRequestsFullArchive": 0,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0,
        "timePeriod": "201601010000"
      },
      "products": [
        {
          "type": "Historical PowerTrack 2.0",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 11884,
              "days": 5,
              "jobs": 5
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ]
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 27456
            },
            {
              "timePeriod": "201601010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 2930
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 24542
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2-1",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "Search API",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "Search API",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "Search API (30-Day)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "Search API (30-Day)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "Search API (Full-Archive)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequestsFullArchive": 0
          },
          "endpoints": [
            {
              "type": "Search API (Full-Archive)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequestsFullArchive": 0
              }
            }
          ]
        }
      ]
    }
  ]
}
```

<div id="api-reference">
  ## Referencia de API
</div>

<div id="get-usage">
  ### get-usage
</div>

<div id="methods">
  #### **Métodos**
</div>

| Método | Descripción |
| :--- | :--- |
| [GET /metrics/usage/accounts/{ACCOUNT_NAME}.json](#GETData) | Recuperar datos de uso |

Donde:

* :account&#95;name es el nombre (que distingue entre mayúsculas y minúsculas) asociado a tu cuenta, tal como se muestra en console.gnip.com

<div id="authentication-and-rate-limit">
  #### **Autenticación y límites de uso**
</div>

<div id="authentication">
  ##### **Autenticación**
</div>

Todas las solicitudes a la Usage API requieren autenticación básica HTTP, utilizando cualquiera de las credenciales de correo electrónico y contraseña habilitadas en tu cuenta para iniciar sesión en console.gnip.com o conectarte a cualquier stream de Gnip.

<div id="rate-limit">
  ##### **Límite de solicitudes**
</div>

La Usage API aplica un límite de dos solicitudes por minuto.

<div id="best-practices-limitations">
  #### **Mejores prácticas y limitaciones**
</div>

<div id="data-availability">
  ##### **Disponibilidad de datos**
</div>

Los datos de uso se basan en actividades sin duplicados consumidas hasta el último período de tiempo completo (UTC) en el que se procesaron los datos. En general, los datos se procesan y actualizan hasta el último minuto, excepto en los casos en que Gnip está realizando despliegues de sistemas.

* La Usage API te permite acceder a datos de uso desde el 1 de mayo de 2018. Después del 1 de julio de 2019, la Usage API te permite acceder a datos de uso de los **13 meses naturales anteriores**. 

* Puedes acceder a datos de uso en **intervalos de tres meses**, definidos con un fromDate y un toDate

<div id="requesting-and-receiving-data">
  #### **Solicitud y recepción de datos**
</div>

La Usage API funciona mediante el envío de una solicitud HTTP GET con credenciales HTTP Basic Auth al endpoint de la API de tu cuenta.

<div id="get-request">
  ##### Solicitud GET:
</div>

Realiza una solicitud GET al siguiente endpoint con tus credenciales de usuario y nombre de cuenta:

https://gnip-api.x.com/metrics/usage/accounts/:account&#95;name.json

**Parámetros adicionales**

|     |     |
| :--- | :--- |
| bucket | Opcional. La unidad de tiempo para la que se proporcionarán los datos de uso. Los datos de uso se pueden devolver con granularidad diaria o mensual.  <br />  <br />Las solicitudes realizadas sin un bucket especificado devolverán datos con granularidad mensual.  <br />  <br />Opciones: &#39;month&#39; o &#39;day&#39; |
| fromDate (YYYYMMDDHHMM) | Opcional. Los datos de uso solo están disponibles a partir del 1 de mayo de 2018. La marca de tiempo UTC más antigua desde la cual se proporcionarán los datos de uso. La marca de tiempo tiene granularidad diaria y es inclusiva (es decir, 201805010000 incluye el día 0501). Las solicitudes que contengan valores distintos de &#39;0000&#39; para la granularidad de hora y minuto se establecerán por defecto en &#39;0000&#39;.  <br />  <br />Las solicitudes realizadas sin un fromDate o toDate devolverán datos de uso por mes para el mes actual e incluirán una referencia histórica de los dos meses anteriores.  <br />  <br />**Ten en cuenta:** A partir del 1 de junio de 2019, puedes acceder a los datos de uso de los últimos 13 meses naturales. Por ejemplo, si fuera el 10 de octubre, podrías acceder a los datos de uso desde el 1 de septiembre del año anterior.  <br />**Ejemplo:** 201810010000 devolverá datos a partir del 1 de octubre de 2018 en adelante, incluyendo el 1 de octubre. |
| toDate (YYYYMMDDHHMM) | Opcional. La marca de tiempo UTC más reciente hasta la cual se proporcionarán los datos de uso. La marca de tiempo tiene granularidad diaria y no es inclusiva (es decir, 201703020000 no incluye datos para el día 0302). Cuando se especifica un toDate para el día actual o un día futuro, los datos de uso se devolverán hasta el último día completo (UTC). Las solicitudes que contengan valores distintos de &#39;0000&#39; para la granularidad de hora y minuto se establecerán por defecto en &#39;0000&#39;.  <br />  <br />Una solicitud sin toDate establecerá por defecto el siguiente bucket (mañana para bucket=day y el mes siguiente para bucket=month). Una solicitud realizada sin fromDate ni toDate establecerá por defecto bucket=month y mostrará datos para el mes actual más los dos meses inmediatamente anteriores.  <br />  <br />**Ejemplo:** 201703050000 devolverá datos hasta el 5 de marzo de 2017, sin incluir ningún dato del 5 de marzo. |

**Ejemplo de solicitud GET**

Esta solicitud devolverá datos con granularidad mensual desde el 1 de marzo de 2017 hasta el 5 de marzo de 2017, sin incluir ningún dato del 5 de marzo de 2017.

curl -u &quot;https://gnip-api.x.com/metrics/usage/accounts/:account&#95;name.json?bucket=month&amp;fromdate=201403010000&amp;toDate=201403150000&quot;

<div id="data-format">
  #### **Formato de datos**
</div>

Las siguientes tablas describen las estructuras de datos de nivel raíz para los datos de uso devueltos por la Usage API. Para los campos con varios niveles de subcampos, haz clic en los enlaces proporcionados para ver los detalles sobre los subcampos.

Si deseas ver un ejemplo de un payload completo de la Usage API, visita [esta página](/es/x-api/usage/introduction).

|     |     |
| :--- | :--- |
| **account** | Objeto que representa la cuenta para la que se solicitaron los datos de uso. |
| **bucket** | Unidad de tiempo para la que se proporcionan los datos de uso. Puede ser `day` o `month`. |
| **fromDate** | La marca de tiempo UTC más temprana para la que deseas obtener datos de uso (inclusive). |
| **toDate** | La marca de tiempo UTC más reciente para la que deseas obtener datos de uso (exclusiva). |
| **publishers** | Incluye tres objetos principales: Used, Projected y Products. |