---
title: Inicio rápido
sidebarTitle: Inicio rápido
keywords: ["inicio rápido de gestión de mensajes directos", "inicio rápido de gestión de mensajes directos", "inicio rápido para enviar mensajes directos", "inicio rápido de gestión de mensajes directos"]
---

import { Button } from '/snippets/es/button.mdx';

<div id="getting-started-with-the-manage-direct-message-endpoints">
  ## Introducción a los endpoints para gestionar Mensajes Directos
</div>

Esta guía de inicio rápido te ayudará a realizar tu primera solicitud a los endpoints de Mensajes Directos usando Postman, una herramienta para gestionar y realizar solicitudes HTTP. Para obtener más información sobre nuestras colecciones de Postman, visita nuestra guía [Uso de Postman](/es/tutorials/postman-getting-started).

Visita nuestro repositorio de GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) si quieres revisar ejemplos en Python. Además, los [kits de desarrollo de software (SDKs) de la X Developer Platform](/es/x-api/tools-and-libraries/sdks) se actualizarán para ofrecer compatibilidad con estos endpoints de Mensajes Directos.  

<Note>
  **Requisitos previos**

  Para completar esta guía, necesitarás disponer de un conjunto de [keys and tokens](/es/resources/fundamentals/authentication) para autenticar tu solicitud. Puedes generar estas claves y tokens siguiendo estos pasos:

  * [Regístrate para obtener una cuenta de desarrollador](https://developer.x.com/en/apply-for-access) y recibe la aprobación.
  * Crea un [Proyecto](/es/resources/fundamentals/projects) y una [aplicación de desarrollador](/es/resources/fundamentals/developer-apps) asociada en el portal para desarrolladores.
  * Navega a la página “Keys and tokens” de tu App para generar las credenciales necesarias. Asegúrate de guardar todas las credenciales en una ubicación segura.
</Note>

<div id="steps-to-building-manage-direct-message-requests">
  ### Pasos para crear solicitudes para administrar Mensajes Directos
</div>

En este ejemplo, en una única solicitud, crearemos una nueva conversación de grupo y agregaremos nuestro primer mensaje. Luego agregaremos un segundo mensaje a la conversación creada.

<div id="step-one-start-with-a-tool-or-library">
  #### Paso uno: empieza con una herramienta o biblioteca
</div>

Para empezar a trabajar con los endpoints para administrar Mensajes Directos, vamos a utilizar la herramienta Postman para simplificar el proceso. Usaremos una colección de ejemplo de solicitudes de X API v2 creada por XDev para explorar seis endpoints que se utilizan para crear nuevos Mensajes Directos y para listar eventos de conversaciones de Mensajes Directos.

Aunque la mayor parte de la colección está preconfigurada, hay algunos detalles que deberás proporcionar basados en la aplicación de X creada para alojar estas solicitudes de API. Primero, carguemos/actualicemos la colección.

Para cargar la colección de X API v2 de Postman en tu entorno, haz clic en el siguiente botón:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Agregar X API v2 a Postman
</Button>

Una vez que tengas la colección de X API v2 cargada en Postman, navega a la carpeta “Manage Direct Messages”. La pestaña Authorization de esta carpeta se ha preconfigurado cuando ha sido posible y puedes actualizar algunos ajustes para compartir los detalles de autenticación de tu aplicación de X. Esta carpeta también contiene tres endpoints para crear nuevos Mensajes Directos. Ten en cuenta que también hay una carpeta &quot;Direct Message lookup&quot; con tres endpoints disponibles para recuperar eventos de conversaciones de Mensajes Directos, incluyendo el envío y la recepción de mensajes, y cuándo los participantes de la conversación se unen y la abandonan. 

Dado que la creación de conversaciones de grupo es una función nueva e interesante de X API v2, este ejemplo se centrará en eso. Trabajaremos con el ejemplo &quot;New group DM and conversation&quot;. Usaremos esta solicitud para crear una conversación de grupo de Mensajes Directos.

El siguiente paso es autenticarte con el endpoint.

**Paso dos: autentica tu solicitud**

Para realizar correctamente una solicitud a X API, debes verificar que tienes permiso para hacerlo. Para realizar una solicitud correcta a este endpoint, utilizaremos el [Authorization Code Flow con PKCE de OAuth 2.0](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2). Puedes generar un token de acceso dentro de Postman. 

Con Postman puedes configurar el método de autenticación a nivel de carpeta o a nivel de solicitud. Aquí configuraremos los detalles de autenticación a nivel de carpeta.

Navega a la carpeta &quot;Manage Direct Messages&quot;, selecciona la pestaña &quot;Authorization&quot; y confirma que el Type esté configurado como “OAuth 2.0” y que &quot;Add auth data to&quot; esté configurado como &quot;Request Headers&quot;. En la sección &quot;Current Token&quot;, asegúrate de que &quot;header Prefix&quot; esté establecido en Bearer.  

Para configurar y generar un nuevo token:

1. Crea un Nombre de token, como &quot;Manage DMs&quot;.

2. Confirma que **Grant Type** esté configurado como Authorization Code (with PKCE).

3. Configura tu **Callback URL**. Deberás actualizar tu Callback URL para que coincida exactamente con la Callback URL asociada a tu aplicación en el [v2 Dev Portal](https://developer.x.com/en/portal/dashboard). Con la aplicación de X utilizada en este ejemplo, la Callback URL se establece en - [*https://www.example.com*.](https://www.example.com/) (Ten en cuenta que, dado que esto debe coincidir exactamente, [*https://example.com*](https://example.com) no funcionaría). 

4. Confirma que **Auth URL** esté configurada como [https://x.com/i/oauth2/authorize](https://x.com/i/oauth2/authorize).

5. Confirma que **Access Token URL** esté configurada como [https://api.x.com/2/oauth2/token.](https://api.x.com/2/oauth2/token)**Client ID** - Copia y pega el OAuth 2.0 client ID desde el Developer Portal
   **Client Secret** - Solo necesitarás esto si estás utilizando un tipo de App que sea un confidential client. Si es así, copia y pega el OAuth 2.0 Client Secret desde el Developer Portal. 

6. Confirma que **Scope** esté configurado como dm.read, dm.write, tweet.read y users.read.

7. Confirma que **State** esté configurado como “state”.

8. Confirma que **Client Authentication** esté configurado como Send as Basic Auth header.

9. Haz clic donde dice **Get New Access Token** y luego haz clic en &quot;Authorize app&quot; como parte del proceso de &quot;Sign-in with X&quot;.

10. Haz clic en el botón &quot;Proceed&quot; y luego en &quot;Use Token&quot; para generar un token. 

11. Haz clic en el botón &quot;Save&quot; para guardar estos detalles de configuración.

Es posible que recibas un mensaje que indique que no has iniciado sesión en X. Si recibes este error, tendrás que iniciar sesión en la cuenta de X en cuyo nombre intentas publicar desde Postman.

Ahora que estos detalles de OAuth 2.0 se han configurado a nivel de carpeta, ve a cada uno de los ejemplos, abre su pestaña &quot;Authorization&quot; y confirma que tienen el Type establecido en &quot;Inherit auth from parent&quot;. 

Ten en cuenta que este token caducará pronto y tendrás que generarlo de nuevo haciendo clic en el botón &quot;Get New Access Token&quot;. Al hacer clic en él, se iniciará el proceso de &quot;Sign-in with X&quot; y se generará un nuevo token para realizar solicitudes.

<div id="step-three-specify-the-direct-message-conversation-participants-and-message-contents">
  #### Paso tres: especifica los participantes de la conversación de Mensaje Directo y el contenido del mensaje
</div>

Ve a la pestaña “Body” y actualiza el objeto JSON de ejemplo. Establece el atributo participant&#95;ids con las cuentas a las que quieres enviar el Mensaje Directo.

`{
   "message": {"text": "Hello to just you two, this is a new group conversation."},
   "participant_ids": ["944480690","906948460078698496"],
   "conversation_type": "Group"
}`

<div id="step-four-make-your-request-and-review-the-response">
  #### Paso cuatro: realiza tu solicitud y revisa la respuesta
</div>

Una vez que tengas todo configurado, haz clic en el botón &quot;Send&quot; y recibirás una respuesta similar al ejemplo de respuesta que aparece a continuación. Recuerda que, si tu Token de acceso ha expirado desde que lo creaste anteriormente, puedes volver a la pestaña Authorization de la carpeta y hacer clic en &quot;Get New Access Token&quot; para crear un nuevo Token de acceso.

```
{
   "data": {
       "dm_conversation_id": "1582103724607971328",
       "dm_event_id": "1582103724607971332"
   }
}
```

Si el objeto «data» de la respuesta contiene un dm&#95;conversation&#95;id y un dm&#95;event&#95;id, has creado correctamente una nueva conversación de Mensaje Directo. Para empezar a buscar eventos asociados con esta conversación, ve a la guía de inicio rápido de consulta de Mensajes Directos.

<div id="step-five-add-another-message-to-that-group-conversation">
  #### Paso cinco: agrega otro mensaje a esa conversación de grupo
</div>

Ahora selecciona el ejemplo &quot;Add DM to conversation&quot; y luego selecciona la pestaña &quot;Params&quot;. En &quot;Path Variables&quot;, actualiza el dm&#95;conversation&#95;id con el ID de la conversación que creaste arriba.

|                            |                     |
| :------------------------- | :------------------ |
| **Key**                    | **Value**           |
| dm&#95;conversation&#95;id | 1582103724607971328 |

Usando este ID de conversación, la ruta de la solicitud será: [https://api.x.com/2/dm&#95;conversations/1582103724607971328/messages](https://api.x.com/2/dm_conversations/1582103724607971328/messages)

Además, actualiza la pestaña &quot;Body&quot; con el JSON de la solicitud que contenga el texto del mensaje que quieras enviar:

```
{
   "text": "Adding a new message to our group conversation..."
}
```

Una vez que tengas todo configurado, haz clic en el botón &quot;Send&quot; y recibirás una respuesta similar a la del siguiente ejemplo:

```
{
   "data": {
       "dm_conversation_id": "1582103724607971328",
       "dm_event_id": "1582106224379559940"
   }
}
```
