---
title: Guía de migración
sidebarTitle: Guía de migración
keywords: ["migración de bloqueos", "migrar bloqueos", "bloqueos de v1.1 a v2", "guía de migración de bloqueos", "migrar bloqueos"]
---

import { Button } from '/snippets/es/button.mdx';

<div id="blocks-lookup-standard-v11-compared-to-x-api-v2">
  ### Consulta de bloqueos: estándar v1.1 en comparación con X API v2
</div>

Si has estado trabajando con los endpoints estándar v1.1 [GET blocks/ids](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-blocks-ids) y [GET blocks/list](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-blocks-list), el objetivo de esta guía es ayudarte a entender las similitudes y diferencias entre los endpoints de consulta de bloqueos de la versión estándar v1.1 y de X API v2.

* **Similitudes**
  * Autenticación
* **Diferencias**
  * URLs de los endpoints

  * Límites de usuarios por solicitud

  * Requisitos de aplicación y Proyecto

  * Formatos de datos de respuesta

  * Parámetros de la solicitud

<div id="similarities">
  #### Similitudes
</div>

**Autenticación**

Tanto los endpoints estándar v1.1 de consulta de bloqueos como los de X API v2 utilizan el [Contexto de usuario de OAuth 1.0a](/es/resources/fundamentals/authentication#oauth-1-0a-2). Por lo tanto, si anteriormente estabas usando uno de los endpoints estándar v1.1 de consulta de bloqueos, puedes seguir utilizando el mismo método de autenticación si migras a la versión de X API v2. 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoint**

* Endpoints estándar v1.1:
  * GET https://api.x.com/1.1/blocks/ids.json
    (lista de ID de usuario que están bloqueados por el usuario especificado)
  * GET https://api.x.com/1.1/blocks/lists.json
    (lista de usuarios que están bloqueados por el usuario especificado)
* Endpoint de X API v2:
  * GET https://api.x.com/2/users/:id/blocking
    (lista de usuarios que están bloqueados por el ID de usuario especificado)
     

**Límites de usuarios por solicitud**

Los endpoints estándar v1.1 te permiten recuperar hasta 5000 usuarios por solicitud. Los nuevos endpoints v2 te permiten recuperar hasta 1000 usuarios por solicitud. Para obtener los 1000 usuarios completos, deberás pasar max&#95;results=1000 como parámetro de consulta; luego puedes pasar el next&#95;token devuelto en la carga útil de la respuesta al parámetro de consulta pagination&#95;token en tu siguiente solicitud.
 

**Requisitos de Aplicación y Proyecto**

Los endpoints de X API v2 requieren que utilices credenciales de una [aplicación de desarrollador](/es/resources/fundamentals/developer-apps) que esté asociada con un [Proyecto](/es/resources/fundamentals/developer-apps) al autenticar tus solicitudes. Todos los endpoints de X API v1.1 pueden usar credenciales de Aplicaciones independientes o de Aplicaciones asociadas con un Proyecto.

**Formato de datos de la respuesta**

Una de las diferencias más importantes entre las versiones de endpoints estándar v1.1 y X API v2 es cómo seleccionas qué campos se devuelven en tu carga útil.

En los endpoints estándar, recibes muchos de los campos de la respuesta de forma predeterminada y luego tienes la opción de usar parámetros para identificar qué campos o conjuntos de campos deben devolverse en la carga.

En X API v2 solo se entregan de forma predeterminada los campos user id, name y username. Para solicitar campos u objetos adicionales, deberás usar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de usuario que solicites desde este endpoint se devolverá en el objeto de usuario principal. Cualquier objeto de Publicación expandido y sus campos se devolverán en un objeto includes dentro de tu respuesta. Luego puedes relacionar cualquier objeto expandido con el objeto de usuario haciendo coincidir los ID ubicados tanto en el usuario como en el objeto de Publicación expandido. 

Te recomendamos leer más sobre estos nuevos parámetros en sus respectivas guías o leyendo nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

También hemos elaborado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a asignar campos estándar v1.1 a los campos más recientes de v2. Esta guía también te proporcionará la expansión específica y el parámetro de campo que deberás pasar con tu solicitud v2 para devolver campos específicos. 
 

Además de los cambios en cómo solicitas determinados campos, X API v2 también introduce nuevos diseños JSON para los objetos devueltos por las API, incluidos los objetos de [P](/es/x-api/fundamentals/data-dictionary#tweet)ublicación y de [user](/es/x-api/fundamentals/data-dictionary#user).

* En el nivel raíz de JSON, los endpoints estándar devuelven objetos de Publicación en un array statuses, mientras que X API v2 devuelve un array data. 
* En lugar de hacer referencia a &quot;statuses&quot; Retwitteados y Citados, el JSON de X API v2 hace referencia a Publicaciones Retwitteadas y Citadas. Se están eliminando muchos campos heredados y obsoletos, como contributors y user.translator&#95;type. 
* En lugar de usar tanto favorites (en el objeto de Publicación) como favourites (en el objeto de usuario), X API v2 usa el término like. 
* X está adoptando la convención de que los valores JSON vacíos (por ejemplo, null) no se escriben en la carga útil. Los atributos de Publicación y usuario solo se incluyen si tienen valores no nulos. 
   

También hemos introducido un nuevo conjunto de campos en el [objeto Publicación](/es/x-api/fundamentals/data-dictionary#tweet), incluidos los siguientes:

* Un campo [conversation&#95;id](/es/x-api/fundamentals/conversation-id)
* Dos nuevos campos de [annotations](/es/x-api/fundamentals/post-annotations), incluidos context y entities
* Varios nuevos campos de [métricas](/es/x-api/fundamentals/metrics) 
* Un nuevo campo reply&#95;setting, que te muestra quién puede responder a una Publicación determinada

**Parámetros de solicitud**

Los siguientes parámetros de solicitud estándar de la v1.1 aceptaban dos parámetros de consulta (user&#95;id o screen&#95;name). La X API v2 solo acepta el id de usuario numérico y este debe pasarse como parte de la ruta del endpoint.