---
title: De v1 a v2
sidebarTitle: De v1 a v2
keywords: ["migración de v1.1 a v2", "migración de consulta de usuarios", "migrar consulta de usuarios", "consulta de usuarios estándar a v2", "consulta de usuarios de v1 a v2", "guía de migración"]
---

import { Button } from '/snippets/es/button.mdx';

<div id="standard-v11-compared-to-x-api-v2">
  ### v1.1 estándar frente a X API v2
</div>

Si has estado trabajando con los endpoints estándar de v1.1 GET users/show y GET users/lookup, el objetivo de esta guía es ayudarte a comprender las similitudes y diferencias entre los endpoints estándar de búsqueda de usuarios y los endpoints de búsqueda de usuarios de X API v2.

* **Similitudes**
  * Contexto de usuario de OAuth 1.0a
  * Límites de usuarios por solicitud
* **Diferencias**
  * URLs de los endpoints
  * Requisitos de Aplicación y Proyecto
  * Formato de los datos de la respuesta
  * Parámetros de la solicitud

<div id="similarities">
  #### Similitudes
</div>

**Método de autenticación Contexto de usuario de OAuth 1.0a**

El endpoint estándar es compatible con [Contexto de usuario de OAuth 1.0a](/es/resources/fundamentals/authentication#oauth-1-0a-2), mientras que los nuevos endpoints de búsqueda de usuarios de X API v2 son compatibles tanto con Contexto de usuario de OAuth 1.0a como con autenticación [solo aplicación](/es/resources/fundamentals/authentication#oauth-2-0). Por lo tanto, si antes utilizabas uno de los endpoints estándar de v1.1 para búsqueda de usuarios, puedes seguir usando el mismo método de autenticación si migras a la versión de X API v2. 

Según la biblioteca o paquete de autenticación que elijas, la autenticación solo aplicación probablemente sea la forma más sencilla de empezar y se puede configurar con un encabezado de solicitud sencillo. Para saber cómo generar un Token de acceso de solo aplicación, consulta [esta guía de solo aplicación](/es/resources/fundamentals/authentication#bearer-token-also-known-as-app-only). 

**Límites de usuarios por solicitud**

El endpoint estándar v1.1 GET users/lookup te permite especificar 100 usuarios por solicitud. Esto también aplica a los endpoints GET /users y GET /users/by. Para especificar los 100 usuarios, deberás pasar el parámetro ids (GET /users) o el parámetro username (GET /users/by) como parámetro de consulta, e incluir la lista de id/nombres de usuario en una lista separada por comas. 
 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

* Endpoints estándar de v1.1:
  * https://api.x.com/1.1/users/show (búsqueda por un solo ID o nombre de usuario)
  * https://api.x.com/1.1/users/lookup (búsqueda por múltiples IDs o nombres de usuario)
* Endpoints de X API v2:
  * https://api.x.com/2/users (búsqueda por múltiples IDs)
  * https://api.x.com/2/users/:id (búsqueda por un solo ID)
  * https://api.x.com/2/users/by (búsqueda por múltiples nombres de usuario)
  * https://api.x.com/2/users/by/username/:username (búsqueda por un solo nombre de usuario)

**Requisitos de Aplicación y Proyecto**

Los endpoints de X API v2 requieren usar credenciales de una [developer App](/es/resources/fundamentals/developer-apps) que esté asociada a un [Project](/es/resources/fundamentals/projects) al autenticar tus solicitudes. Todos los endpoints de X API v1.1 pueden usar credenciales de aplicaciones independientes o aplicaciones asociadas con un proyecto. 

**Formato de datos de la respuesta**

Una de las diferencias más importantes entre las versiones de endpoints estándar v1.1 y X API v2 es cómo seleccionas qué campos se devuelven en tu payload.

Para los endpoints estándar, recibes muchos de los campos de la respuesta de forma predeterminada y luego tienes la opción de usar parámetros para identificar qué campos o conjuntos de campos deben devolverse en el payload.

La versión de X API v2 solo entrega de forma predeterminada los campos user id, name y username. Para solicitar campos u objetos adicionales, deberás usar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de usuario que solicites desde este endpoint se devolverá en el objeto de usuario principal. Cualquier objeto de Publicación expandido y sus campos se devolverán en un objeto includes dentro de tu respuesta. Luego puedes hacer coincidir los objetos expandidos con el objeto de usuario igualando los IDs ubicados tanto en el objeto de usuario como en el objeto de Publicación expandido. 

Te recomendamos leer más sobre estos nuevos parámetros en sus respectivas guías o leyendo nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

También hemos preparado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a mapear campos estándar de v1.1 a los campos más recientes de v2. Esta guía también te proporcionará la expansión específica y el parámetro de campo que deberás pasar con tu solicitud de v2 para devolver campos específicos. 
 

Además de los cambios en cómo solicitas ciertos campos, X API v2 también está introduciendo nuevos diseños JSON para los objetos devueltos por las API, incluidos los objetos [Post](/es/x-api/fundamentals/data-dictionary#tweet) y [user](/es/x-api/fundamentals/data-dictionary#user).

* En el nivel raíz de JSON, los endpoints estándar devuelven objetos de Publicación en un array statuses, mientras que X API v2 devuelve un array data. 
* En lugar de hacer referencia a &quot;statuses&quot; retuiteados y citados (Retweeted y Quoted), el JSON de X API v2 hace referencia a Publicaciones retuiteadas y citadas. Muchos campos heredados y obsoletos, como contributors y user.translator&#95;type, se están eliminando. 
* En lugar de usar tanto favorites (en el objeto de Publicación) como favourites (en el objeto de usuario), X API v2 usa el término like. 
* X está adoptando la convención de que los valores JSON vacíos (por ejemplo, null) no se escriben en el payload. Los atributos de Publicación y de usuario solo se incluyen si tienen valores no nulos. 
   

También hemos incorporado un nuevo conjunto de campos al [objeto Post](/es/x-api/fundamentals/data-dictionary#tweet), que incluye lo siguiente:

* Un campo [conversation&#95;id](/es/x-api/fundamentals/conversation-id)
* Dos nuevos campos de [annotations](/es/x-api/fundamentals/post-annotations), incluidos context y entities
* Varios campos nuevos de [métricas](/es/x-api/fundamentals/metrics) 
* Un nuevo campo reply&#95;setting, que te muestra quién puede responder a una Publicación determinada

**Parámetros de solicitud**

Los siguientes parámetros de solicitud estándar de v1.1 tienen equivalentes en X API v2:

|     |     |
| :--- | :--- |
| **Standard** | **X API v2** |
| user&#95;id | ids |
| screen&#95;name | username |

También hay un conjunto de parámetros de solicitud estándar de búsqueda de usuarios que **no** son compatibles en X API v2:

| Estándar | Comentario |
| :--- | :--- |
| include&#95;entities | Este parámetro sirve para eliminar el nodo `entities` de la carga útil de la Publicación. Ha sido reemplazado por la funcionalidad aditiva de campos y expansiones. |