---
title: B√∫squeda en el archivo completo
sidebarTitle: B√∫squeda en el archivo completo
keywords: ["b√∫squeda en el archivo completo", "inicio r√°pido de b√∫squeda en el archivo", "b√∫squeda hist√≥rica", "tutorial de b√∫squeda en el archivo completo", "gu√≠a de b√∫squeda en el archivo"]
---

import { Button } from '/snippets/es/button.mdx';

<div id="getting-started-with-the-full-archive-search-endpoint">
  ## Introducci√≥n al uso del endpoint de b√∫squeda en archivo completo
</div>

Esta gu√≠a de inicio r√°pido te ayudar√° a hacer tu primera solicitud al endpoint de b√∫squeda en archivo completo con un conjunto de campos especificados usando Postman.

Si quieres ver c√≥digo de ejemplo en distintos lenguajes de programaci√≥n, visita nuestro repositorio de GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).¬†

<Note>
  ### Requisitos previos

  El endpoint de b√∫squeda en archivo completo est√° disponible actualmente √∫nicamente como parte de los accesos Pro y Enterprise. Para usar este endpoint, debes actualizar a acceso Pro o [solicitar el nivel de acceso Enterprise](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform).

  Adem√°s de contar con la aprobaci√≥n de acceso, necesitar√°s tener un conjunto de [claves y tokens](/es/resources/fundamentals/authentication) para autenticar tu solicitud. Puedes generar estas claves y tokens siguiendo estos pasos:

  * Ve a tu [Proyecto](/es/resources/fundamentals/projects) con acceso Enterprise o Pro en el portal para desarrolladores y aseg√∫rate de tener una [aplicaci√≥n de desarrollador](/es/resources/fundamentals/developer-apps) asociada dentro de ese Proyecto.

  * Ve a la p√°gina ‚ÄúKeys and tokens‚Äù de tu App para generar las credenciales necesarias. Aseg√∫rate de guardar todas las credenciales en una ubicaci√≥n segura.
</Note>

<div id="steps-to-build-a-full-archive-search-request">
  ### Pasos para crear una solicitud de b√∫squeda de archivo completo
</div>

**Paso uno: Comience con una herramienta o biblioteca**

Hay varias herramientas, ejemplos de c√≥digo y bibliotecas que puede usar para realizar una solicitud a este endpoint, pero aqu√≠ vamos a usar la herramienta Postman para simplificar el proceso.

Para cargar la colecci√≥n de Postman de X API v2 en su entorno, haga clic en el siguiente bot√≥n:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Agregar X API v2 a Postman
</Button>

Una vez que tenga la colecci√≥n de X API v2 cargada en Postman, navegue a Search Posts &gt; Full-archive search request.

**Paso dos: Autentique su solicitud**

Para realizar correctamente una solicitud a X API, debe comprobar que tiene permiso. Para hacerlo con este endpoint, debe autenticar su solicitud con los m√©todos de autenticaci√≥n [OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Debe agregar sus claves y tokens, espec√≠ficamente el [App Access Token](/es/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (tambi√©n conocido como el App-only Bearer Token) a Postman. Puede hacerlo seleccionando el entorno llamado ‚ÄúX API v2‚Äù en la esquina superior derecha de Postman y agregando sus claves y tokens a los campos &quot;initial value&quot; y &quot;current value&quot; (haciendo clic en el √≠cono de ojo junto al men√∫ desplegable del entorno).

Esta variable se insertar√° autom√°ticamente en la pesta√±a de autorizaci√≥n de la solicitud si lo ha hecho correctamente.
¬†

**Paso tres: Cree una consulta de b√∫squeda**

Cada consulta de b√∫squeda de archivo completo requiere una √∫nica consulta de b√∫squeda. Para este ejemplo, vamos a usar una consulta que coincida con las Publicaciones de la cuenta @XDevelopers. Para esta consulta usamos el operador from y lo configuramos en XDevelopers (no distingue may√∫sculas de min√∫sculas):

`from:XDevelopers`

En Postman, navegue a la pesta√±a &quot;Params&quot; e introduzca este ID, o una cadena de IDs de Publicaciones separadas por comas, en la columna &quot;Value&quot; del par√°metro `ids`.
¬†

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Consulta de b√∫squeda que se enviar√° al endpoint de b√∫squeda de archivo completo |

**Paso cuatro: Identifique y especifique qu√© campos desea recuperar**

Si hace clic en el bot√≥n &quot;Send&quot; despu√©s del paso tres, recibir√° los campos predeterminados del [Post object](/es/x-api/fundamentals/data-dictionary#tweet) en su respuesta: `id`, `text` y `edit_history_tweet_ids`. Tenga en cuenta que, si recibe Publicaciones de antes de que se admitiera la edici√≥n, el campo `edit_history_tweet_ids` no se proporcionar√°. No se rellen√≥ el historial de forma retroactiva para este campo.¬†

Si desea recibir campos adicionales adem√°s de estos campos predeterminados, tendr√° que especificar esos campos en su solicitud con los par√°metros [fields](/es/x-api/fundamentals/fields) y/o [expansions](/es/x-api/fundamentals/expansions).

Para este ejercicio, solicitaremos cuatro conjuntos diferentes de campos de distintos objetos:

1. Los campos predeterminados del objeto Post
2. El campo adicional tweet.created&#95;at en los objetos de usuario primarios
3. Los campos predeterminados del [user object](/es/x-api/fundamentals/data-dictionary#user) de los autores asociados para las Publicaciones devueltas
4. El campo adicional user.description en los objetos de usuario asociados
   ¬†

En Postman, navegue a la pesta√±a &quot;Params&quot; y agregue el siguiente par clave: valor a la tabla &quot;Query Params&quot;:

| Key | Value | Returned fields |
| :--- | :--- | :--- |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | includes.users.id, includes.users.name, includes.users.username |
| `user.fields` | `description` | includes.users.description |

Ahora deber√≠a ver la siguiente URL junto al bot√≥n &quot;Send&quot;:

`https://api.x.com/2/tweets/search/all?query=from:XDevelopers&tweet.fields=created_at&expansions=author_id&user.fields=created_at`

<Note>
  **Tenga en cuenta**

  De forma predeterminada, solo se devolver√°n las 10 Publicaciones m√°s recientes. Si desea m√°s de 10 Publicaciones por solicitud, puede usar el par√°metro max&#95;results y configurarlo en un m√°ximo de 500 Publicaciones por solicitud. De forma similar, de manera predeterminada se devolver√°n Publicaciones de los √∫ltimos 30 d√≠as. Si desea obtener Publicaciones que sean anteriores a 30 d√≠as, puede usar los par√°metros start&#95;time y end&#95;time en su llamada a la API.
</Note>

**Paso cinco: realiza la solicitud y revisa la respuesta**

Una vez que tengas todo configurado, haz clic en el bot√≥n ¬´Send¬ª y recibir√°s una respuesta similar a la siguiente:

```
{
   "data": [
       {
           "author_id": "2244994945",
           "created_at": "2020-06-11T16:05:06.000Z",
           "id": "1271111223220809728",
           "text": "Sintoniza esta noche y observa c√≥mo @jessicagarson nos gu√≠a en la ejecuci√≥n de tu paquete favorito de Python en R. üçø\n\nAprende c√≥mo usar dos poderosos lenguajes de programaci√≥n para ciencia de datos juntos, y ve un ejemplo en vivo que utiliza el endpoint de b√∫squeda reciente de Twitter's Developer Labs. https://t.co/v178oUZNuj"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-10T19:25:24.000Z",
           "id": "1270799243071062016",
           "text": "As we work towards building the new Twitter API, we‚Äôve extended the deprecation timeline for several Labs v1 endpoints. Learn more üìñ https://t.co/rRWaJYJgKk"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-09T18:08:47.000Z",
           "id": "1270417572001976322",
           "text": "Annotations help you learn more about a Tweet ‚Äî they can even help you find topics of interest. üî¨\n\nIn this tutorial, @suhemparack shows us how find Tweets related to COVID-19 using annotations + the filtered stream endpoint.\n\nLearn how you can, too. ‚§µÔ∏è\nhttps://t.co/qwVOgw0zSV"
       }
   ],
   "includes": {
       "users": [
           {
               "description": "The voice of Twitter's #DevRel team, and your official source for updates, news, & events about Twitter's API. \n\n#BlackLivesMatter",
               "id": "2244994945",
               "name": "Twitter Dev",
               "username": "TwitterDev"
           }
       ]
   },
   "meta": {
       "newest_id": "1271111223220809728",
       "oldest_id": "1270417572001976322",
       "result_count": 3
   }
}
```

En este ejemplo, hemos usado una consulta muy sencilla. Si deseas consultar gu√≠as m√°s detalladas, visita los recursos que se indican a continuaci√≥n.¬†

**Pr√≥ximos pasos**

[Personaliza tu solicitud usando la Referencia de la API](/es/x-api/posts/full-archive-search)

[Consulta la lista completa de operadores de consulta](/es/x-api/posts/search/integrate/build-a-query "Ver la lista completa de operadores de consulta")

[Usa c√≥digo de ejemplo para estos endpoints](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Usa c√≥digo de ejemplo para estos endpoints")
