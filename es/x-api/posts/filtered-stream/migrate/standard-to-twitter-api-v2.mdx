---
title: v1 a v2
sidebarTitle: v1 a v2
keywords: ["migración de v1.1 a v2", "migración de filtered stream", "migrar filtered stream", "estándar a filtered stream de v2", "v1 a filtered stream de v2", "guía de migración"]
---

<div id="standard-v11-compared-to-x-api-v2">
  ### v1.1 estándar en comparación con X API v2
</div>

Si has estado trabajando con el endpoint v1.1 [statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter), esta guía puede ayudarte a entender las similitudes y diferencias entre los endpoints estándar y los endpoints de filtered stream de X API v2.

* **Similitudes**
  * Parámetros de solicitud y operadores
  * Compatibilidad con el historial de edición de publicaciones y metadatos
* **Diferencias**
  * URL de los endpoints
  * Requisito de contar con una Aplicación y un Proyecto
  * Método de autenticación
  * Volumen de reglas y flujo persistente
  * Formato de los datos de respuesta
  * Parámetros de solicitud
  * Disponibilidad de funciones de recuperación y redundancia
  * Operadores de consulta

<div id="similarities">
  #### Similitudes
</div>

**Parámetros de solicitud y operadores**

El endpoint estándar `statuses/filter` de v1.1 ofrece algunos parámetros que se pueden incluir en la solicitud para filtrar el stream. Con el filtered stream de v2, en su lugar se utiliza un conjunto de [operadores](/es/x-api/posts/filtered-stream#building-rules-for-filtered-stream) que se pueden combinar usando lógica booleana para filtrar las Publicaciones deseadas. Los operadores disponibles incluyen algunos que son reemplazos directos de los parámetros estándar existentes de v1.1. 

Los siguientes parámetros de solicitud estándar de v1.1 tienen operadores equivalentes en X API v2:
 

| **Estándar** | **X API v2** |
| :--- | :--- |
| follow - Una lista separada por comas de id de usuario que indica los usuarios cuyas Publicaciones deben entregarse en el stream. | Varios operadores que te permiten encontrar Publicaciones relacionadas con usuarios específicos:<br /><br />* @<br />* from:<br />* to:<br />* etc. |
| track - Una lista separada por comas de frases que se utilizarán para determinar qué Publicaciones se entregarán en el stream. | Varios operadores que te permiten encontrar Publicaciones relacionadas con palabras clave específicas:<br /><br />* keyword<br />* &quot;exact phrase match&quot;<br />* #<br />* etc. |

**Compatibilidad con el historial de edición de Publicaciones y metadatos**

Ambas versiones proporcionan metadatos que describen cualquier historial de edición. Consulta las [referencias de la API de filtered stream](/es/x-api/posts/filtered-stream#api-reference-index) y la [página de conceptos básicos sobre la edición de Publicaciones](/es/x-api/fundamentals/edit-posts) para obtener más detalles. 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

* Endpoints estándar v1.1:
  * https://stream.x.com/1.1/statuses/filter.json
* Endpoint de X API v2:
  * https://api.x.com/2/tweets/search/stream
  * https://api.x.com/2/tweets/search/stream/rule

**Requisitos de Aplicación y Proyecto**

Los endpoints de X API v2 requieren que utilices credenciales de una [aplicación de desarrollador](/es/resources/fundamentals/developer-apps) que esté asociada a un [Proyecto](/es/resources/fundamentals/projects) al autenticar tus solicitudes. Todos los endpoints de X API v1.1 pueden usar credenciales de aplicaciones independientes o de aplicaciones asociadas con un Proyecto.

**Método de autenticación**

El endpoint estándar admite [Contexto de usuario de OAuth 1.0a](/es/resources/fundamentals/authentication), mientras que los endpoints de flujo filtrado de X API v2 admiten [OAuth 2.0 solo para la aplicación](/es/resources/fundamentals/authentication#oauth-2-0) (también denominada autenticación solo para la aplicación). Para realizar solicitudes a la versión de X API v2 debes usar un App Access Token para autenticar tus solicitudes.

Si ya no tienes el App Access Token que se te mostró cuando creaste tu Proyecto y tu aplicación en el portal para desarrolladores, puedes generar uno nuevo yendo a la página “Keys and tokens” de tu aplicación en el portal para desarrolladores. Si quieres generar un App Access Token de forma programática, consulta esta [guía de OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). 

**Volumen de reglas y flujo persistente**

El endpoint estándar v1.1 admite una única regla para filtrar la conexión de streaming. Para cambiar la regla, debes desconectar el flujo y enviar una nueva solicitud con las reglas de filtrado revisadas como parámetros. 

El endpoint de flujo filtrado de X API v2 te permite aplicar múltiples reglas a un único flujo y añadir y eliminar reglas de tu flujo mientras mantienes la conexión. 

**Formato de los datos de respuesta**

Una de las mayores diferencias entre las versiones de endpoints estándar v1.1 y X API v2 es cómo seleccionas qué campos se devuelven en tu payload.

Para los endpoints estándar, recibes muchos de los campos de la respuesta de forma predeterminada y luego tienes la opción de usar parámetros para identificar qué campos o conjuntos de campos se deben devolver en el payload.

La versión de X API v2 solo entrega el id de la Publicación y el campo text de forma predeterminada. Para solicitar campos u objetos adicionales, deberás utilizar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de Publicación que solicites desde estos endpoints se devolverá en el objeto principal de Publicación. Cualquier objeto y campo de usuario, contenido multimedia, encuesta o lugar ampliado se devolverá en un objeto includes dentro de tu respuesta. Entonces podrás hacer coincidir cualquier objeto ampliado con el objeto de Publicación haciendo coincidir los ID que se encuentran tanto en la Publicación como en el objeto ampliado. 

Te recomendamos leer más sobre estos nuevos parámetros en sus respectivas guías, o consultando nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

También hemos elaborado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a mapear campos estándar v1.1 a los campos más recientes de v2. Esta guía también te proporcionará la expansión específica y el parámetro de campo que deberás pasar con tu solicitud v2 para devolver campos específicos. 
 

Además de los cambios en cómo solicitas ciertos campos, X API v2 también introduce nuevos diseños JSON para los objetos devueltos por las API, incluidos los objetos de Publicación y de [usuario](/es/x-api/fundamentals/data-dictionary#user).

* En el nivel raíz de JSON, los endpoints estándar devuelven objetos de Publicación en un array statuses, mientras que X API v2 devuelve un array data. 
* En lugar de hacer referencia a &quot;statuses&quot; retuiteados y citados, el JSON de X API v2 hace referencia a Publicaciones retuiteadas y citadas. Muchos campos heredados y obsoletos, como contributors y user.translator&#95;type, se están eliminando. 
* En lugar de usar tanto favorites (en el objeto de Publicación) como favourites (en el objeto de usuario), X API v2 utiliza el término like. 
* X está adoptando la convención de que los valores JSON sin valor (por ejemplo, null) no se escriben en el payload. Los atributos de Publicación y usuario solo se incluyen si tienen un valor distinto de null. 
   

También introdujimos un nuevo conjunto de campos en el [objeto de Publicación](/es/x-api/fundamentals/data-dictionary#tweet), entre los que se incluyen los siguientes:

* Un campo [conversation&#95;id](/es/x-api/fundamentals/conversation-id)
* Dos campos nuevos de [annotations](/es/x-api/fundamentals/post-annotations), entre ellos context y entities
* Varios campos nuevos de [metrics](/es/x-api/fundamentals/metrics) 
* Un nuevo campo reply&#95;setting, que muestra quién puede responder a una Publicación determinada

**Parámetros de la solicitud**

También hay un conjunto de parámetros estándar de solicitud del flujo filtrado que **no** son compatibles con X API v2:

| Parámetro estándar v1.1 | Detalles |
| :--- | :--- |
| locations - Una lista separada por comas de pares longitud,latitud que especifican un conjunto de cajas delimitadoras para filtrar Publicaciones. | Aún no hemos lanzado operadores basados en ubicación para X API v2. |
| Delimited | Con el endpoint v1.1, establecer esto en la longitud de la cadena indica que las Publicaciones deben delimitarse en el flujo, de modo que los clientes sepan cuántos bytes leer antes del final del mensaje de estado.<br /><br />Esta funcionalidad no está disponible con X API v2. |
| Stall&#95;warnings | Con el endpoint v1.1, establecer este parámetro en true hará que se envíen mensajes periódicos si el cliente corre peligro de desconectarse. <br /><br />Con X API v2, las advertencias de bloqueo (stall&#95;warnings) se envían de forma predeterminada, ya que se envía una nueva línea cada cierto tiempo. |

**Disponibilidad de las funciones de recuperación y redundancia**

La versión de X API v2 de filtered stream introduce funciones de recuperación y redundancia que pueden ayudarte a maximizar el tiempo de actividad del streaming, así como a recuperar cualquier Publicación que se haya podido perder debido a una desconexión que haya durado cinco minutos o menos.

Las conexiones redundantes te permiten conectarte a un flujo determinado hasta dos veces, lo que puede ayudar a garantizar que mantengas una conexión con el flujo en todo momento, incluso si una de tus conexiones falla. 

El parámetro backfill&#95;minutes se puede usar para recuperar hasta cinco minutos de datos perdidos. 

Ambas funciones solo están disponibles mediante el [acceso de Academic Research](/es/x-api/getting-started/about-x-api). Puedes obtener más información sobre esta funcionalidad en nuestra guía de integración de [funciones de recuperación y redundancia](/es/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features). 

**Nuevos operadores de consulta**

X API v2 introduce nuevos operadores para admitir dos funciones nuevas: 

* **[Conversation IDs](/es/x-api/fundamentals/conversation-id)** - A medida que se desarrollan las conversaciones en X, habrá disponible un ID de conversación para marcar las Publicaciones que forman parte de la conversación. Todas las Publicaciones de la conversación tendrán su conversation&#95;id establecido en el ID de la Publicación que la inició. 
  * conversation&#95;id:
* **[X Annotations](/es/x-api/fundamentals/post-annotations)** proporcionan información contextual sobre las Publicaciones e incluyen anotaciones de tipo entity y context. Las entities se componen de personas, lugares, productos y organizaciones. Los contexts son dominios o temas de los que forman parte las entities detectadas. Por ejemplo, las personas mencionadas en una Publicación pueden tener un contexto que indique si son deportistas, actores o políticos.  
  * context: - coincide con Publicaciones que han sido anotadas con un contexto de interés. 
  * entity: - coincide con Publicaciones que han sido anotadas con una entidad de interés. 