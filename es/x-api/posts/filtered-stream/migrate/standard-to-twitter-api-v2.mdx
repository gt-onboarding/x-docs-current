---
title: v1 a v2
sidebarTitle: v1 a v2
keywords: ["migración de v1.1 a v2", "migración de flujo filtrado", "migrar flujo filtrado", "migración de flujo filtrado estándar a v2", "flujo filtrado de v1 a v2", "guía de migración"]
---

<div id="standard-v11-compared-to-x-api-v2">
  ### Comparación entre v1.1 estándar y X API v2
</div>

Si has estado usando el endpoint v1.1 [statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter), esta guía puede ayudarte a entender las similitudes y diferencias entre los endpoints estándar y de flujo filtrado de X API v2.

* **Similitudes**
  * Parámetros de solicitud y operadores
  * Compatibilidad con el historial de edición de Publicaciones y metadatos
* **Diferencias**
  * URLs de endpoints
  * Requisito de Aplicación y Proyecto
  * Método de autenticación
  * Volumen de reglas y flujo persistente
  * Formato de los datos de respuesta
  * Parámetros de solicitud
  * Disponibilidad de funciones de recuperación y redundancia
  * Operadores de consulta

<div id="similarities">
  #### Similitudes
</div>

**Parámetros de solicitud y operadores**

El endpoint estándar v1.1 `statuses/filter` incluye algunos parámetros que se pueden pasar junto con la solicitud para filtrar el flujo. Con el filtered stream de v2, en su lugar utilizas un conjunto de [operadores](/es/x-api/posts/filtered-stream#building-rules-for-filtered-stream) que se pueden combinar utilizando lógica booleana para filtrar las Publicaciones que te interesan. Entre los operadores disponibles se incluyen algunos que son sustitutos directos de los parámetros estándar existentes de v1.1. 

Los siguientes parámetros de solicitud estándar de v1.1 tienen operadores equivalentes en X API v2:
 

| **Estándar** | **X API v2** |
| :--- | :--- |
| follow - Una lista separada por comas de id de usuario, que indica los usuarios cuyas Publicaciones deben entregarse en el flujo. | Varios operadores que pueden ayudarte a encontrar Publicaciones relacionadas con usuarios específicos:<br /><br />* @<br />* from:<br />* to:<br />* etc. |
| track - Una lista separada por comas de frases que se utilizarán para determinar qué Publicaciones se entregarán en el flujo. | Varios operadores que pueden ayudarte a encontrar Publicaciones relacionadas con palabras clave específicas:<br /><br />* palabra clave<br />* &quot;coincidencia exacta de frase&quot;<br />* #<br />* etc. |

**Compatibilidad con el historial de edición de Publicaciones y metadatos**

Ambas versiones proporcionan metadatos que describen cualquier historial de edición. Consulta las [referencias de la API filtered stream](/es/x-api/posts/filtered-stream#api-reference-index) y la [página de fundamentos sobre la edición de Publicaciones](/es/x-api/fundamentals/edit-posts) para obtener más detalles. 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

* Endpoints estándar v1.1:
  * https://stream.x.com/1.1/statuses/filter.json
* Endpoint de X API v2:
  * https://api.x.com/2/tweets/search/stream
  * https://api.x.com/2/tweets/search/stream/rule

**Requisitos de aplicación y Proyecto**

Los endpoints de X API v2 requieren que utilices credenciales de una [aplicación de desarrollador](/es/resources/fundamentals/developer-apps) que esté asociada a un [Proyecto](/es/resources/fundamentals/projects) al autenticar tus solicitudes. Todos los endpoints de X API v1.1 pueden usar credenciales de aplicaciones independientes o de aplicaciones asociadas a un Proyecto.

**Método de autenticación**

El endpoint estándar admite [Contexto de usuario de OAuth 1.0a](/es/resources/fundamentals/authentication), mientras que los endpoints de flujo filtrado de X API v2 admiten [OAuth 2.0 solo para la aplicación](/es/resources/fundamentals/authentication#oauth-2-0) (también denominado autenticación solo para la aplicación). Para realizar solicitudes a la versión de X API v2 debes usar un App Access Token para autenticar tus solicitudes.

Si ya no tienes el App Access Token que se te mostró cuando creaste tu Proyecto y tu aplicación en el portal para desarrolladores, puedes generar uno nuevo accediendo a la página “Keys and tokens” de tu aplicación en el portal para desarrolladores. Si quieres generar un App Access Token de forma programática, consulta esta [guía de OAuth 2.0 solo para la aplicación](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

**Volumen de reglas y flujo persistente**

El endpoint estándar v1.1 admite una única regla para filtrar la conexión de streaming. Para cambiar la regla, debes desconectar el flujo y enviar una nueva solicitud con las reglas de filtrado revisadas como parámetros.

El endpoint de flujo filtrado de X API v2 te permite aplicar varias reglas a un único flujo y agregar y quitar reglas de tu flujo mientras mantienes la conexión del flujo.

**Formato de los datos de respuesta**

Una de las mayores diferencias entre las versiones de endpoints estándar v1.1 y X API v2 es cómo seleccionas qué campos se devuelven en tu carga útil.

Para los endpoints estándar, recibes muchos de los campos de respuesta de forma predeterminada y luego tienes la opción de usar parámetros para identificar qué campos o conjuntos de campos deben devolverse en la carga útil.

La versión de X API v2 solo entrega los campos id y text de la Publicación de forma predeterminada. Para solicitar campos u objetos adicionales, deberás usar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de Publicación que solicites desde estos endpoints se devolverá en el objeto principal de la Publicación. Cualquier objeto y campo de usuario, contenido multimedia, encuesta o lugar ampliado se devolverá en un objeto includes dentro de tu respuesta. Luego puedes asociar cualquier objeto ampliado de nuevo al objeto de la Publicación haciendo coincidir los ID ubicados tanto en la Publicación como en el objeto ampliado.

Te recomendamos leer más sobre estos nuevos parámetros en sus respectivas guías o en nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

También hemos preparado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a mapear campos estándar v1.1 a los campos más recientes de v2. Esta guía también te proporcionará la expansión específica y el parámetro de campo que deberás pasar con tu solicitud v2 para devolver campos específicos.

Además de los cambios en cómo solicitas ciertos campos, X API v2 también introduce nuevos diseños JSON para los objetos devueltos por las APIs, incluidas las Publicaciones y los objetos de [usuario](/es/x-api/fundamentals/data-dictionary#user).

* En el nivel raíz de JSON, los endpoints estándar devuelven objetos de Publicación en una matriz statuses, mientras que X API v2 devuelve una matriz data.
* En lugar de hacer referencia a &quot;statuses&quot; Retweeted y Quoted, el JSON de X API v2 hace referencia a Publicaciones retuiteadas y citadas. Muchos campos heredados y obsoletos, como contributors y user.translator&#95;type, se están eliminando.
* En lugar de usar tanto favorites (en el objeto de la Publicación) como favourites (en el objeto de usuario), X API v2 usa el término like.
* X está adoptando la convención de que los valores JSON sin valor (por ejemplo, null) no se escriben en la carga útil. Los atributos de Publicación y de usuario solo se incluyen si tienen valores no nulos.

También hemos introducido un nuevo conjunto de campos en el [objeto de la Publicación](/es/x-api/fundamentals/data-dictionary#tweet), incluidos los siguientes:

* Un campo [conversation&#95;id](/es/x-api/fundamentals/conversation-id)
* Dos campos nuevos de [annotations](/es/x-api/fundamentals/post-annotations), incluidos context y entities
* Varios campos nuevos de [métricas](/es/x-api/fundamentals/metrics) 
* Un nuevo campo reply&#95;setting, que te muestra quién puede responder a una Publicación determinada

**Parámetros de la solicitud**

También hay un conjunto de parámetros estándar de solicitud de flujo filtrado que **no** son compatibles en X API v2:

| Parámetro estándar de v1.1 | Detalles |
| :--- | :--- |
| locations - Una lista de pares longitud,latitud separados por comas que especifican un conjunto de cuadros delimitadores para filtrar Publicaciones. | Aún no hemos lanzado operadores basados en ubicación para X API v2. |
| Delimited | Con el endpoint de v1.1, establecer esto en la longitud de la cadena indica que las Publicaciones deben delimitarse en el flujo, de modo que los clientes sepan cuántos bytes deben leer antes del final del mensaje de la Publicación.<br /><br />Esta funcionalidad no está disponible con X API v2. |
| Stall&#95;warnings | Con el endpoint de v1.1, establecer este parámetro en true hará que se entreguen mensajes periódicos si el cliente corre peligro de ser desconectado. <br /><br />Con X API v2, las advertencias de bloqueo se envían de forma predeterminada, con una nueva línea que se envía cada cierto tiempo. |

**Disponibilidad de las funciones de recuperación y redundancia**

La versión de flujo filtrado de X API v2 introduce funciones de recuperación y redundancia que pueden ayudarte a maximizar el tiempo de actividad del streaming, así como a recuperar cualquier Publicación que pueda haberse perdido debido a una desconexión que haya durado cinco minutos o menos.

Las conexiones redundantes te permiten conectarte a un flujo dado hasta dos veces, lo que puede ayudar a garantizar que mantengas una conexión con el flujo en todo momento, incluso si una de tus conexiones falla. 

El parámetro backfill&#95;minutes se puede usar para recuperar hasta cinco minutos de datos perdidos. 

Ambas funciones solo están disponibles a través del [acceso de Academic Research](/es/x-api/getting-started/about-x-api). Puedes obtener más información sobre esta funcionalidad en nuestra guía de integración de [funciones de recuperación y redundancia](/es/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features). 

**Nuevos operadores de consulta**

X API v2 introduce nuevos operadores para admitir dos funciones nuevas: 

* **[Conversation IDs](/es/x-api/fundamentals/conversation-id)** - A medida que se desarrollan las conversaciones en X, habrá un conversation&#95;id disponible para marcar las Publicaciones que forman parte de la conversación. Todas las Publicaciones de la conversación tendrán su conversation&#95;id establecido en el ID de la Publicación que la inició. 
  * conversation&#95;id:
* **[X Annotations](/es/x-api/fundamentals/post-annotations)** proporcionan información contextual sobre las Publicaciones e incluyen anotaciones de entidad y de contexto. Las entidades se componen de personas, lugares, productos y organizaciones. Los contextos son dominios o temas de los que forman parte las entidades que aparecen. Por ejemplo, las personas mencionadas en una Publicación pueden tener un contexto que indique si son atletas, actores o políticos.  
  * context: - coincide con Publicaciones que han sido anotadas con un contexto de interés. 
  * entity: - coincide con Publicaciones que han sido anotadas con una entidad de interés. 