---
title: Guía de migración a Account Activity API v2
keywords: ["migración de Account Activity API", "migración AAA", "migración a v2", "guía de migración de API", "migrar a v2", "Account Activity API v2"]
---

Esta guía te ayuda a migrar desde la Enterprise Account Activity API heredada a la Account Activity API v2. La funcionalidad principal se mantiene igual, pero las estructuras de los endpoints y los métodos de autenticación se han actualizado para mantener la coherencia con X API v2.

<div id="summary-of-changes">
  ### Resumen de cambios
</div>

* **Formato de la API**: Los endpoints usan la ruta base /2/account\_activity/ en lugar de /1.1/account\_activity/.  
* **Administración de webhooks**: La creación, la lista, la validación (CRC) y la eliminación de webhooks se gestionan mediante la [V2 Webhooks API](https://github.com/m-rosinsky/XWebhookTest/blob/main/app.py).  
* **Autenticación**: Los endpoints de V2 requieren ya sea:  
  * **OAuthUser** (3-legged OAuth) para acciones específicas de usuario (por ejemplo, suscribir a un usuario).  
  * **OAuth2 App Only** (Bearer Token) para acciones a nivel de aplicación (por ejemplo, listar/eliminar suscripciones).  
  * V1.1 usaba requisitos variables, a menudo OAuth 1.0a.  
* **Asignación de endpoints**:

| Endpoint V1.1 | Equivalente / acción en V2 | Notas |
| ----- | ----- | ----- |
| POST /1.1/account\_activity/webhooks.json?url=\<URL\> | POST /2/webhooks | [Docs](https://docs.x.com/x-api/webhooks/introduction). Requiere OAuth2AppOnly. |
| GET /1.1/account\_activity/webhooks.json | GET /2/webhooks | [Docs](https://docs.x.com/x-api/webhooks/introduction). Requiere OAuth2AppOnly. |
| PUT /1.1/account\_activity/webhooks/:webhook\_id.json | PUT /2/webhooks/:webhook\_id | Activa el CRC. [Docs](https://docs.x.com/x-api/webhooks/introduction). Requiere OAuth2AppOnly. |
| DELETE /1.1/account\_activity/webhooks/:webhook\_id.json | DELETE /2/webhooks/:webhook\_id | [Docs](https://docs.x.com/x-api/webhooks/introduction). Requiere OAuth2AppOnly. |
| POST /1.1/account\_activity/webhooks/:webhook\_id/subscriptions/all.json | POST /2/account\_activity/webhooks/:webhook\_id/subscriptions/all | Requiere OAuthUser. |
| GET /1.1/account\_activity/subscriptions/count.json | GET /2/account\_activity/subscriptions/count | Requiere OAuth2AppOnly. |
| GET /1.1/account\_activity/webhooks/:webhook\_id/subscriptions/all.json | GET /2/account\_activity/webhooks/:webhook\_id/subscriptions/all | Requiere OAuthUser. |
| GET /1.1/account\_activity/webhooks/:webhook\_id/subscriptions/all/list.json | GET /2/account\_activity/webhooks/:webhook\_id/subscriptions/all/list | Requiere OAuth2AppOnly. |
| DELETE /1.1/account\_activity/webhooks/:webhook\_id/subscriptions/:user\_id/all | DELETE /2/account\_activity/webhooks/:webhook\_id/subscriptions/:user\_id/all | Requiere OAuth2AppOnly. |
| DELETE /1.1/account\_activity/webhooks/:webhook\_id/subscriptions/all | Obsoleto / Sin equivalente directo | Usa eliminaciones individuales o elimina el webhook mediante DELETE /2/webhooks/:webhook\_id. |

* **Formatos de respuesta**: Revisa las estructuras de respuestas satisfactorias y de error en la documentación de AAAPI.

Al migrar, actualiza tu código para usar las nuevas rutas base, ajusta los flujos de autenticación y administra los webhooks usando la [V2 Webhooks API](https://docs.x.com/x-api/webhooks/introduction).

<div id="how-to-migrate">
  ### Cómo migrar
</div>

* **Elige un paquete**:  
  * Elige el paquete Enterprise o Pro para acceder a la Account Activity API, teniendo en cuenta:  
    * Número de webhooks necesarios.  
    * Suscripciones o usuarios autorizados actuales y previstos.  
    * Número de aplicaciones cliente de X.  
    * Nivel de soporte deseado (foro vs. soporte 1:1 Enterprise gestionado).  
    * Detalles de precios (contacta con el equipo de ventas para Enterprise).  
* **Actualiza tu autenticación a OAuth 2.0**:  
  * Asegúrate de que tu Aplicación de X tenga permisos de “Read, Write, and Access Direct Messages”.  
  * Actualiza a OAuth 2.0 para los endpoints de la V2. Vuelve a autorizar a los usuarios si los ámbitos (scopes) han cambiado.  
  * Usa el portal para desarrolladores para administrar:  
    * Token de acceso de OAuth 2.0.  
    * Client ID y Client Secret.  
* **Verifica o reconfigura tu webhook**:  
  * Usa tu URL de webhook existente o configura una nueva (por ejemplo, https://your\_domain.com/webhook/twitter).  
  * Sigue la [documentación de la API de Webhooks V2](https://docs.x.com/x-api/webhooks/introduction) para registrar y administrar tu webhook.  
* **Aplicaciones de ejemplo:**  
  * [Servidor de webhook simple](https://github.com/m-rosinsky/XWebhookTest/blob/main/app.py)  
    * Un único script de Python que te muestra cómo responder a la verificación CRC y aceptar eventos POST.  
  * [Panel de ejemplo de Account Activity API](https://github.com/xdevplatform/account-activity-dashboard-enterprise/tree/master)  
    * Una aplicación web escrita con [bun.sh](http://bun.sh) que te permite administrar webhooks, suscripciones y recibir eventos en tiempo real directamente en la aplicación.  
  * [V2 Webhooks API documentation](https://docs.x.com/x-api/webhooks/introduction)