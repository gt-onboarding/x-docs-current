---
keywords: ["Account Activity API", "AAA", "webhooks", "eventos de la cuenta", "actividad del usuario", "eventos en tiempo real", "suscripciones a la actividad", "eventos de webhook"]
---

<div id="v2-account-activity-api">
  # API de actividad de cuenta v2
</div>

<Note>
  La API de actividad de cuenta v2 ya está disponible en [**Pro**](https://developer.x.com/en/portal/products).
</Note>

<div id="overview">
  ## Descripción general
</div>

La Account Activity API (AAA) proporciona una forma de recibir eventos en tiempo real relacionados con cuentas de usuario de X mediante webhooks. Al suscribir cuentas de usuario específicas a un webhook preconfigurado, tu aplicación puede recibir notificaciones de diversas actividades, como Publicaciones, Mensajes Directos, Me gusta, seguimientos, bloqueos y más, desde una o varias de tus cuentas propias o suscritas a través de una única conexión.\
Esta API se utiliza comúnmente para crear aplicaciones que necesitan reaccionar de forma instantánea a las acciones de los usuarios o mantener el estado actualizado en función de la actividad del usuario. Recibirás todas las actividades relacionadas que se indican a continuación para cada suscripción de usuario en tu registro de webhook:

<div id="activity-types">
  ## Tipos de actividad
</div>

* **Publicaciones** (del usuario)
* **Eliminaciones de publicaciones** (del usuario)
* **@menciones** (del usuario)
* **Respuestas** (al usuario o del usuario)
* **Reposts** (del usuario o al usuario)
* **Publicaciones citadas** (del usuario o al usuario)
* **Reposts de publicaciones citadas** (del usuario o al usuario)
* **Me gusta** (del usuario o al usuario)
* **Seguir** (del usuario o al usuario)
* **Dejar de seguir** (del usuario o al usuario)
* **Bloqueos** (del usuario o al usuario)
* **Desbloqueos** (del usuario o al usuario)
* **Silenciamientos** (del usuario o al usuario)
* **Dejar de silenciar** (del usuario o al usuario)
* **Mensajes Directos enviados** (por el usuario)
* **Mensajes Directos recibidos** (por el usuario)
* **Indicadores de escritura** (al usuario)
* **Confirmaciones de lectura** (al usuario)
* **Revocaciones de suscripción** (por el usuario)

**Nota**: No entregamos datos del timeline de inicio a través de la Account Activity API. Usa el endpoint User Posts timeline by User ID para obtener estos datos.

<div id="feature-summary">
  ## Resumen de características
</div>

| Plan | Precio | Número de suscripciones únicas | Número de webhooks |
| :----- | :----- | :----- | :----- |
| Pro | 5000 USD / mes | 3 | 1 |
| Enterprise | [Contacta con el equipo de ventas](/es/enterprise/forms/enterprise-api-interest) | 5000+ | 5+ |

Este documento se centra en la gestión de suscripciones de usuario asociadas a tus webhooks mediante los endpoints de la API Account Activity v2.

<div id="manage-subscriptions">
  ## Administrar suscripciones
</div>

La API Account Activity proporciona mensajes JSON basados en webhooks cada vez que hay eventos asociados a cuentas de X suscritas a tu servicio. X entrega esas actividades a tu webhook registrado. En los siguientes pasos, aprenderás cómo configurar y administrar suscripciones para cuentas de usuario.

<Warning>
  Actualmente, la API Account Activity v2 no es compatible con User Auth 2.0. Estamos trabajando para solucionar esto y actualizaremos nuestra documentación cuando se admita OAuth 2.0.
</Warning>

<div id="1-create-an-x-app">
  ### 1. Crear una Aplicación de X
</div>

Crea una Aplicación de X con una cuenta de desarrollador aprobada en el [portal para desarrolladores](https://developer.x.com/en/portal/products/enterprise). Si creas la aplicación en nombre de tu empresa, utiliza una cuenta corporativa de X.

* Habilita “Read, Write, and Access direct messages” en la pestaña de permisos de la página de tu aplicación.
* En la pestaña &quot;Keys and Access Tokens&quot;, anota la **Consumer Key (API Key)**, el **Consumer Token (API Secret)** y el **Bearer Token** de tu aplicación.
* Genera el **Access Token** y el **Access Token Secret** de tu aplicación. Estos son necesarios para suscribirte a cuentas de usuario.
* Revisa [Obtaining Access Tokens](https://developer.x.com/en/docs/authentication) si no estás familiarizado con X Sign-in y los contextos de usuario.
* Anota el id numérico de tu aplicación en la página &quot;Apps&quot; del portal para desarrolladores. Esto es necesario al solicitar acceso a Account Activity API.

<div id="2-get-account-activity-api-access">
  ### 2. Obtener acceso a la API Account Activity
</div>

La API Account Activity está disponible solo en el nivel Enterprise. Envía una solicitud para obtener acceso a Enterprise a través del [portal para desarrolladores](https://developer.x.com/en/portal/products/enterprise).

<div id="3-register-a-webhook">
  ### 3. Registrar un webhook
</div>

Para recibir eventos de Account Activity, debes registrar un webhook con una URL HTTPS accesible públicamente. Consulta la documentación de la API de Webhooks v2 para obtener más detalles sobre cómo desarrollar una aplicación consumidora de webhooks, registrar un webhook, protegerlo y manejar los Challenge-Response Checks (CRC).

* Asegúrate de que tu webhook esté configurado para manejar solicitudes POST con cargas de eventos codificadas en JSON.
* Obtén el **webhook&#95;id** de la respuesta de registro del webhook, ya que se requiere para administrar las suscripciones.

<div id="4-validate-setup">
  ### 4. Validar la configuración
</div>

Para validar que tu aplicación y webhook estén configurados correctamente:

* Suscribe una cuenta de usuario a tu webhook (consulta &quot;Agregar una suscripción&quot; a continuación).
* Marca como favorita una Publicación de una de las cuentas de X a las que tu aplicación está suscrita.
* Deberías recibir un payload `favorite_events` mediante una solicitud POST a la URL de tu webhook.
* **Nota**: La entrega de eventos puede tardar hasta 10 segundos en comenzar después de agregar una suscripción.

<div id="important-notes">
  ### Notas importantes
</div>

* **Autenticación**: Cuando suscribas usuarios, usa la consumer key, consumer secret, access token y access token secret de la cuenta del usuario.
* **Mensajes Directos**: Todos los Mensajes Directos entrantes y salientes (enviados mediante POST /2/dm&#95;conversations/with/:participant&#95;id/messages) se entregan mediante webhooks para mantener tu aplicación informada de toda la actividad de Mensajes Directos.
* **Duplicación de eventos**:
  * Si dos usuarios suscritos están en la misma conversación de Mensajes Directos, tu webhook recibe eventos duplicados (uno por usuario). Usa el campo for&#95;user&#95;id para distinguirlos.
  * Si varias aplicaciones comparten la misma URL de webhook y el mismo usuario, los eventos se envían varias veces (una por aplicación).
  * Tu aplicación debe deduplicar los eventos usando el ID del evento para manejar duplicados ocasionales.
* **Código de ejemplo**: Consulta [Account Activity API Setup](https://github.com/xdevplatform/account-activity-dashboard-enterprise/tree/master) para ver una aplicación web que muestra eventos de webhook.

<div id="managing-subscribed-users-v2-api">
  ## Gestión de usuarios suscritos (API v2)
</div>

Una vez que tengas registrado un webhook con un webhook&#95;id válido, puedes administrar las suscripciones de usuarios para recibir la actividad de sus cuentas. Usa los siguientes endpoints para agregar, ver o eliminar suscripciones.

<div id="adding-a-subscription">
  ### [Agregar una suscripción](https://docs.x.com/x-api/account-activity/subscribes-the-provided-application-to-all-events-for-the-provided-user-context-for-all-message-types)
</div>

**Endpoint**: POST /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all
**Descripción**: Suscribe al usuario autenticado para que reciba eventos mediante el webhook especificado.
**Autenticación**: OAuthUser (se requiere flujo OAuth de tres patas, que representa al usuario que se está suscribiendo).

* **Consumer Key**: p. ej., xvz1evFS...
* **Token de acceso**: p. ej., 370773112-GmHxMAgYyLbN...

**Parámetros de ruta**:

| Parámetro      | Descripción                                                  |
| :------------- | :----------------------------------------------------------- |
| webhook&#95;id | El ID del webhook con el que se debe asociar la suscripción. |

**Solicitud**:
bash

```
curl --request POST --url 'https://api.twitter.com/2/account_activity/webhooks/:WEBHOOK_ID/subscriptions/all' \
--header 'authorization: OAuth oauth_consumer_key="<CONSUMER_KEY>", oauth_nonce="GENERATED", oauth_signature="GENERATED", oauth_signature_method="HMAC-SHA1", oauth_timestamp="GENERATED", oauth_token="<ACCESS_TOKEN>", oauth_version="1.0"'
```

**Respuestas**:

* **Correcta (200 OK)**:
* json

```
{
  "data": {
    "subscribed": true
  }
}
```

* **Error (400 Bad Request)**:

| Reason                      | Description                                                                             |
| :-------------------------- | :-------------------------------------------------------------------------------------- |
| WebhookIdInvalid            | El webhook&#95;id proporcionado no se ha encontrado o no está asociado a la aplicación. |
| DuplicateSubscriptionFailed | Ya existe una suscripción de este usuario para el webhook&#95;id especificado.          |
| SubscriptionLimitExceeded   | La aplicación ha alcanzado su límite de suscripciones en todos los webhooks.            |

###

<div id="checking-a-subscription">
  ### [Comprobar una suscripción](https://docs.x.com/x-api/account-activity/check-if-a-subscription-exists-for-a-given-webhook-and-user)
</div>

**Endpoint**: GET /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all
**Descripción**: Comprueba si el usuario autenticado está suscrito al webhook especificado.
**Autenticación**: OAuthUser (se requiere flujo OAuth de tres patas).
**Parámetros de ruta**:

| Parámetro      | Descripción                              |
| :------------- | :--------------------------------------- |
| webhook&#95;id | El ID del webhook que se va a comprobar. |

**Solicitud**:
bash

```
curl --request GET --url 'https://api.twitter.com/2/account_activity/webhooks/:WEBHOOK_ID/subscriptions/all' \
--header 'authorization: OAuth oauth_consumer_key="<CONSUMER_KEY>", oauth_nonce="GENERATED", oauth_signature="GENERATED", oauth_signature_method="HMAC-SHA1", oauth_timestamp="GENERATED", oauth_token="<ACCESS_TOKEN>", oauth_version="1.0"'
```

**Respuestas**:

* **Correcta (200 OK)**:
* json

```
{
  "data": {
    "subscribed": true // o false
  }
}
```

* **Error (400 Bad Request)**:

| Reason           | Description                                                                          |
| :--------------- | :----------------------------------------------------------------------------------- |
| WebhookIdInvalid | El webhook&#95;id proporcionado no se encontró o no está asociado con la aplicación. |

###

<div id="removing-subscriptions">
  ### [Eliminación de suscripciones](https://docs.x.com/x-api/account-activity/deactivates-a-subscription-for-the-specified-webhook-and-user-id)
</div>

**Endpoint**: DELETE /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/:user&#95;id/all
**Description**: Desactiva la suscripción para un id de usuario específico y detiene la entrega de eventos al webhook.
**Authentication**: Bearer Token OAuth2 de solo aplicación (App only).

* **Bearer Token**: por ejemplo, AAAAAAAAAAAA0%2EUifi76ZC9Ub0wn...

**Path Parameters**:

| Parameter      | Description                                        |
| :------------- | :------------------------------------------------- |
| webhook&#95;id | El id del webhook que contiene la suscripción.     |
| user&#95;id    | El id numérico del usuario al que se dará de baja. |

**Request**:
bash

```
curl --request DELETE --url 'https://api.twitter.com/2/account_activity/webhooks/:WEBHOOK_ID/subscriptions/:USER_ID/all' \
--header 'authorization: Bearer <BEARER_TOKEN>'
```

**Respuestas**:

* **Éxito (200 OK)**:
* json

```
{
  "data": {
    "subscribed": false
  }
}
```

* **Error (400 Bad Request)**:

| Reason               | Description                                                                                   |
| :------------------- | :-------------------------------------------------------------------------------------------- |
| SubscriptionNotFound | No existe ninguna suscripción para el user&#95;id especificado en el webhook&#95;id indicado. |
| WebhookIdInvalid     | El webhook&#95;id proporcionado no se encontró o no está asociado con la aplicación.          |

<div id="viewing-all-subscriptions">
  ### [Ver todas las suscripciones](https://docs.x.com/x-api/account-activity/get-a-list-of-the-current-all-activity-type-subscriptions-for-the-specified-webhook)
</div>

**Endpoint**: GET /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all/list
**Description**: Obtiene una lista de todos los identificadores de usuario que están suscritos actualmente al webhook especificado.
**Authentication**: Bearer Token de OAuth2 solo de Aplicación.
**Path Parameters**:

| Parameter      | Description                                                               |
| :------------- | :------------------------------------------------------------------------ |
| webhook&#95;id | El identificador del webhook del que se quieren listar las suscripciones. |

**Request**:
bash

```
curl --request GET --url 'https://api.twitter.com/2/account_activity/webhooks/:WEBHOOK_ID/subscriptions/all/list' \
--header 'authorization: Bearer <BEARER_TOKEN>'
```

**Respuestas**:

* **Éxito (200 OK)**:
* json

```
{
  "data": {
    "application_id": "<your app id>",
    "webhook_id": "<webhook id>",
    "webhook_url": "<the webhook's callback url>",
    "subscriptions": [
      { "user_id": "<user_id_1>" },
      { "user_id": "<user_id_2>" }
    ]
  }
}
```

* **Error (400 Bad Request)**:

| Reason           | Description                                                                          |
| :--------------- | :----------------------------------------------------------------------------------- |
| WebhookIdInvalid | El webhook&#95;id proporcionado no se encontró o no está asociado con la aplicación. |

###

<div id="subscriptions-count">
  ### [Cantidad de suscripciones](https://docs.x.com/x-api/account-activity/get-a-count-of-subscriptions-that-are-currently-active-on-your-account)
</div>

**Endpoint**: GET /2/account&#95;activity/subscriptions/count
**Descripción**: Devuelve la cantidad total de suscripciones activas y el límite aprovisionado para la aplicación que se autentica.
**Autenticación**: OAuth2 de solo aplicación con Bearer Token.
**Solicitud**:
bash

```
curl --request GET --url 'https://api.twitter.com/2/account_activity/subscriptions/count' \
--header 'authorization: Bearer <BEARER_TOKEN>'
```

**Respuestas**:

* **Correcta (200 OK)**:
* json

```
{
  "data": {
    "account_name": "<your application name>",
    "provisioned_count": "<subscription limit allocated>",
    "subscriptions_count_all": "<current active subscription count>",
    "subscriptions_count_direct_messages": "0" // Las suscripciones exclusivas de MD ya no son compatibles
  }
}
```

<div id="replay">
  ## [Replay](https://docs.x.com/x-api/account-activity/request-activity-replay)
</div>

AAAv2 proporciona funcionalidad de replay que te permite recuperar eventos pasados para un intervalo de tiempo específico y volver a entregarlos a tu webhook. Esto es útil para recuperar eventos perdidos debido a períodos de inactividad.

**Endpoint**: POST /2/account&#95;activity/replay/webhooks/:webhook&#95;id/subscriptions/all

**Descripción**: Inicia un trabajo de replay

**Autenticación**: OAuth2 solo de Aplicación con Bearer Token

**Parámetros de ruta**:

| Parámetro      | Descripción                                    |
| :------------- | :--------------------------------------------- |
| webhook&#95;id | El ID del webhook con el que iniciar el replay |

**Parámetros de consulta**:

| Parámetro     | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| :------------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| from&#95;date | La marca de tiempo UTC más antigua (de inicio) a partir de la cual se proporcionarán los eventos; debe estar en formato ‘yyyymmddhhmm’. La marca de tiempo tiene granularidad de minutos y es inclusiva (es decir, 12:00 incluye el minuto 00). Los tiempos válidos deben estar dentro de las últimas 24 horas, en hora UTC, y no más recientes que 31 minutos antes del momento actual. Se recomienda que from&#95;date y to&#95;date estén dentro de ~2 horas. |
| to&#95;date   | La marca de tiempo UTC más reciente (de finalización) hasta la cual se proporcionarán los eventos; debe estar en formato ‘yyyymmddhhmm’. La marca de tiempo tiene granularidad de minutos y es exclusiva (es decir, 12:30 no incluye el minuto 30 de la hora). Los tiempos válidos deben estar dentro de las últimas 24 horas, en hora UTC, y no más de 10 minutos antes del momento actual.                                                                     |

**Respuestas**:

Éxito:

```
200

{
  "for_user_id": "<USER_ID>"
  "replay_event": {
    "job_id": <REPLAY_JOB_ID>",
    "created_at: "yyyy-mm-ddThh:mm:ss.000Z"
  }
}
```

Errores:

| Motivo              | Descripción                                                                             |
| :------------------ | :-------------------------------------------------------------------------------------- |
| QueryParamInvalid   | from&#95;date es anterior a la hora actual por más de 24 horas.                         |
| QueryParamInvalid   | from&#95;date es más reciente que to&#95;date.                                          |
| QueryParamInvalid   | from&#95;date está en el futuro.                                                        |
| QueryParamInvalid   | to&#95;date está en el futuro.                                                          |
| QueryParamInvalid   | from&#95;date o to&#95;date no tienen el formato correcto.                              |
| CrcValidationFailed | Se recibió una respuesta incorrecta de la URL del webhook durante la validación de CRC. |
| ReplayConflictError | Ya hay un trabajo de reproducción en curso para el webhook especificado.                |
| WebhookIdInvalid    | El webhook&#95;id proporcionado no es válido o no está asociado con la aplicación.      |

<div id="job-completed-messages">
  ### Mensajes de trabajos completados
</div>

Una vez que tu trabajo de replay se complete correctamente, X enviará el siguiente evento de finalización de trabajo. Cuando recibas este evento, el trabajo habrá terminado de ejecutarse y podrás enviar otro.

```
{
  "replay_job_status": {
    "webhook_id": "<WEBHOOK_ID>",
    "job_state": "Complete",
    "job_state_description": "Job completed successfully",
    "job_id": "<JOB_ID>"
  }
}
```

En caso de que tu trabajo no se complete correctamente, te devolveremos el siguiente mensaje recomendándote que vuelvas a intentar tu Replay Job. Una vez que recibas este evento, el trabajo habrá terminado de ejecutarse y podrás enviar otro.

```
{
  "replay_job_status": {
    "webhook_id": "<WEBHOOK_ID>",
    "job_state": "Incomplete",
    "job_state_description": "El trabajo no pudo entregar todos los eventos, vuelva a intentar su trabajo de reproducción",
    "job_id": "<JOB_ID>"
  }
}
```

<div id="account-activity-data-object-structure">
  ## Estructura del objeto de datos de actividad de la cuenta
</div>

| Objeto | Detalles |
| :----- | :----- |
| for&#95;user&#95;id | Identifica la suscripción de usuario con la que el evento está relacionado. |
| is&#95;blocked&#95;by | (Condicional) Se muestra solo para eventos de mención de Publicación si el usuario que menciona está bloqueado por el usuario suscrito. |
| source | El usuario que realiza la actividad (por ejemplo, el usuario que sigue, bloquea o silencia). |
| target | El usuario al que se aplica la actividad (por ejemplo, el usuario que es seguido, bloqueado o silenciado). |

<div id="available-activities">
  ### Actividades disponibles
</div>

| Tipo de mensaje | Detalles |
| :----- | :----- |
| tweet&#95;create&#95;events | Estado de la publicación para publicaciones, Retweets, respuestas, @menciones, publicaciones citadas o Retweets de publicaciones citadas. |
| favorite&#95;events | Evento de me gusta con usuario y destino. |
| follow&#95;events | Evento de seguir con usuario y destino. |
| unfollow&#95;events | Evento de dejar de seguir con usuario y destino. |
| block&#95;events | Evento de bloquear con usuario y destino. |
| unblock&#95;events | Evento de desbloquear con usuario y destino. |
| mute&#95;events | Evento de silenciar con usuario y destino. |
| unmute&#95;events | Evento de dejar de silenciar con usuario y destino. |
| user&#95;event | Eventos de revocación cuando un usuario elimina la autorización de la Aplicación (la suscripción se elimina automáticamente). |
| direct&#95;message&#95;events | Estado de DM para mensajes enviados o recibidos. |
| direct&#95;message&#95;indicate&#95;typing&#95;events | Evento de escritura de DM con usuario y destino. |
| direct&#95;message&#95;mark&#95;read&#95;events | Evento de lectura de DM con usuario y destino. |
| tweet&#95;delete&#95;events | Aviso de publicaciones eliminadas para fines de cumplimiento normativo. |
| spaces&#95;events | Actualmente no se admite. Próximamente. |

<div id="payload-examples">
  ## Ejemplos de payloads
</div>

A continuación se muestran ejemplos de payloads para cada evento de Account Activity.

<div id="tweet_create_events-posts-retweets-replies-quotetweets">
  ### tweet&#95;create&#95;events (Publicaciones, Retweets, Respuestas, Citas de publicaciones)
</div>

```json
{
  "for_user_id": "2244994945",
  "tweet_create_events": [
    {
      <Tweet Object>
    }
  ]
}
```

###

<div id="tweet_create_events-mentions">
  ### tweet&#95;create&#95;events (@menciones)
</div>

```json
{
  "for_user_id": "2244994945",
  "user_has_blocked": "false",
  "tweet_create_events": [
    {
      <Tweet Object>
    }
  ]
}
```

<div id="favorite_events">
  ### favorite&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "favorite_events": [{
    "id": "a7ba59eab0bfcba386f7acedac279542",
    "created_at": "Mon Mar 26 16:33:26 +0000 2018",
    "timestamp_ms": 1522082006140,
    "favorited_status": {
      <Tweet Object>
    },
    "user": {
      <User Object>
    }
  }]
}
```

<div id="follow_events">
  ### follow&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "follow_events": [{
    "type": "follow",
    "created_timestamp": "1517588749178",
    "target": {
      <User Object>
    },
    "source": {
      <User Object>
    }
  }]
}
```

<div id="unfollow_events">
  ### unfollow&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "follow_events": [{
    "type": "unfollow",
    "created_timestamp": "1517588749178",
    "target": {
      <User Object>
    },
    "source": {
      <User Object>
    }
  }]
}
```

<div id="block_events">
  ### block&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "block_events": [{
    "type": "block",
    "created_timestamp": "1518127020304",
    "source": {
      <User Object>
    },
    "target": {
      <User Object>
    }
  }]
}
```

<div id="unblock_events">
  ### unblock&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "block_events": [{
    "type": "unblock",
    "created_timestamp": "1518127020304",
    "source": {
      <User Object>
    },
    "target": {
      <User Object>
    }
  }]
}
```

<div id="mute_events">
  ### mute&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "mute_events": [
    {
      "type": "mute",
      "created_timestamp": "1518127020304",
      "source": {
        <User Object>
      },
      "target": {
        <User Object>
      }
    }
  ]
}
```

<div id="unmute_events">
  ### unmute&#95;events
</div>

```json
{
  "for_user_id": "2244994945",
  "mute_events": [
    {
      "type": "unmute",
      "created_timestamp": "1518127020304",
      "source": {
        <User Object>
      },
      "target": {
        <User Object>
      }
    }
  ]
}
```

<div id="user_event">
  ### user&#95;event
</div>

```json
{
  "user_event": {
    "revoke": {
      "date_time": "2018-05-24T09:48:12+00:00",
      "target": {
        "app_id": "13090192"
      },
      "source": {
        "user_id": "63046977"
      }
    }
  }
}
```

<div id="direct_message_events">
  ### direct&#95;message&#95;events
</div>

```json
{
  "for_user_id": "4337869213",
  "direct_message_events": [{
    "type": "message_create",
    "id": "954491830116155396",
    "created_timestamp": "1516403560557",
    "message_create": {
      "target": {
        "recipient_id": "4337869213"
      },
      "sender_id": "3001969357",
      "source_app_id": "13090192",
      "message_data": {
        "text": "Hello World!",
        "entities": {
          "hashtags": [],
          "symbols": [],
          "user_mentions": [],
          "urls": []
        }
      }
    }
  }],
  "apps": {
    "13090192": {
      "id": "13090192",
      "name": "FuriousCamperTestApp1",
      "url": "https://x.com/furiouscamper"
    }
  },
  "users": {
    "3001969357": {
      "id": "3001969357",
      "created_timestamp": "1422556069340",
      "name": "Jordan Brinks",
      "screen_name": "furiouscamper",
      "location": "Boulder, CO",
      "description": "Alter Ego - X PE las-opiniones-son-mías",
      "url": "https://t.co/SnxaA15ZuY",
      "protected": false,
      "verified": false,
      "followers_count": 22,
      "friends_count": 45,
      "statuses_count": 494,
      "profile_image_url_https": "https://pbs.twimg.com/profile_images/851526626785480705/cW4WTi7C_normal.jpg"
    },
    "4337869213": {
      "id": "4337869213",
      "created_timestamp": "1448312972328",
      "name": "Harrison Test",
      "screen_name": "Harris_0ff",
      "location": "Burlington, MA",
      "protected": false,
      "verified": false,
      "followers_count": 8,
      "friends_count": 8,
      "statuses_count": 240,
      "profile_image_url_https": "https://abs.twimg.com/sticky/default_profile_images/default_profile_normal.png"
    }
  }
}
```

<div id="direct_message_indicate_typing_events">
  ### direct&#95;message&#95;indicate&#95;typing&#95;events
</div>

```json
{
  "for_user_id": "4337869213",
  "direct_message_indicate_typing_events": [{
    "created_timestamp": "1518127183443",
    "sender_id": "3284025577",
    "target": {
      "recipient_id": "3001969357"
    }
  }],
  "users": {
    "3001969357": {
      "id": "3001969357",
      "created_timestamp": "1422556069340",
      "name": "Jordan Brinks",
      "screen_name": "furiouscamper",
      "location": "Boulder, CO",
      "description": "Alter Ego - X PE opinions-are-my-own",
      "url": "https://t.co/SnxaA15ZuY",
      "protected": false,
      "verified": false,
      "followers_count": 23,
      "friends_count": 47,
      "statuses_count": 509,
      "profile_image_url_https": "https://pbs.twimg.com/profile_images/851526626785480705/cW4WTi7C_normal.jpg"
    },
    "3284025577": {
      "id": "3284025577",
      "created_timestamp": "1437281176085",
      "name": "Bogus Bogart",
      "screen_name": "bogusbogart",
      "protected": true,
      "verified": false,
      "followers_count": 1,
      "friends_count": 4,
      "statuses_count": 35,
      "profile_image_url_https": "https://pbs.twimg.com/profile_images/763383202857779200/ndvZ96mE_normal.jpg"
    }
  }
}
```

<div id="direct_message_mark_read_events">
  ### direct&#95;message&#95;mark&#95;read&#95;events
</div>

```json
{
  "for_user_id": "4337869213",
  "direct_message_mark_read_events": [{
    "created_timestamp": "1518452444662",
    "sender_id": "199566737",
    "target": {
      "recipient_id": "3001969357"
    },
    "last_read_event_id": "963085315333238788"
  }],
  "users": {
    "199566737": {
      "id": "199566737",
      "created_timestamp": "1286429788000",
      "name": "Le Braat",
      "screen_name": "LeBraat",
      "location": "Denver, CO",
      "description": "data by day @X, design by dusk",
      "protected": false,
      "verified": false,
      "followers_count": 299,
      "friends_count": 336,
      "statuses_count": 752,
      "profile_image_url_https": "https://pbs.twimg.com/profile_images/936652894371119105/YHEozVAg_normal.jpg"
    },
    "3001969357": {
      "id": "3001969357",
      "created_timestamp": "1422556069340",
      "name": "Jordan Brinks",
      "screen_name": "furiouscamper",
      "location": "Boulder, CO",
      "description": "Alter Ego - X PE opinions-are-my-own",
      "url": "https://t.co/SnxaA15ZuY",
      "protected": false,
      "verified": false,
      "followers_count": 23,
      "friends_count": 48,
      "statuses_count": 510,
      "profile_image_url_https": "https://pbs.twimg.com/profile_images/851526626785480705/cW4WTi7C_normal.jpg"
    }
  }
}
```

<div id="tweet_delete_events">
  ### tweet&#95;delete&#95;events
</div>

```json
{
  "for_user_id": "930524282358325248",
  "tweet_delete_events": [
    {
      "status": {
        "id": "1045405559317569537",
        "user_id": "930524282358325248"
      },
      "timestamp_ms": "1432228155593"
    }
  ]
}
```

<div id="support-for-longform-posts">
  ## Compatibilidad con publicaciones de formato largo
</div>

La Account Activity API v2 ahora admite publicaciones **de formato largo**, que son publicaciones que superan los 280 caracteres. Cuando una publicación de formato largo se incluye en un payload de tweet&#95;create&#95;events, el campo text contiene los primeros 140 caracteres (o menos) y el campo truncated se establece en true. El contenido completo de la publicación se entrega en el objeto extended&#95;tweet, que incluye:

* full&#95;text: El texto completo de la publicación, incluidos todos los caracteres más allá del límite de 280 caracteres.
* entities: Cualquier entidad (por ejemplo, hashtags, URL, menciones de usuarios, símbolos) que aparezca en el texto completo, incluidas las que se encuentran después del carácter 280.
* display&#95;text&#95;range: El rango de caracteres que se deben mostrar, teniendo en cuenta el texto completo.

Esto garantiza que las aplicaciones puedan procesar todo el contenido de las publicaciones de formato largo, incluidas las menciones u otras entidades que aparezcan más adelante en el texto. A continuación se muestra un ejemplo de payload de tweet&#95;create&#95;events para una publicación de formato largo:

```json
{
  "for_user_id": "1603419180975409153",
  "tweet_create_events": [
    {
      "created_at": "Mon May 19 14:01:46 +0000 2025",
      "id": 1924465506158879000,
      "id_str": "1924465506158878979",
      "text": "The Antikythera Mechanism: A Window into Ancient Ingenuity Discovered in 1901 among the wreckage of a Roman ship of… https://t.co/bzbEKj8cd8",
      "display_text_range": [
        0,
        140
      ],
      ...
      "user": {
        ...
      },
      ...
      "extended_tweet": {
        "full_text": "El Mecanismo de Anticitera: Una Ventana a la Ingenuidad Antigua Descubierto en 1901 entre los restos de un barco romano frente a la isla griega de Anticitera, el Mecanismo de Anticitera es a menudo aclamado como la primera computadora analógica del mundo. Este intrincado dispositivo de bronce, que data de alrededor del 100 a.C., ha cautivado a historiadores, arqueólogos y científicos con su diseño sofisticado y propósito misterioso. El mecanismo consiste en un complejo sistema de engranajes, meticulosamente elaborado para realizar cálculos que siguen siendo asombrosamente avanzados para su época. Su descubrimiento desafió suposiciones arraigadas sobre las capacidades tecnológicas del mundo antiguo. La función principal del Mecanismo de Anticitera parece haber sido astronómica. Podía predecir las posiciones del sol, la luna y posiblemente los planetas, rastrear eclipses lunares y solares, e incluso calcular las fechas de los Juegos Olímpicos. Los diales y punteros del dispositivo, junto con inscripciones en griego antiguo, sugieren que era una herramienta tanto para la investigación científica como para eventos culturales. Su nivel de precisión, comparable al de la relojería del siglo XIX, subraya el notable ingenio de sus creadores, probablemente del mundo helenístico. A pesar de décadas de estudio, muchas preguntas permanecen. ¿Quién lo construyó y para quién? ¿Era una obra maestra singular o parte de una tradición más amplia de dispositivos mecánicos perdidos en la historia? Las imágenes de rayos X y las técnicas computacionales modernas han revelado mucho sobre su funcionamiento interno, pero el alcance completo de sus capacidades aún se debate. Algunos proponen que se usó para predicciones astrológicas, mientras que otros lo ven como una herramienta de enseñanza para astrónomos. El Mecanismo de Anticitera se erige como un testimonio de la curiosidad e innovación humanas, uniendo los mundos antiguo y moderno. Nos recuerda que incluso en la antigüedad, las personas buscaban comprender el cosmos con herramientas que rivalizan con la complejidad de la tecnología actual. Su misterio perdurable continúa inspirando asombro e investigación, convirtiéndolo en uno de los artefactos más notables jamás desenterrados.\n@xai\n@HistoryInPics",
        "display_text_range": [
          0,
          2051
        ],
        "entities": {
          "hashtags": [],
          "urls": [],
          "user_mentions": [
            {
              "screen_name": "xai",
              "name": "xAI",
              "id": 1661523610111193000,
              "id_str": "1661523610111193088",
              "indices": [
                2032,
                2036
              ]
            },
            {
              "screen_name": "HistoryInPics",
              "name": "History Photographed",
              "id": 1582853809,
              "id_str": "1582853809",
              "indices": [
                2037,
                2051
              ]
            }
          ],
          "symbols": []
        }
      },
      ...
      "entities": {
        "hashtags": [],
        "urls": [
          {
            "url": "https://t.co/bzbEKj8cd8",
            "expanded_url": "https://twitter.com/i/web/status/1924465506158878979",
            "display_url": "twitter.com/i/web/status/1…",
            "indices": [
              117,
              140
            ]
          }
        ],
        "user_mentions": [],
        "symbols": []
      },
      ...
    }
  ]
}
```

<div id="account-activity-api-migrating-from-legacy-enterprise-to-v2">
  ## Migración de Account Activity API de Enterprise heredado a v2
</div>

Consulta nuestra [guía de migración](https://docs.x.com/x-api/account-activity/migrate/overview).

<div id="frequently-asked-questions">
  ## Preguntas frecuentes
</div>

**¿Cuáles son las ventajas de usar la Account Activity API?**

La Account Activity API utiliza webhooks, enviando datos en tiempo real sin requerir una conexión abierta (a diferencia de las API de streaming) ni sondeos frecuentes (a diferencia de las API REST). Sus ventajas incluyen:

* **Velocidad**: Entrega los datos a la velocidad de X.
* **Simplicidad**: Proporciona todos los eventos de cuenta a través de una única conexión de webhook, incluidas Publicaciones, @menciones, respuestas, reposts, Publicaciones citadas, Me gusta, DMs, follows, blocks y mutes.
* **Escala**: Admite todas las actividades para cuentas gestionadas sin límites de frecuencia ni topes de eventos (nivel Enterprise).

**Necesito entornos de desarrollo, staging y producción para la Account Activity API, ¿es esto posible?**

Sí! Puedes registrar varias URL de webhook y gestionar las suscripciones por separado mediante la [V2 Webhooks API](https://docs.x.com/x-api/webhooks/introduction).

**¿Tienen alguna guía paso a paso sobre cómo empezar a usar la Account Activity API?**

Sí! Consulta la guía [Getting Started with Webhooks](https://docs.x.com/x-api/webhooks/introduction) y la [Account Activity API Sample Application](https://github.com/m-rosinsky/XWebhookTest/blob/main/app.py).

**¿Qué autenticación tengo que usar con la Account Activity API?**

Los requisitos de autenticación se especifican por endpoint. Revisa la [sección de autenticación](https://developer.x.com/en/docs/authentication) para más detalles.

**¿Recibiré actividades duplicadas si estoy suscrito a usuarios que interactúan entre sí?**

Sí. Si tu aplicación tiene suscripciones para el usuario A y el usuario B, y el usuario A menciona al usuario B en una Publicación, tu webhook recibe dos eventos (uno por usuario). Utiliza el campo for&#95;user&#95;id para identificar la suscripción.

**Cuando creo una suscripción a mi webhook, ¿puedo reemplazar la parte** /all/ **del endpoint con otros objetos de datos de actividad de la cuenta para limitar las actividades entregadas?**

No. El producto /all/ es la única opción y entrega todos los tipos de eventos compatibles.

**Si tengo acceso a tres webhooks, ¿puedo usar tres webhooks para cada una de las apps que he registrado para uso Enterprise?**

El límite de webhooks se establece a nivel de cuenta, no por aplicación. Por ejemplo, con tres webhooks y dos aplicaciones, podrías usar dos webhooks para una aplicación y uno para la otra, pero no tres por aplicación.

<div id="account-activity-api-reference-index">
  ## Índice de referencia de la API de Account Activity
</div>

| Propósito | Endpoint de V2 |
| :----- | :----- |
| Suscribe una aplicación a los eventos de una cuenta | POST /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all |
| Devuelve el número de suscripciones activas actualmente | GET /2/account&#95;activity/subscriptions/count |
| Comprueba si un webhook está suscrito a una cuenta | GET /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all |
| Devuelve una lista de suscripciones activas actualmente | GET /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/all/list |
| Desactiva una suscripción usando OAuth solo de la aplicación | DELETE /2/account&#95;activity/webhooks/:webhook&#95;id/subscriptions/:user&#95;id/all |
| Crea un job de repetición (replay) | POST /2/account&#95;activity/replay/webhooks/:webhook&#95;id/subscriptions/all |

Para los endpoints de gestión de webhooks (registrar, ver, validar, eliminar), consulta la [documentación de la API de Webhooks v2](https://docs.x.com/x-api/webhooks/introduction)