---
title: Guía de inicio rápido
sidebarTitle: Guía de inicio rápido
keywords: ["inicio rápido de webhooks de flujo filtrado", "inicio rápido de flujo de webhooks", "tutorial de webhooks de flujo filtrado", "guía de webhooks de flujo filtrado"]
---

<div id="getting-started-with-the-filtered-stream-webhooks-api">
  ## Introducción a la API de webhooks de filtered stream
</div>

La API de webhooks de filtered stream v2 es similar al [endpoint de filtered stream v2](/es/x-api/posts/filtered-stream/introduction) en cuanto a la configuración de las reglas de filtrado. La diferencia radica en el mecanismo de entrega de las Publicaciones que coinciden con tus reglas.

* En el caso del endpoint de filtered stream v2, debes establecer una conexión persistente y escuchar las Publicaciones que coincidan con tus reglas.
* En el caso de este endpoint de webhook de filtered stream, registras tu webhook y X entrega las Publicaciones que coincidan con tus reglas a tu webhook.

Esta guía explica cómo filtrar y recibir Publicaciones usando los endpoints de webhooks de filtered stream. Hay 3 pasos:

1. Configurar tus reglas de filtered stream
2. Crear tu webhook
3. Vincular tu instancia de Filtered Stream a tu webhook

Una vez que hayas vinculado tu instancia de Filtered Stream a tu webhook, X enviará las Publicaciones que coincidan con tus reglas a tus webhooks.

<div id="setting-up-your-filtered-stream-rules">
  ### Configurar tus reglas de flujo filtrado
</div>

Las reglas de flujo filtrado se componen de uno o varios operadores que se combinan usando lógica booleana y paréntesis para ayudar a definir qué Publicaciones se enviarán a tus webhooks. La API de webhooks de flujo filtrado utiliza el mismo conjunto de endpoints que el [v2 filtered stream endpoint](/es/x-api/posts/filtered-stream/introduction) para crear y gestionar reglas. Consulta [esta guía detallada](/es/x-api/posts/filtered-stream/integrate/build-a-rule), que muestra cómo puedes crear filtros.

<div id="creating-your-webhook">
  ### Creación de tu webhook
</div>

Crea un webhook para recibir eventos registrando una URL HTTPS accesible públicamente en la X API. Los webhooks deben manejar solicitudes GET para la validación CRC y solicitudes POST para los datos de eventos. Sigue la [documentación de introducción a Webhooks](/es/x-api/webhooks/introduction) para consultar los pasos detallados para crear y administrar webhooks.

**Nota:** Si ya utilizas webhooks para la [Account Activity API (AAA)](/es/x-api/account-activity/introduction), los webhooks configurados para esa API son exactamente los mismos aquí. De hecho, puedes usar el mismo endpoint de webhook que usas para AAA en esta API, si tienes la capacidad y puedes separar los eventos.

<div id="linking-your-filtered-stream-instance-to-your-webhook">
  ### Vincular tu instancia de Filtered Stream a tu webhook
</div>

Una vez que tengas definidas tus reglas y hayas creado el webhook, vincula el webhook a tu instancia de Filtered Stream. Esto dirige los eventos de Publicaciones coincidentes a la URL de tu webhook.

Usa el endpoint: `POST /2/tweets/search/webhooks/:webhook_id `

Puedes incluir parámetros de consulta idénticos a los utilizados en el endpoint de streaming `/2/tweets/search/stream`, como expansiones, campos y opciones de contenido multimedia. Esto personaliza los
datos incluidos en los payloads de eventos.

**Ejemplo:**

```bash
curl --request POST \ 
  --url 
'https://api.x.com/2/tweets/search/webhooks/123456789012345678?ex
pansions=author_id&user.fields=username,name,id' \ 
  --header 'Authorization: Bearer $BEARER_TOKEN' 
```

Ejemplo de respuesta exitosa:

```json
{ 
  "data": { 
    "provisioned": true 
  } 
}
```

**Consejo:** Puedes vincular varios webhooks al mismo flujo filtrado para tener redundancia o para recibir distintos conjuntos de campos. Cada vinculación puede especificar parámetros únicos.

Una vez que hayas conectado tu instancia de Filtered Stream a tu webhook, empezarás a recibir Publicaciones que coincidan con tus reglas, como se muestra a continuación:

```json
{
    "data": {
        "id": "1346889436626259968",
        "text": "Aprende a usar los endpoints de cronología de Publicaciones de usuario y cronología de menciones de usuario en X API v2 para explorar Publicaciones… https://t.co/56a0vZUx7i",
        "created_at": "2021-01-06T18:40:40.000Z",
        "author_id": "2244994945"
    },
    "includes": {
        "users": [
            {
                "id": "2244994945",
                "name": "Developers",
                "username": "Xdevelopers",
                "created_at": "2013-12-14T04:35:55Z",
                "protected": false
            }
        ]
    },
    "matching_rules": [
        {
            "id": "120897978112909812",
            "tag": "api-posts"
        }
    ]
}
```

<div id="retrieving-webhooks-linked-to-filtered-stream">
  ### Obtener webhooks vinculados a Filtered Stream
</div>

Obtén una lista de todos los webhooks que actualmente están vinculados a tu Filtered Stream:

```bash
GET /2/tweets/search/stream/webhooks 
```

Ejemplo de respuesta:

```json
{
    "data": {
        "links": [
            {
                "application_id": "29893711",
                "business_user_id": "1877374016438091776",
                "fields": [
                    "user.fields=username",
                    "name",
                    "id",
                    "expansions=author_id"
                ],
                "instance_id": "1877375130462289920",
                "webhook_id": "1952390923729424384"
            }
        ]
    }
}
```

<div id="unlinking-your-webhook-from-filtered-stream">
  ### Desvincular tu webhook de Filtered Stream
</div>

Para dejar de recibir eventos en un webhook específico, desvincúlalo con:

```bash
DELETE /2/tweets/search/webhooks/:webhook_id
```

La respuesta tendrá el siguiente aspecto:

```json
{
    "data": {
        "deleted": true
    }
}
```
