---
title: Inicio rápido
sidebarTitle: Inicio rápido
keywords: ["inicio rápido de webhooks de filtered stream", "inicio rápido de stream de webhooks", "tutorial de stream de webhooks", "guía de stream de webhooks"]
---

<div id="getting-started-with-the-filtered-stream-webhooks-api">
  ## Cómo empezar a usar la API de webhooks de filtered stream
</div>

La API v2 de webhooks de filtered stream es similar al [endpoint v2 filtered stream](/es/x-api/posts/filtered-stream/introduction) en cuanto a la configuración de las reglas de filtrado. La diferencia radica en el mecanismo de entrega de las Publicaciones que coinciden con tus reglas.

* En el caso del endpoint v2 filtered stream, tienes que establecer una conexión persistente y escuchar las Publicaciones que coinciden con tus reglas.
* En el caso de este endpoint de webhook de filtered stream, registras tu webhook y X entrega las Publicaciones que coinciden con tus reglas a tu webhook.

Esta guía explica cómo filtrar y recibir Publicaciones utilizando los endpoints de webhooks de filtered stream. Hay 3 pasos:

1. Configurar las reglas de tu filtered stream
2. Crear tu webhook
3. Vincular tu instancia de filtered stream con tu webhook

Una vez que hayas vinculado tu instancia de filtered stream con tu webhook, X enviará las Publicaciones que coincidan con tus reglas a tu webhook.

<div id="setting-up-your-filtered-stream-rules">
  ### Configuración de las reglas de tu flujo filtrado
</div>

Las reglas del flujo filtrado se componen de uno o varios operadores que se combinan usando lógica booleana y paréntesis para definir qué Publicaciones se entregarán a tus webhooks. La API de webhooks del flujo filtrado utiliza el mismo conjunto de endpoints que el [endpoint de flujo filtrado v2](/es/x-api/posts/filtered-stream/introduction) para crear y administrar reglas. Consulta [esta guía detallada](/es/x-api/posts/filtered-stream/integrate/build-a-rule) que muestra cómo puedes crear filtros.

<div id="creating-your-webhook">
  ### Creación de tu webhook
</div>

Crea un webhook para recibir eventos registrando una URL HTTPS accesible públicamente con la X API. Los webhooks deben manejar solicitudes GET para la validación CRC y solicitudes POST para los payloads de eventos. Sigue la [documentación de introducción a Webhooks](/es/x-api/webhooks/introduction) para ver los pasos detallados para crear y administrar webhooks.

**Nota:** Si ya utilizas webhooks para la [Account Activity API (AAA)](/es/x-api/account-activity/introduction), los webhooks configurados para esa API funcionan exactamente igual aquí. De hecho, puedes usar el mismo endpoint de webhook que usas para AAA en esta API, si cuentas con la capacidad y puedes separar los eventos.

<div id="linking-your-filtered-stream-instance-to-your-webhook">
  ### Vincular tu instancia de Filtered Stream a tu webhook
</div>

Una vez que tus reglas estén configuradas y el webhook se haya creado, vincula el webhook a tu instancia de Filtered Stream. Esto enruta los eventos de publicaciones que coincidan a la URL de tu webhook.

Usa el endpoint: `POST /2/tweets/search/webhooks/:webhook_id `

Puedes incluir parámetros de consulta idénticos a los que se usan en el endpoint de streaming `/2/tweets/search/stream`, como expansiones, campos y opciones de contenido multimedia. Esto personaliza los datos incluidos en las cargas útiles de eventos.

**Ejemplo:**

```bash
curl --request POST \ 
  --url 
'https://api.x.com/2/tweets/search/webhooks/123456789012345678?ex
pansions=author_id&user.fields=username,name,id' \ 
  --header 'Authorization: Bearer $BEARER_TOKEN' 
```

Ejemplo de respuesta correcta:

```json
{ 
  "data": { 
    "provisioned": true 
  } 
}
```

**Consejo:** Puedes vincular varios webhooks al mismo flujo para disponer de redundancia o para recibir distintos conjuntos de campos. Cada vinculación puede especificar parámetros únicos.

Una vez que hayas vinculado tu instancia de Filtered Stream a tu webhook, empezarás a recibir Publicaciones que cumplan tus reglas, como se muestra a continuación:

```json
{
    "data": {
        "id": "1346889436626259968",
        "text": "Aprende a usar los endpoints de cronología de Publicaciones de usuario y cronología de menciones de usuario en X API v2 para explorar Publicaciones… https://t.co/56a0vZUx7i",
        "created_at": "2021-01-06T18:40:40.000Z",
        "author_id": "2244994945"
    },
    "includes": {
        "users": [
            {
                "id": "2244994945",
                "name": "Developers",
                "username": "Xdevelopers",
                "created_at": "2013-12-14T04:35:55Z",
                "protected": false
            }
        ]
    },
    "matching_rules": [
        {
            "id": "120897978112909812",
            "tag": "api-posts"
        }
    ]
}
```

<div id="retrieving-webhooks-linked-to-filtered-stream">
  ### Obtener webhooks vinculados a Filtered Stream
</div>

Obtén una lista de todos los webhooks que actualmente están vinculados a tu Filtered Stream:

```bash
GET /2/tweets/search/stream/webhooks 
```

Ejemplo de respuesta:

```json
{
    "data": {
        "links": [
            {
                "application_id": "29893711",
                "business_user_id": "1877374016438091776",
                "fields": [
                    "user.fields=username",
                    "name",
                    "id",
                    "expansions=author_id"
                ],
                "instance_id": "1877375130462289920",
                "webhook_id": "1952390923729424384"
            }
        ]
    }
}
```

<div id="unlinking-your-webhook-from-filtered-stream">
  ### Desvincular tu webhook de Filtered Stream
</div>

Para dejar de recibir eventos en un webhook específico, desvincúlalo con:

```bash
DELETE /2/tweets/search/webhooks/:webhook_id
```

La respuesta tendrá el siguiente formato:

```json
{
    "data": {
        "deleted": true
    }
}
```
