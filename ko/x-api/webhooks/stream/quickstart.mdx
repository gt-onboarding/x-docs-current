---
title: 빠른 시작
sidebarTitle: 빠른 시작
keywords: ["필터링 스트림 웹훅 빠른 시작", "웹훅 스트림 빠른 시작", "스트림 웹훅 튜토리얼", "웹훅 스트림 가이드"]
---

<div id="getting-started-with-the-filtered-stream-webhooks-api">
  ## 필터링 스트림 webhooks API 시작하기
</div>

v2 필터링 스트림 webhooks API는 필터링 규칙을 설정하는 방식이 [v2 filtered stream endpoint](/ko/x-api/posts/filtered-stream/introduction)와 유사합니다. 차이점은 규칙과 일치하는 게시물을 전달하는 메커니즘에 있습니다.

* v2 filtered stream endpoint의 경우, 지속적인 연결을 설정하고 규칙과 일치하는 게시물을 수신 대기해야 합니다.
* 이 filtered stream webhook endpoint의 경우, webhook을 등록하면 X가 규칙과 일치하는 게시물을 webhook으로 전달합니다.

이 가이드에서는 필터링 스트림 webhooks endpoint를 사용해 게시물을 필터링하고 수신하는 방법을 설명합니다. 전체 과정은 3가지 단계로 구성됩니다.

1. 필터링 스트림 규칙 설정
2. webhook 생성
3. Filtered Stream 인스턴스를 webhook에 연결

Filtered Stream 인스턴스를 webhook에 연결하면 X는 규칙과 일치하는 게시물을 webhook으로 전송합니다.

<div id="setting-up-your-filtered-stream-rules">
  ### 필터링 스트림 규칙 설정하기
</div>

필터링 스트림 규칙은 하나 이상의 연산자로 구성되며, 불리언 로직과 괄호를 사용해 결합하여 어떤 게시물이 웹훅으로 전달될지를 정의합니다. 필터링 스트림 웹훅 API는 규칙을 생성하고 관리하기 위해 [v2 filtered stream endpoint](/ko/x-api/posts/filtered-stream/introduction)와 동일한 엔드포인트 집합을 사용합니다. 필터를 구성하는 방법을 보여 주는 [자세한 가이드](/ko/x-api/posts/filtered-stream/integrate/build-a-rule)를 확인해 보세요.

<div id="creating-your-webhook">
  ### 웹훅 생성하기
</div>

X API에 공개적으로 접근할 수 있는 HTTPS URL을 등록하여 이벤트를 수신할 웹훅을 생성합니다. 웹훅은 CRC 유효성 검사용 GET 요청과 이벤트 페이로드용 POST 요청을 모두 처리할 수 있어야 합니다. 웹훅 생성 및 관리에 대한 자세한 단계는 [Webhooks Introduction documentation](/ko/x-api/webhooks/introduction)을 참고하세요.

**참고:** 이미 [Account Activity API (AAA)](/ko/x-api/account-activity/introduction)를 위해 웹훅을 사용 중이라면, 그때 설정한 웹훅과 여기에서 사용하는 웹훅은 정확히 동일합니다. 실제로, 대역폭이 충분하고 이벤트를 구분해 처리할 수 있다면 AAA에 사용 중인 동일한 웹훅 엔드포인트를 이 API에서도 그대로 사용할 수 있습니다.

<div id="linking-your-filtered-stream-instance-to-your-webhook">
  ### Filtered Stream 인스턴스를 웹훅에 연결하기
</div>

규칙을 설정하고 웹훅을 생성한 뒤에는 웹훅을 Filtered Stream 인스턴스에 연결합니다. 이렇게 하면 조건과 일치하는 게시물 이벤트가 웹훅 URL로 전달됩니다.

다음 엔드포인트를 사용합니다: `POST /2/tweets/search/webhooks/:webhook_id `

`/2/tweets/search/stream` 스트리밍 엔드포인트에서 사용하는 것과 동일한 쿼리 매개변수(예: expansions, fields, 미디어 옵션)를 포함할 수 있습니다. 이를 통해 이벤트 페이로드에 포함되는 데이터를 맞춤 구성할 수 있습니다.

**예시:**

```bash
curl --request POST \ 
  --url 
'https://api.x.com/2/tweets/search/webhooks/123456789012345678?ex
pansions=author_id&user.fields=username,name,id' \ 
  --header 'Authorization: Bearer $BEARER_TOKEN' 
```

성공 응답 예시:

```json
{ 
  "data": { 
    "provisioned": true 
  } 
}
```

**팁:** 중복성 확보 또는 서로 다른 필드 세트를 수신하기 위해 동일한 스트림에 여러 webhook을 연결할 수 있습니다. 각 연결마다 고유한 파라미터를 지정할 수 있습니다.

Filtered Stream 인스턴스를 webhook에 연결하면 아래 예시와 같이 설정한 규칙과 일치하는 게시물을 수신하기 시작합니다:

```json
{
    "data": {
        "id": "1346889436626259968",
        "text": "Learn how to use the user Post timeline and user mention timeline endpoints in the X API v2 to explore Post… https://t.co/56a0vZUx7i",
        "created_at": "2021-01-06T18:40:40.000Z",
        "author_id": "2244994945"
    },
    "includes": {
        "users": [
            {
                "id": "2244994945",
                "name": "Developers",
                "username": "Xdevelopers",
                "created_at": "2013-12-14T04:35:55Z",
                "protected": false
            }
        ]
    },
    "matching_rules": [
        {
            "id": "120897978112909812",
            "tag": "api-posts"
        }
    ]
}
```

<div id="retrieving-webhooks-linked-to-filtered-stream">
  ### Filtered Stream에 연결된 webhook 가져오기
</div>

현재 Filtered Stream에 연결된 모든 webhook 목록을 가져옵니다:

```bash
GET /2/tweets/search/stream/webhooks 
```

응답 예시:

```json
{
    "data": {
        "links": [
            {
                "application_id": "29893711",
                "business_user_id": "1877374016438091776",
                "fields": [
                    "user.fields=username",
                    "name",
                    "id",
                    "expansions=author_id"
                ],
                "instance_id": "1877375130462289920",
                "webhook_id": "1952390923729424384"
            }
        ]
    }
}
```

<div id="unlinking-your-webhook-from-filtered-stream">
  ### Filtered Stream에서 웹훅 연결 해제하기
</div>

특정 웹훅으로 이벤트 수신을 중지하려면 다음을 사용해 연결을 해제합니다:

```bash
DELETE /2/tweets/search/webhooks/:webhook_id
```

응답은 다음과 같습니다:

```json
{
    "data": {
        "deleted": true
    }
}
```
