---
title: 대화 ID
keywords: ["대화 ID", "대화 스레드", "답글 스레드", "스레드 추적", "대화 추적", "답글 체인", "스레드 재구성"]
---

<div id="conversation-threads-using-the-x-api">
  ### X API를 사용한 대화 스레드
</div>

X에서 대화가 어떻게 전개되는지 살펴보면, 하나의 게시물이 여러 개의 대화 스레드를 촉발할 수 있고, 더 많은 사람들이 참여함에 따라 각 스레드는 길이와 복잡성이 증가할 수 있습니다. 게시물 간의 관계를 식별하고 대화 스레드를 이해하는 것은 X API v2 페이로드 및 검색 기능의 한 가지 기능입니다. 게시물에 대한 응답(이하 ‘답글’)으로 다른 게시물이 작성되거나, 답글에 또 다른 답글이 달리는 경우, 이제 각 답글에는 정의된 `conversation_id`가 있으며, 이는 해당 대화를 시작한 원래 게시물의 게시물 ID와 일치합니다.

특정 게시물에 대한 답글뿐만 아니라 그 답글들에 대한 답글도 모두 단일 원본 게시물에서 파생된 하나의 대화에 포함됩니다. 몇 개의 답글 스레드가 생성되든 상관없이, 모두 대화를 시작한 원래 게시물에 대한 공통 `conversation_id`를 공유하게 됩니다. X API v2를 사용하면 전체 대화 스레드를 검색하고 재구성할 수 있으므로, 어떤 내용이 오가고 있는지와 함께 대화와 아이디어가 어떻게 발전하는지를 파악할 수 있습니다.

<div id="example-conversation-thread">
  #### 예시 대화 스레드
</div>

아래는 다섯 명이 참여하는 예시 대화 스레드로, 답글에 대한 답글(대댓글) 하나를 포함합니다.

```json
{
  "data": [
    {
      "conversation_id": "1279944223114900000",
      "in_reply_to_user_id": "1102323333",
      "author_id": "63044444",
      "created_at": "2020-07-06T15:58:10.000Z",
      "id": "1280169177479744444",
      "referenced_tweets": [
        {
          "type": "replied_to",
          "id": "1280155225706433333"
        }
      ],
      "text": "@ThirdPerson333 @OriginalPerson000 Reply to the third reply!"
    },
    {
      "conversation_id": "1279944223114900000",
      "in_reply_to_user_id": "3001960000",
      "author_id": "1102323333",
      "created_at": "2020-07-06T15:02:44.000Z",
      "id": "1280155225706433333",
      "referenced_tweets": [
        {
          "type": "replied_to",
          "id": "1279944223114900000"
        }
      ],
      "text": "@OriginalPerson000 Third reply"
    },
    {
      "conversation_id": "1279944223114900000",
      "in_reply_to_user_id": "3001960000",
      "author_id": "199562222",
      "created_at": "2020-07-06T15:02:36.000Z",
      "id": "1280155190306340864",
      "referenced_tweets": [
        {
          "type": "replied_to",
          "id": "1279944223114900000"
        }
      ],
      "text": "@OriginalPerson000 Second Reply"
    }
  ],
  "includes": {
    "users": [
      {
        "name": "Original person",
        "id": "3001960000",
        "username": "OriginalPerson000"
      },
      {
        "name": "First person",
        "id": "179201111",
        "username": "FirstPerson111"
      }
    ]
  },
  "meta": {
    "newest_id": "1280169177479744444",
    "oldest_id": "1279945722494811111",
    "result_count": 4
  }
}
```

`tweet.fields` 매개변수로 `conversation_id` 가져오기
해당 v2 endpoint에서 반환되는 모든 게시물에 대해 `conversation_id`를 요청하려면 요청 매개변수에 tweet.fields=conversation&#95;id를 추가합니다. conversation&#95;id 필드는 항상 해당 대화 답글 스레드에서 원본 게시물의 게시물 ID입니다. 이전 답글 스레드에서 파생된 답글 스레드를 포함해 동일한 답글 스레드에 속한 모든 게시물은 동일한 conversation&#95;id를 표시합니다.

<div id="request-with-conversation_id-parameter">
  ### `conversation_id` 파라미터를 포함한 요청
</div>

```
curl --request GET \
  --url 'https://api.x.com/2/tweets?ids=1225917697675886593&tweet.fields=author_id,conversation_id,created_at,in_reply_to_user_id,referenced_tweets&expansions=author_id,in_reply_to_user_id,referenced_tweets.id&user.fields=name,username' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

<div id="response">
  ### 응답
</div>

```
{
  "data": [
    {
      "id": "1225917697675886593",
      "text": "@TwitterEng *ahem* https://t.co/aroJHt2zQ1",
      "created_at": "2020-02-07T23:02:10.000Z",
      "author_id": "2244994945",
      "in_reply_to_user_id": "6844292",
      "conversation_id": "1225912275971657728",
      "referenced_tweets": [
        {
          "type": "quoted",
          "id": "1200517737669378053"
        },
        {
          "type": "replied_to",
          "id": "1225912275971657728"
        }
      ]
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "name": "Twitter Dev",
        "id": "2244994945"
      },
      {
        "username": "TwitterEng",
        "name": "Twitter Engineering",
        "id": "6844292"
      }
    ],
    "tweets": [
      {
        "id": "1200517737669378053",
        "text": "|￣￣￣￣￣￣￣￣￣￣￣|\n             don't push            \n             to prod on            \n               Fridays                  \n|＿＿＿＿＿＿＿＿＿＿＿| \n(\\__/)",
        "created_at": "2019-11-29T20:51:47.000Z",
        "author_id": "2244994945",
        "conversation_id": "1200517737669378053"
      }
    ]
  }
}
```

<div id="using-conversation_id-as-a-filter-operator">
  ### `conversation_id`를 필터 연산자로 사용하기
</div>

`conversation_id`는 최근 검색에서 검색 쿼리 매개변수로 사용하거나, [filtered stream](/ko/x-api/posts/filtered-stream/introduction)의 규칙 내에서 연산자로 사용할 수 있습니다. 이를 통해 filtered stream에서는 실시간으로, [트윗 검색](/ko/x-api/posts/search/introduction)에서는 시간 역순으로 해당 대화에 포함된 전체 게시물 스레드를 반환할 수 있습니다. 또한 이 연산자를 [Posts counts](/ko/x-api/posts/counts/introduction)와 함께 사용하여 하나의 대화에 포함된 게시물 개수도 확인할 수 있습니다.

<div id="request-to-query-by-conversation_id">
  ## `conversation_id`로 조회하기 위한 요청
</div>

```
curl --request GET \
  --url 'https://api.x.com/2/tweets/search/recent?query=conversation_id:1279940000004973111&tweet.fields=in_reply_to_user_id,author_id,created_at,conversation_id' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

<div id="response">
  ### 응답
</div>

*참고: 검색된 게시물은 최신순(가장 최근 게시물이 먼저)으로 표시됩니다.*

```
{
  "data": [
    {
      "id": "1280169000000704333",
      "text": "@attributeisland @iterationjoe What beautiful creatures! Happy #seaturtleweek",
      "conversation_id": "1279940000004973111",
      "public_metrics": {
        "retweet_count": 0,
        "reply_count": 0,
        "like_count": 7,
        "quote_count": 0
      }
    }
  ],
  "meta": {
    "newest_id": "1280169000000704333",
    "oldest_id": "1279940000004973111",
    "result_count": 5
  }
}
```
