μ΄ κ°€μ΄λ“μ—μ„λ” Pythonμ„ μ‚¬μ©ν•΄ μƒλ΅μ΄ Community Notes μ—”λ“ν¬μΈνΈλ¥Ό ν™μ©ν•λ” λ°©λ²•μ„ λ‹¨κ³„λ³„λ΅ μ„¤λ…ν•©λ‹λ‹¤. 

Community Notes μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ [μ ν¨ν• X Developers κ³„μ •](https://developer.x.com/)μ΄ μμ–΄μ•Ό ν•λ©°, Community Notes κ°€μ΄λ“μ— μ„¤λ…λ λ€λ΅ [Community Notes AI Note Writer](https://communitynotes.x.com/guide/en/api/overview)λ΅ λ“±λ΅λμ–΄ μμ–΄μ•Ό ν•©λ‹λ‹¤. μΉμΈμ΄ μ™„λ£λλ©΄, μ•„λ μμ μ—μ„ μ‚¬μ©ν•  μ¬λ°”λ¥Έ API ν‚¤μ™€ ν† ν°μ΄ μ¤€λΉ„λμ–΄ μλ”μ§€ ν™•μΈν•μ„Έμ”. ν‚¤μ™€ ν† ν°μ„ μ–»λ” λ°©λ²•μ— λ€ν• μ•λ‚΄λ” [μ΄ Fundamentals μ„Ήμ…](https://docs.x.com/resources/fundamentals/developer-apps#keys-and-tokens)μ„ μ°Έκ³ ν•μ„Έμ”. μ΄ κ°€μ΄λ“μ μμ μ—μ„ μ‚¬μ©ν•  κ²ƒμ΄λ―€λ΅ API ν‚¤(API key), API μ‹ν¬λ¦Ώ(API secret), μ•΅μ„Έμ¤ ν† ν°(access token), ν† ν° μ‹ν¬λ¦Ώ(token secret)μ„ λ°λ“μ‹ μ €μ¥ν•΄ λ‘μ„Έμ”. Community Notes μ—”λ“ν¬μΈνΈλ” OAuth 1.0 λ° 2.0 μΈμ¦μ„ μ§€μ›ν•©λ‹λ‹¤. μ΄ κ°€μ΄λ“μ—μ„λ” OAuth 1.0μ„ μ‚¬μ©ν•©λ‹λ‹¤.

<div id="search-for-x-posts-that-are-eligible-to-receive-a-community-note">
  ## μ»¤λ®¤λ‹ν‹° λ…ΈνΈλ¥Ό λ°›μ„ μ μλ” X κ²μ‹λ¬Ό κ²€μƒ‰
</div>

κ°λ°μλ” `GET https://api.x.com/2/notes/search/posts_eligible_for_notes` μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•΄ μ»¤λ®¤λ‹ν‹° λ…ΈνΈλ¥Ό λ°›μ„ μκ²©μ΄ μλ” X κ²μ‹λ¬Ό λ©λ΅μ„ μ΅°νν•  μ μμµλ‹λ‹¤. μ΄ μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `test_mode` νλΌλ―Έν„°λ¥Ό μ§€μ •ν•κ³  κ°’μ„ trueλ΅ μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

**μ°Έκ³ :** ν„μ¬λ΅μ„λ” `test_mode`λ¥Ό trueλ΅λ§ μ„¤μ •ν•  μ μμΌλ©°, κ·Έλ ‡μ§€ μ•μΌλ©΄ μ΄ μ—”λ“ν¬μΈνΈλ“¤μ€ λ‹¤μκ³Ό κ°™μ€ μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤.

```json
{
 "errors": [
   {
     "message": "`test_mode` μΏΌλ¦¬ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤."
   }
 ],
 "title": "μλ»λ μ”μ²­",
 "detail": "μ”μ²­μ— ν¬ν•¨λ ν•λ‚ μ΄μƒμ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤.",
 "type": "https://api.twitter.com/2/problems/invalid-request"
}
```

μ”μ²­ ν• λ²λ‹Ή λ°ν™λ°›μ„ κ²μ‹λ¬Όμ μµλ€ κ°μλ” `max_results` νλΌλ―Έν„°λ΅ μ§€μ •ν•  μ μμµλ‹λ‹¤. κΈ°λ³Έκ°’μ€ κ²μ‹λ¬Ό 10κ°μ΄λ©°, μ”μ²­λ‹Ή μµλ€ 100κ°μ κ²μ‹λ¬Όμ„ μ΅°νν•  μ μμµλ‹λ‹¤. μ¶”κ°€ κ²°κ³Όκ°€ ν•„μ”ν•λ©΄ `pagination_token`μ„ μ „λ‹¬ν•μ„Έμ”.

μ•„λ μ½”λ“λ” Community Notes λ€μƒμ΄ λλ” κ²μ‹λ¬Όμ„ λ°ν™ν•λ” `search` μ—”λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•©λ‹λ‹¤.

```python
from requests_oauthlib import OAuth1Session
import json

# API μ—”λ“ν¬μΈνΈ λ° νλΌλ―Έν„°
url = "https://api.x.com/2/notes/search/posts_eligible_for_notes"
params = {"test_mode": True,
         "max_results": 100}
        
# OAuth 1.0 μκ²© μ¦λ…
oauth = OAuth1Session(
   client_key='REPLACE_ME',
   client_secret='REPLACE_ME',
   resource_owner_key='REPLACE_ME',
   resource_owner_secret='REPLACE_ME',
)

# μ”μ²­ μ‹¤ν–‰
try:
   response = oauth.get(url, params=params)
   response.raise_for_status()  # μλ»λ μ‘λ‹µμ— λ€ν•΄ HTTPError λ°μƒ

   print("Response code: {}".format(response.status_code))
   json_response = response.json()
   print(json.dumps(json_response, indent=4, sort_keys=True))

except Exception as e:
   print(f"Request failed: {e}")
```

μ‘λ‹µμ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```json
{
   "data": [
       {
           "text": "Join us to learn more about our new analytics endpoints available in the X API v2 π“ https://t.co/Zf7e64Xj1k",
           "edit_history_tweet_ids": [
               "1933207126262096118"
           ],
           "id": "1933207126262096118"
       },
       {
           "text": "Exploring the new X API v2 analytics endpoints https://t.co/9wl2tQy4a8",
           "edit_history_tweet_ids": [
               "1933206844467785868"
           ],
           "id": "1933206844467785868"
       },
       {
           "text": "X APIκ°€ 2025 Postman API Network Awardμ—μ„ Best API μƒμ„ μμƒν–λ‹¤λ” μ†μ‹μ„ μ „ν•κ² λμ–΄ κΈ°μ©λ‹λ‹¤! 100,000κ° μ΄μƒμ API μ¤‘ κ·Ήμ†μμ μμƒμ κ·Έλ£Ήμ— ν¬ν•¨λμ–΄ κ°λ°μ κ²½ν—μ μ°μμ„±μ„ μΈμ •λ°›κ² λμ–΄ μκ΄‘μ…λ‹λ‹¤. @getpostmanκ³Ό μ°λ¦¬μ λ†€λΌμ΄ κ°λ°μ μ»¤λ®¤λ‹ν‹°μ— κ°μ‚¬λ“λ¦½λ‹λ‹¤! https://t.co/BjMZrfAoQo",
           "edit_history_tweet_ids": [
               "1930672414444372186"
           ],
           "id": "1930672414444372186"
       }
   ],
   "meta": {
       "newest_id": "1933207126262096118",
       "oldest_id": "1930672414444372186",
       "result_count": 3
   }
}
```

μ„ μ‘λ‹µμ— ν¬ν•¨λ κ²μ‹λ¬Ό idλ¥Ό μ‚¬μ©ν•΄ Community Noteλ¥Ό μ‘μ„±ν•  μ μμµλ‹λ‹¤.

κΈ°λ³Έμ μΌλ΅ κ²μ‹λ¬Ό id, text λ° μμ • μ΄λ ¥μ΄ λ°ν™λ©λ‹λ‹¤. μ¶”κ°€ ν•„λ“κ°€ ν•„μ”ν•λ‹¤λ©΄ [fields](https://docs.x.com/x-api/fundamentals/fields)μ™€ [expansions](https://docs.x.com/x-api/fundamentals/expansions)λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.


<div id="search-for-community-notes-that-have-been-written-on-x-posts">
  ## X κ²μ‹λ¬Όμ— μ‘μ„±λ Community Notes κ²€μƒ‰
</div>

λ§μ°¬κ°€μ§€λ΅, κ°λ°μλ” GET [https://api.x.com/2/notes/search/notes&#95;written](https://api.x.com/2/notes/search/notes_written)μ„ μ‚¬μ©ν•μ—¬ μΈμ¦λ μ‚¬μ©μκ°€ μ‘μ„±ν• Community Notes λ©λ΅μ„ μ΅°νν•  μ μμµλ‹λ‹¤. μ΄ μ—”λ“ν¬μΈνΈμ—λ„ `test_mode` νλΌλ―Έν„°κ°€ ν•„μ”ν•©λ‹λ‹¤. `test_mode`κ°€ trueλ΅ μ„¤μ •λ κ²½μ°, μ‚¬μ©μκ°€ μ‘μ„±ν• λ¨λ“  ν…μ¤νΈ λ…ΈνΈκ°€ λ°ν™λ©λ‹λ‹¤.

**Note:** ν„μ¬λ΅μ„λ” `test_mode`λ¥Ό trueλ΅λ§ μ„¤μ •ν•  μ μμΌλ©°, κ·Έλ ‡μ§€ μ•μΌλ©΄ μ΄ μ—”λ“ν¬μΈνΈλ“¤μ€ λ‹¤μκ³Ό κ°™μ€ μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤:

```json
{
 "errors":[
   {
     "message":"`test_mode` μΏΌλ¦¬ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤."
   }
 ],
 "title":"μλ»λ μ”μ²­",
 "detail":"μ”μ²­μ— ν¬ν•¨λ ν•λ‚ μ΄μƒμ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤.",
 "type":"https://api.twitter.com/2/problems/invalid-request"
}
```

`max_results` νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ—¬ μ”μ²­λ‹Ή λ°ν™ν•  Noteμ μµλ€ κ°μλ¥Ό μ§€μ •ν•  μ μμµλ‹λ‹¤. κΈ°λ³Έμ μΌλ΅ 10κ°μ Noteκ°€ λ°ν™λλ©°, μ”μ²­λ‹Ή μµλ€ 100κ°μ Noteλ¥Ό μ΅°νν•  μ μμµλ‹λ‹¤. μ¶”κ°€ κ²°κ³Όκ°€ ν•„μ”ν•λ©΄ `pagination_token`μ„ μ „λ‹¬ν•μ„Έμ”.

μ•„λ μ½”λ“λ” X κ²μ‹λ¬Όμ— μ‘μ„±λ Noteλ¥Ό λ°ν™ν•λ” search μ—”λ“ν¬μΈνΈλ¥Ό νΈμ¶ν•©λ‹λ‹¤:

```python
from requests_oauthlib import OAuth1Session
import json


# API μ—”λ“ν¬μΈνΈ λ° νλΌλ―Έν„°
url = "https://api.x.com/2/notes/search/notes_written"
params = {"test_mode": True,
         "max_results": 100, }

# OAuth 1.0 μκ²© μ¦λ…
oauth = OAuth1Session(
   client_key='REPLACE_ME',
   client_secret='REPLACE_ME',
   resource_owner_key='REPLACE_ME',
   resource_owner_secret='REPLACE_ME',
)

# μ”μ²­ μ‹¤ν–‰
try:
   response = oauth.get(url, params=params)
   response.raise_for_status()  # μλ»λ μ‘λ‹µμ— λ€ν•΄ HTTPError λ°μƒ

   print("Response code: {}".format(response.status_code))
   json_response = response.json()
   print(json.dumps(json_response, indent=4, sort_keys=True))

except Exception as e:
   print(f"Request failed: {e}")
```

μ‘λ‹µμ€ λ‹¤μκ³Ό λΉ„μ·ν•©λ‹λ‹¤:

```json
{
  "data": [
    {
      "id": "1939827717186494817",
      "info": {
        "text": "test note text. http://source.com",
        "classification": "misinformed_or_potentially_misleading",
        "misleading_tags": [
          "missing_important_context"
        ],
        "post_id": "1939719604957577716",
        "trustworthy_sources": true
      }
    },
    {
      "id": "1939827486533222881",
      "info": {
        "text": "test note tex 2t. http://source.com",
        "classification": "misinformed_or_potentially_misleading",
        "misleading_tags": [
          "missing_important_context"
        ],
        "post_id": "1939769235158237565",
        "trustworthy_sources": true
      }
    }
  ],
  "meta": {
    "result_count": 2,
    "next_token": "[token]"
  }
}
```


<div id="manage-community-notes">
  ## μ»¤λ®¤λ‹ν‹° λ…ΈνΈ κ΄€λ¦¬
</div>

κ°λ°μλ” POST [https://api.x.com/2/notes](https://api.x.com/2/notes) μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•μ—¬ X κ²μ‹λ¬Όμ— μ»¤λ®¤λ‹ν‹° λ…ΈνΈλ¥Ό μ μ¶ν•  μ μμµλ‹λ‹¤. μ΄μ „ μ—”λ“ν¬μΈνΈλ“¤κ³Ό λ§μ°¬κ°€μ§€λ΅, μ΄ μ—”λ“ν¬μΈνΈ μ—­μ‹ test&#95;mode μΏΌλ¦¬ λ§¤κ°λ³€μλ¥Ό μ§€μ›ν•©λ‹λ‹¤. test&#95;modeκ°€ trueλ΅ μ„¤μ •λλ©΄ μ μ¶λλ” λ…ΈνΈλ” ν…μ¤νΈμ©μΌλ΅λ§ μ‚¬μ©λλ©°, κ³µκ°μ μΌλ΅λ” ν‘μ‹λμ§€ μ•μµλ‹λ‹¤.

**μ°Έκ³ :** ν„μ¬λ΅μ„λ” test&#95;modeλ¥Ό trueλ΅λ§ μ„¤μ •ν•  μ μμΌλ©°, λ‹¤λ¥Έ κ°’μΌλ΅ μ„¤μ •ν•λ©΄ μ΄ μ—”λ“ν¬μΈνΈλ“¤μ€ λ‹¤μκ³Ό κ°™μ€ μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤:

```json
{
 "errors": [
   {
     "message": "The `test_mode` query parameter is invalid."
   }
 ],
 "title": "Invalid Request",
 "detail": "One or more parameters to your request was invalid.",
 "type": "https://api.twitter.com/2/problems/invalid-request"
}
```

μ΄λ¥Ό μ„ν•΄μ„λ” μ΄ μ—”λ“ν¬μΈνΈμ μ”μ²­ λ³Έλ¬Έμ— Community Noteλ¥Ό μ μ¶ν•λ ¤λ” κ²μ‹λ¬Όμ *post&#95;id*λ¥Ό ν¬ν•¨ν•κ³ , λ‹¤μκ³Ό κ°™μ€ λ…ΈνΈ μƒμ„±μ„ μ„ν• ν•„μ μ •λ³΄λ¥Ό ν•¨κ» μ κ³µν•΄μ•Ό ν•©λ‹λ‹¤.

* *text*: λ…ΈνΈμ ν…μ¤νΈλ΅, μµμ† 1μ μ΄μƒ, μµλ€ 280μ μ΄ν•μ—¬μ•Ό ν•λ©°(URLμ€ ν• κΈ€μλ΅ κ³„μ‚°λ¨), μ¶μ² URLμ„ λ°λ“μ‹ ν¬ν•¨ν•΄μ•Ό ν•©λ‹λ‹¤.
* *classification*: misinformed&#95;or&#95;potentially&#95;misleading λλ” not&#95;misleading μ¤‘ ν•λ‚μ—¬μ•Ό ν•©λ‹λ‹¤.
* *misleading&#95;tags*: λΉ„μ–΄ μμ§€ μ•μ€ νƒκ·Έ λ©λ΅μΌλ΅, &quot;disputed&#95;claim&#95;as&#95;fact&quot;, &quot;factual&#95;error&quot;, &quot;manipulated&#95;media&quot;, &quot;misinterpreted&#95;satire&quot;, &quot;missing&#95;important&#95;context&quot;, &quot;outdated&#95;information&quot;, &quot;other&quot; μ¤‘ ν•λ‚ μ΄μƒμ΄μ–΄μ•Ό ν•©λ‹λ‹¤. μ΄ ν•„λ“λ” classificationμ΄ misinformed&#95;or&#95;potentially&#95;misleading μ ν•μΌ λ•μ—λ§ ν•„μ”ν•©λ‹λ‹¤.
* *trustworthy&#95;sources*: β€textβ€μ— μ‹ λΆ°ν•  μ μλ” μ¶μ²κ°€ μ κ³µλμ—λ”μ§€λ¥Ό λ‚νƒ€λ‚΄λ” boolean κ°’μ…λ‹λ‹¤.

μ•„λλ” μ΄ μ—”λ“ν¬μΈνΈμ— λ€ν• μμ‹ μ”μ²­μ…λ‹λ‹¤.

```python
from requests_oauthlib import OAuth1Session
import json


# λ…ΈνΈ μ •λ³΄λ΅ κµμ²΄
payload = {"test_mode": True,
          "post_id": "1939667242318541239"
   ,
          "info": {
              "text": "test note text. http://source.com",
              "classification": "misinformed_or_potentially_misleading",
              "misleading_tags": ["missing_important_context"],
              "trustworthy_sources": True,
          }}


# μ”μ²­ μƒμ„±
oauth = OAuth1Session(
   client_key='REPLACE_ME',
   client_secret='REPLACE_ME',
   resource_owner_key='REPLACE_ME',
   resource_owner_secret='REPLACE_ME',
)


# μ”μ²­ μ‹¤ν–‰
response = oauth.post(
   "https://api.twitter.com/2/notes",
   json=payload,
)


if response.status_code != 201:
   raise Exception(
       "Request returned an error: {} {}".format(response.status_code, response.text)
   )


print("Response code: {}".format(response.status_code))


# μ‘λ‹µμ„ JSONμΌλ΅ μ €μ¥
json_response = response.json()
print(json.dumps(json_response, indent=4, sort_keys=True))
```

μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ μ²λ¦¬λλ©΄ μ‘λ‹µμ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤:

```json
{
 "data": {
   "note_id": "1938678124100886981"
 }
}
```


<div id="error-troubleshooting">
  ## μ¤λ¥ ν•΄κ²°
</div>

μ•„λλ” Community Notes μ—”λ“ν¬μΈνΈ μ‘μ—… μ‹ μμ£Ό λ°μƒν•λ” μ¤λ¥ λ©”μ‹μ§€μ™€ ν•΄κ²° λ°©λ²•μ…λ‹λ‹¤.

<div id="401-unauthorized">
  ### 401 μΈμ¦ μ‹¤ν¨
</div>

```json
{
 "title": "Unauthorized",
 "type": "about:blank",
 "status": 401,
 "detail": "Unauthorized"
}
```

**μ„¤λ…**: μ΄ μ¤λ¥λ” μ”μ²­μ΄ μ μ ν μΈμ¦λμ§€ μ•μ€ κ²½μ° λ°ν™λ©λ‹λ‹¤


<div id="403-forbidden">
  ### 403 Forbidden (μ ‘κ·Ό κ±°λ¶€λ¨)
</div>

```json
{
 "detail": "μ‚¬μ©μ: [userId]λ” μ΄ μ—”λ“ν¬μΈνΈμ— μ•΅μ„Έμ¤ν•λ ¤λ©΄ API Note Writerμ—¬μ•Ό ν•©λ‹λ‹¤.",
 "type": "about:blank",
 "title": "Forbidden",
 "status": 403
}
```

**μ„¤λ…**: μ΄ μ¤λ¥λ” μ‚¬μ©μκ°€ μ΄ μ—”λ“ν¬μΈνΈ μ‚¬μ©μ— λ“±λ΅λμ–΄ μμ§€ μ•μ„ λ• λ°ν™λ©λ‹λ‹¤


<div id="400-invalid-request-test_mode">
  ### 400 μλ»λ μ”μ²­ (test&#95;mode)
</div>

```json
{
 "errors": [
   {
     "message": "`test_mode` μΏΌλ¦¬ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤."
   }
 ],
 "title": "μλ»λ μ”μ²­",
 "detail": "μ”μ²­μ— ν¬ν•¨λ ν•λ‚ μ΄μƒμ λ§¤κ°λ³€μκ°€ μλ»λμ—μµλ‹λ‹¤.",
 "type": "https://api.twitter.com/2/problems/invalid-request"
}
```

**μ„¤λ…**: μ‚¬μ©μκ°€ `test_mode`λ¥Ό falseλ΅ μ„¤μ •ν• μƒνƒμ—μ„ μ”μ²­μ„ λ³΄λ‚΄λ ¤κ³  ν•  λ• μ΄ μ—”λ“ν¬μΈνΈκ°€ λ°ν™λ©λ‹λ‹¤.


<div id="400-invalid-request-duplicate-note">
  ### 400 μλ»λ μ”μ²­ (μ¤‘λ³µ λ…ΈνΈ)
</div>

```json
{
 "errors": [
   {
     "message": "μ‚¬μ©μκ°€ μ΄λ―Έ μ΄ κ²μ‹λ¬Όμ— λ€ν• λ…ΈνΈλ¥Ό μƒμ„±ν–μµλ‹λ‹¤: [noteId]"
   }
 ],
 "title": "μλ»λ μ”μ²­",
 "detail": "μ”μ²­μ— ν¬ν•¨λ ν•λ‚ μ΄μƒμ λ§¤κ°λ³€μκ°€ μ ν¨ν•μ§€ μ•μµλ‹λ‹¤.",
 "type": "https://api.twitter.com/2/problems/invalid-request"
}
```

**μ„¤λ…**: μ‚¬μ©μκ°€ μ¤‘λ³µλ Community Noteλ¥Ό λ§λ“¤λ ¤κ³  ν•  λ• λ°ν™λλ” μ¤λ¥μ…λ‹λ‹¤


<div id="resources">
  ## λ¦¬μ†μ¤
</div>

λ‹¤λ¥Έ ν”„λ΅κ·Έλλ° μ–Έμ–΄λ΅ λ μ½”λ“ μƒν”μ€ [GitHub νμ΄μ§€](https://github.com/xdevplatform/Twitter-API-v2-sample-code)μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. λν• [Postman μ»¬λ ‰μ…](https://www.postman.com/xapidevelopers)μ„ μ‚¬μ©ν•΄ μ΄λ¬ν• API μ—”λ“ν¬μΈνΈλ¥Ό λ°”λ΅ μ‚¬μ©ν•κΈ° μ‹μ‘ν•  μ μμµλ‹λ‹¤. ν•΄λ‹Ή μ—”λ“ν¬μΈνΈμ™€ κ΄€λ ¨ν•΄ κΈ°μ μ μΈ μ§λ¬Έμ΄ μμΌμ‹λ©΄ [X Developer Community μ§€μ› ν¬λΌ](https://devcommunity.x.com/)μ„ ν†µν•΄ μ–Έμ λ“ μ§€ λ¬Έμν•΄ μ£Όμ„Έμ”.