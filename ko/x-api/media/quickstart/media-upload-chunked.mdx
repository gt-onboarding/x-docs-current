---
title: 퀵스타트
sidebarTitle: 퀵스타트
keywords: ["chunked upload", "media upload", "chunked media", "video upload", "large file upload", "chunked upload guide"]
---

이 가이드는 X API v2 미디어 업로드 엔드포인트를 사용해 처음으로 미디어 업로드 요청을 보내는 방법을 안내합니다.

이 가이드에서는 단일 이미지 업로드와는 다른 워크플로우가 필요한 비디오 업로드를 위해, 청크 업로드 방식의 `POST /2/media/upload` 엔드포인트를 사용합니다.

비디오 또는 청크 업로드를 수행할 때는 다음 단계를 따라야 합니다.

1. `INIT` 명령을 사용해 업로드를 초기화합니다.
2. `APPEND` 명령을 사용해 각 바이트 청크를 업로드합니다.
3. `FINALIZE` 명령을 사용해 업로드를 완료합니다.

<Note>
  **참고:** Python으로 작성된 예제는 [이 샘플 코드](https://github.com/xdevplatform/large-video-upload-python)를 참고하세요.
</Note>

<div id="authentication">
  ## 인증
</div>

이 가이드에 제공된 예제를 실행하려면 [OAuth 2](/ko/resources/fundamentals/authentication/oauth-2-0/overview) 인증을 사용해야 합니다.

`CONSUMER_KEY`, `CONSUMER_SECRET`, `ACCESS_KEY`, `ACCESS_TOKEN` 값은 [Developer Portal 대시보드](https://developer.x.com/en/portal/projects-and-apps)에 있는 프로젝트의 App에서 확인할 수 있습니다.

<div id="step-1-post-mediaupload-init">
  ## 1단계 : POST media/upload (INIT)
</div>

`INIT` 명령은 파일 업로드 세션을 시작하는 데 사용됩니다. 이 명령은 이후의 모든 요청에 사용해야 하는 `media_id` 를 반환합니다. `INIT` 명령이 성공적으로 완료된 후의 다음 단계는 `APPEND` 명령입니다.

미디어 파일에 대한 제약 사항과 요구 사항은 [모범 사례](/ko/x-api/media/quickstart/best-practices)를 참조하세요.

**요청 예제**

```bash
curl --location 'https://api.x.com/2/media/upload' \
    --header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
    --header 'Content-Type: multipart/form-data' \
    --form 'command=INIT' \
    --form 'media_type=video/mp4' \
    --form 'total_bytes=1024' \
    --form 'media_category=amplify_video'
```

<Note>
  **참고:** 원시 HTTP 요청을 보낼 때는 요청 본문을 `multipart/form-data` 또는 `application/x-www-form-urlencoded` POST 방식으로 전송해야 합니다.
</Note>

**응답 예시**

```json
{
    "data":
    {
        "id":"1880028106020515840",
        "media_key":"13_1880028106020515840",
        "expires_after_secs":1295999
    }
}
```

응답에는 미디어 식별자인 `id`(문자열)와 `media_key`(문자열)가 포함됩니다. 전체 파일은 `expires_after_secs`초 이내에 업로드를 완료해야 합니다.

<div id="step-2-post-mediaupload-append">
  ## 2단계 : POST media/upload (APPEND)
</div>

`APPEND` 명령은 미디어 파일의 청크(연속된 바이트 범위)를 업로드하는 데 사용됩니다. 예를 들어 3MB 파일은 1MB 크기의 청크 3개로 나누어, 3번의 `APPEND` 명령 요청을 사용해 업로드할 수 있습니다. 전체 파일이 업로드된 후 다음 단계는 `FINALIZE` 명령을 호출하는 것입니다.

<Info>
  미디어 파일을 작은 청크로 업로드하면 다음과 같은 여러 가지 이점이 있습니다.

  * 낮은 대역폭 네트워크 환경에서도 향상된 안정성과 성공률
  * 업로드를 일시 중지했다가 재개할 수 있음
  * 각 파일 청크를 개별적으로 재시도할 수 있음
  * 셀룰러 클라이언트 등 변화하는 네트워크 환경에 맞게 청크 크기를 조정할 수 있는 유연성
</Info>

**요청 예제**

```bash
curl --location 'https://api.x.com/2/media/upload' \
    --header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
    --header 'Content-Type: multipart/form-data' \
    --form 'command=APPEND' \
    --form 'media_id=1880028106020515840' \
    --form 'segment_index=0' \
    --form 'media=@/path/to/your/media/file.mp4'
```

`segment_index` 는 파일 청크의 순서를 나타내는 인덱스입니다. 값은 0 이상 999 이하이어야 합니다. 첫 번째 세그먼트의 인덱스는 0, 두 번째 세그먼트의 인덱스는 1이며, 이후도 동일한 방식으로 증가합니다. 모든 청크가 업로드될 때까지 파일 청크를 계속 업로드합니다.

<Note>
  **Note:** 원시 HTTP 요청을 보낼 때, 요청은 `multipart/form-data` POST 형식이어야 합니다.
</Note>

<Note>
  **Note:** 업로드가 성공하면 HTTP 2XX가 빈 응답 본문과 함께 반환됩니다.
</Note>

<div id="step-3-post-mediaupload-finalize">
  ## 3단계 : POST media/upload (FINALIZE)
</div>

전체 미디어 파일을 `APPEND` 명령으로 모두 업로드한 뒤에 `FINALIZE` 명령을 호출해야 합니다. `FINALIZE` 명령의 응답에 `processing_info` 필드가 포함된 경우에만 (그리고 그런 경우에만) `STATUS` 명령을 사용해 성공 상태가 반환될 때까지 대기한 후 게시물 생성 단계로 진행해야 할 수 있습니다.

**요청 예시**

```bash
curl --location --request POST 'https://api.x.com/2/media/upload' \
    --header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \
    --header 'Content-Type: multipart/form-data' \
    --form 'command=FINALIZE' \
    --form 'media_id=1880028106020515840'
```

<Note>
  **참고:** 직접 HTTP 요청을 보낼 때는 요청이 `multipart/form-data` 또는 `application/x-www-form-urlencoded` 형식의 POST여야 합니다.
</Note>

**예시 응답**

```json
{
    "data": {
        "id": "1880028106020515840",
        "media_key": "13_1880028106020515840",
        "size": 1024,
        "expires_after_secs": 86400,
        "processing_info": {
            "state": "pending",
            "check_after_secs": 1
        }
    }
}
```

응답에는 `media_id`(64비트 정수)와 `media_id_string`(문자열) 필드에 미디어 식별자가 제공됩니다. JavaScript처럼 긴 정수를 정확하게 표현할 수 없는 언어에서는 API 응답에 포함된 `media_id_string` 값을 사용하십시오.

반환된 `media_id`는 `expires_after_secs` 초 동안만 유효합니다. 이 시간이 지난 후 다른 API 호출에서 `media_id`를 사용하려고 시도하면 Bad Request(HTTP 4xx) 응답이 반환됩니다.

응답에 `processing_info` 필드가 포함되어 있다면, `STATUS` 명령을 사용하여 `FINALIZE` 작업의 상태를 폴링(polling)해야 합니다. 비동기 FINALIZE 방식은 미디어 처리에 더 많은 시간이 필요한 경우에 사용됩니다. 앞으로는 모든 동영상 및 애니메이티드 GIF 처리는 비동기 FINALIZE 방식으로만 지원될 예정입니다. 이 동작은 업로드 세션이 `media_category` 매개변수와 함께 [초기화](###INIT)되었고, 미디어 타입이 동영상 또는 애니메이티드 GIF인 경우에 활성화됩니다.

<Note>
  **참고:**
  응답에 `processing_info` 필드가 반환되지 않은 경우, `media_id`는 다른 API 엔드포인트에서 사용할 준비가 된 상태입니다.
</Note>

<div id="step-4-get-mediaupload-status">
  ## **4단계: GET media/upload (STATUS)**
</div>

`STATUS` 명령은 미디어 처리 작업의 상태를 주기적으로 확인할 때 사용합니다. `STATUS` 명령의 응답에 `succeeded`가 반환되면, 일반적으로 `media_id`로 게시물을 생성하는 다음 단계로 진행할 수 있습니다.

<Note>
  **참고:**
  `STATUS` 명령은 `FINALIZE` 명령이나 이전 `STATUS` 명령의 응답에 `processing_info` 필드가 포함되어 있는 경우에만 사용해야 합니다.
</Note>

<div id="example-request">
  ## **요청 예시**
</div>

```bash
curl --location --request GET 'https://api.x.com/2/media/upload?command=STATUS&media_id=1880028106020515840' \
    --header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>'
```

<div id="example-response">
  ## **응답 예시**
</div>

```json
{
    "data":{
        "id":"1880028106020515840",
        "media_key":"13_1880028106020515840",
        "processing_info":{
            "state":"uploading" // 상태 전환 흐름: pending -> in_progress -> [failed|succeeded]
        }
    }
}
```

응답 본문에는 현재 진행 중인 미디어 처리 작업의 상태를 나타내는 `processing_info` 필드가 포함되어 있습니다. 여기에는 `state` 필드가 있으며, 상태 전이 과정은 `pending` -&gt; `in_progress` -&gt; [`failed` | `succeeded`]입니다. `state` 필드가 `succeeded`로 설정되기 전에는 `media_id`를 사용해 게시물이나 다른 엔티티를 생성할 수 없습니다.

<div id="step-5-post-tweet-with-media">
  ## Step 5 : 미디어가 포함된 트윗 작성
</div>

`POST /2/tweets` 엔드포인트를 사용해 인증된 사용자를 대신하여 `media_id`가 포함된 게시물을 생성합니다.

**요청 예시**

```bash
curl --location 'https://api.x.com/2/tweets' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>'
--data '{
    "text": "I made a post with media!",
     "media": {
       "media_ids": [
            "1880028106020515840"
        ]
    }
}'

```

**응답 예시**

```bash
{
    "data": {
        "edit_history_tweet_ids": [
            "1880028106020515840"
        ],
        "id": "1880028106020515840",
        "text": "I made a post with media! https://t.co/DqNyXX"
    }
}
```

<div id="troubleshooting">
  ## 문제 해결
</div>

Media API 관련 문제 발생 시, 해결 방법을 찾기 위해 개발자 포럼의 [Media API 카테고리](https://devcommunity.x.com/c/x-api/media-apis)를 확인해 보세요.