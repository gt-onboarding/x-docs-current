---
title: "OAuth2PKCEAuth"
sidebarTitle: "OAuth2PKCEAuth"
---

이 모듈은 보안 인가 플로우를 위한 OAuth2 PKCE (Proof Key for Code Exchange) 인증
기능을 제공합니다. 코드 검증 값 생성, 토큰 관리 및 토큰 자동 갱신 기능을 포함합니다.

<div id="class-xdkoauth2_authoauth2pkceauth">
  ### `class xdk.oauth2_auth.OAuth2PKCEAuth`
</div>

X API를 위한 OAuth2 PKCE 인증 클래스입니다.

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.base_url" type="str" default="'https://api.x.com'"></ParamField>

<ParamField path="path.authorization_base_url" type="str" default="'https://x.com/i'"></ParamField>

<ParamField path="path.client_id" type="str or None" default="None"></ParamField>

<ParamField path="path.client_secret" type="str or None" default="None"></ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None"></ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None"></ParamField>

<ParamField path="path.scope" type="str or List[str] or None" default="None"></ParamField>

<div id="__init__">
  ### `__init__`
</div>

OAuth2 PKCE 인증을 초기화합니다.

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.base_url" type="str" default="'https://api.x.com'">
X API 토큰 엔드포인트의 기본 URL입니다(기본값은 [https://api.x.com](https://api.x.com)입니다).
</ParamField>

<ParamField path="path.authorization_base_url" type="str" default="'https://x.com/i'">
OAuth2 인가를 위한 기본 URL입니다(기본값은 [https://x.com/i](https://x.com/i)입니다).
</ParamField>

<ParamField path="path.client_id" type="str or None" default="None">
X API의 클라이언트 ID입니다.
</ParamField>

<ParamField path="path.client_secret" type="str or None" default="None">
X API의 클라이언트 시크릿입니다.
</ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None">
OAuth2 인가를 위한 리디렉트 URI입니다.
</ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None">
기존 OAuth2 토큰 딕셔너리(있는 경우)입니다.
</ParamField>

<ParamField path="path.scope" type="str or List[str] or None" default="None">
OAuth2 인가 스코프를 위한 공백으로 구분된 문자열 또는 문자열 리스트입니다.
</ParamField>

<div id="exchange_code">
  ### `exchange_code`
</div>

인가 코드를 토큰으로 교환합니다 (TypeScript API와 동일합니다).

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.code" type="str">
콜백에서 전달된 authorization code입니다.
</ParamField>

<ParamField path="path.code_verifier" type="str or None" default="None">
선택 사항인 code verifier입니다(제공되지 않으면 저장된 verifier를 사용합니다).
</ParamField>

<div id="returns">
  #### 반환값
</div>

`Dictstr, Any`

<div id="fetch_token">
  ### `fetch_token`
</div>

인가 응답 URL을 사용하여 토큰을 가져옵니다(레거시 메서드로, 내부적으로 `exchange_code`를 사용합니다).

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.authorization_response" type="str">
인가가 완료된 후 수신한 전체 콜백 URL
</ParamField>

#### 반환

`Dictstr, Any`

<div id="get_authorization_url">
  ### `get_authorization_url`
</div>

OAuth2 PKCE 플로우에 사용할 인가 URL을 가져옵니다.

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.state" type="str or None" default="None">
보안을 강화하기 위한 선택적 state 매개변수입니다.
</ParamField>

#### 반환

`str`

<div id="get_code_challenge">
  ### `get_code_challenge`
</div>

현재 code challenge(PKCE용)를 반환합니다.
:returns: 현재 code challenge. 설정되지 않은 경우 None을 반환합니다.
:rtype: Optional[str]

<div id="returns">
  #### 반환값
</div>

`str | None`

<div id="get_code_verifier">
  ### `get_code_verifier`
</div>

현재 code verifier(PKCE용)을 반환합니다.
:returns: 현재 code verifier. 설정되어 있지 않으면 None을 반환합니다.
:rtype: Optional[str]

#### 반환

`str | None`

<div id="is_token_expired">
  ### `is_token_expired`
</div>

토큰이 만료되었는지 확인합니다.
:returns: 토큰이 만료되었다면 True, 그렇지 않다면 False.
:rtype: bool

<div id="returns">
  #### 반환값
</div>

`bool`

<div id="refresh_token">
  ### `refresh_token`
</div>

액세스 토큰을 갱신합니다.
:returns: 갱신된 토큰 사전
:rtype: Dict[str, Any]

#### 반환

`Dictstr, Any`

<div id="set_pkce_parameters">
  ### `set_pkce_parameters`
</div>

PKCE 매개변수를 직접 설정합니다.

<div id="parameters">
  #### 매개변수
</div>

<ParamField path="path.code_verifier" type="str">
사용할 code verifier입니다.
</ParamField>

<ParamField path="path.code_challenge" type="str or None" default="None">
옵션 code challenge입니다. 제공하지 않으면 자동으로 생성됩니다.
</ParamField>