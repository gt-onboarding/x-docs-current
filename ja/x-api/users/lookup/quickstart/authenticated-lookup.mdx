---
title: 認証済みユーザー取得
sidebarTitle: 認証済みユーザー取得
keywords: ["認証済みユーザー取得クイックスタート", "認証済みユーザーの取得クイックスタート", "me エンドポイントのクイックスタート", "認証済みユーザー向けチュートリアル"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-authenticated-user-lookup-endpoint">
  ## 認証ユーザー検索エンドポイントの利用を開始する
</div>

このクイックスタートガイドでは、Postman を使用して認証ユーザー検索エンドポイントへ最初のリクエストを送信する方法を説明します。

さまざまな言語でのサンプルコードを確認したい場合は、[X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) の GitHub リポジトリを参照してください。

<Note>
  ### 前提条件

  このガイドを完了するには、リクエストを認証するための [キーとトークン](/ja/resources/fundamentals/authentication) 一式が必要です。これらのキーとトークンは、次の手順に従って生成できます。

  * [開発者アカウントに登録](https://developer.x.com/en/apply-for-access) し、承認を受けます。
  * 開発者ポータルで [プロジェクト](/ja/resources/fundamentals/projects) と、それに関連付けられた [開発者アプリ](/ja/resources/fundamentals/developer-apps) を作成します。
  * アプリの “Keys and tokens” ページに移動して、必要な認証情報を生成します。すべての認証情報は安全な場所に保存してください。
</Note>

<div id="steps-to-build-an-authenticated-user-lookup-request">
  ### 認証済みユーザーのルックアップリクエストを作成する手順
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### ステップ1：ツールまたはライブラリを用意する
</div>

このエンドポイントにリクエストを送信するために使用できるツール、コード例、ライブラリはいくつかありますが、ここでは手順を簡略化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X API v2 を Postman に追加
</Button>

Postman に X API v2 コレクションが読み込まれたら、「Authenticated User Lookup」フォルダに移動し、「Lookup an Authenticated User」を選択します。

<div id="step-two-authenticate-your-request">
  #### ステップ2：リクエストを認証する
</div>

X API に正しくリクエストを送信するには、自分に権限があることを確認する必要があります。このエンドポイントでは、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) のいずれかを使ってリクエストを認証する必要があります。

この例では、OAuth 1.0a User Context を使用します。

Postman にキーとトークン、具体的には API Key、API Secret Key、OAuth 1.0a ユーザーアクセストークン、OAuth 1.0a ユーザーアクセストークンシークレットを追加する必要があります。Postman 右上の環境セレクターから「X API v2」という名前の環境を選択し、その環境のドロップダウンの横にある目のアイコンをクリックして、「initial value」フィールドと「current value」フィールドにキーとトークンを追加します。

正しく設定できていれば、これらの変数はリクエストの「Authorization」タブに自動的に反映されます。
 

<div id="step-three-determine-which-user-fields-you-want-to-retrieve">
  ##### ステップ3: 取得したいユーザーのフィールドを決定する
</div>

ステップ3まで完了した状態で「Send」ボタンをクリックすると、レスポンス内でデフォルトの [user オブジェクト](/ja/x-api/fundamentals/data-dictionary#user) のフィールドである id、name、username を受け取ります。

id、name、username 以外のフィールドも受け取りたい場合は、リクエスト内で [field](/ja/x-api/fundamentals/fields) パラメーターおよび/または [expansion](/ja/x-api/fundamentals/expansions) パラメーターを使用して、それらのフィールドを指定する必要があります。

この演習では、異なるオブジェクトから 3 つの追加フィールドセットをリクエストします:

1. プライマリ user オブジェクト内の追加の user.created&#95;at フィールド。

2. 返されるユーザーに対応するピン留めポストオブジェクトのデフォルトフィールド: id と text。

3. 関連するポストオブジェクト内の追加の tweet.created&#95;at フィールド。

Postman で「Params」タブに移動し、「Query Params」テーブルに次の key:value ペアを追加します:

|              |                               |                                                                   |
| :----------- | :---------------------------- | :---------------------------------------------------------------- |
| **Key**      | **Value**                     | **Returned fields**                                               |
| user.fields  | created&#95;at                | user.created&#95;at                                               |
| expansions   | pinned&#95;tweet&#95;id       | includes.tweets.id,  <br />includes.tweets.text                   |
| tweet.fields | created&#95;at, author&#95;id | includes.tweets.created&#95;at, includes&#95;tweets.author&#95;id |

「Send」ボタンの横に、これと似た URL が表示されているはずです。

```
      https://api.x.com/2/users/me?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```
