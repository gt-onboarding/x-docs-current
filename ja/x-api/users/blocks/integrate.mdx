---
title: インテグレーションガイド
sidebarTitle: インテグレーションガイド
keywords: ["blocks integration", "block users integration", "blocks guide", "block integration guide", "blocks setup", "block users setup"]
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、blocks エンドポイントをシステムに統合する際に把握しておくべき、いくつかのツールと重要な概念について説明します。内容は、次のセクションに分かれています。

* [便利なツール](#helpful)
* 重要な概念
* [認証](#authentication)
* [developer portal、プロジェクト、アプリ](#portal)
* [レート制限](#limits)
* [フィールドと expansions](#fields)
* [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

このエンドポイントの統合に役立ついくつかの重要な概念を説明する前に、あらかじめ次のツールの使い方に慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントをテストするために使用できる便利なツールです。各 Postman リクエストには、利用可能な項目をすばやく把握できるよう、すべてのパスおよびボディパラメータが含まれています。Postman コレクションの詳細については、「[Postman の使用方法](/ja/tutorials/postman-getting-started)」ページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語でこのエンドポイントのセットアップを行いたい場合は、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)に、出発点として利用できるさまざまなコードサンプルを用意しています。

<div id="third-party-libraries">
  #### サードパーティライブラリ
</div>

コミュニティが提供する [サードパーティライブラリ](/ja/x-api/tools-and-libraries/overview) を活用して、利用を開始しましょう。v2 エンドポイントに対応したライブラリは、適切なバージョンタグが付いているものを探すことで見つけることができます。

<div id="key-concepts">
  ### 主要な概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、「キーとトークン」とも呼ばれる一連の認証情報を使ってリクエストを認証する必要があります。これらのエンドポイントへのリクエストを認証するには、OAuth 1.0a User Context か OAuth 2.0 Authorization Code with PKCE のいずれかを使用できます。 

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) では、API Keys、ユーザーのアクセストークン、およびその他いくつかのパラメータを使用して、リクエストに付与する[認可ヘッダーを作成](/ja/resources/fundamentals/authentication#authorizing-a-request)する必要があります。アクセストークンは、あなたがリクエストを代行するユーザーに関連付けられていなければなりません。別のユーザーのアクセストークンを生成したい場合、そのユーザーは [3-legged OAuth フロー](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens) を使用してあなたのアプリを認可する必要があります。 

OAuth 1.0a は扱いが難しい場合がある点に注意してください。この認証方法に慣れていない場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を利用するか、Postman のようなツールを使用するか、OAuth 2.0 を使用してリクエストを認証することを推奨します。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) は、アプリケーションのスコープに対するより細かな制御や、複数のデバイス間にまたがる認可フローを可能にします。OAuth 2.0 では、ユーザーに代わって特定の権限を付与する細かなスコープを個別に選択できます。 

アプリで OAuth 2.0 を有効にするには、developer portal の App 設定セクションにあるアプリの認証設定で OAuth 2.0 を有効にする必要があります。

<div id="developer-portal-projects-and-developer-apps">
  #### developer portal、プロジェクト、開発者アプリ
</div>

X API v2 のエンドポイントで使用する一連の認証情報を取得するには、[開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info)し、そのアカウント内に[プロジェクト](/ja/resources/fundamentals/projects)を作成し、そのプロジェクト内に[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。その後、開発者アプリ内でキーとトークンを確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、何千もの開発者が X API にリクエストを送信しています。これらのリクエストの膨大な量を管理するために、[レート制限](/ja/x-api/fundamentals/rate-limits) が各エンドポイントに設定されており、アプリや認証済みユーザーに代わって送信できるリクエスト数が制限されています。 

これらのエンドポイントにはユーザーレベルでレート制限が適用されます。つまり、リクエストを送信する対象となる認証済みユーザーは、どの開発者アプリを通じてであっても、そのエンドポイントを呼び出せる回数に上限があります。POST メソッドと DELETE メソッドの両方について、各エンドポイントあたり 15 分間に 50 リクエストというユーザーレベルのレート制限があります。一方、GET メソッドの場合は、各エンドポイントあたり 15 分間に 15 リクエストまでとなります。
 

<div id="fields-and-expansions">
  #### フィールドと expansions
</div>

X API v2 の GET エンドポイントでは、**fields** と **expansions** と呼ばれる一連のパラメータを使用して、API から返したいデータを正確に選択できます。`expansions` パラメータを使用すると、ペイロード内で参照されているオブジェクトを展開できます。たとえば、このエンドポイントでは、次の [expansions](/ja/x-api/fundamentals/expansions) を取得できます。

* pinned&#95;tweet&#95;id

**fields** パラメータを使用すると、受け取りたいさまざまなデータオブジェクト内のどの[フィールド](/ja/x-api/fundamentals/fields)を取得するかを正確に指定できます。これらのエンドポイントは主にポストオブジェクトを返します。デフォルトでは、ポストオブジェクトは **id** と **text** フィールドを返します。**tweet.created&#95;at** や **tweet.entities** などの追加フィールドを受け取るには、**fields** パラメータを使用してそれらを明示的にリクエストする必要があります。インテグレーションでの利用を検討すべき重要なフィールドとしては、投票データ、メトリクス、ポストの注釈、会話 ID フィールドなどがあります。

[X API v2 データ辞書](/ja/x-api/fundamentals/data-dictionary)には、[fields と expansions を使用する方法](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)に関するガイドも用意しています。

<div id="pagination">
  #### ページネーション
</div>

Blocks lookup では大量のデータが返される可能性があります。一度に返される結果が多くなりすぎないよう、ページネーションを利用しています。結果の[ページネーションの方法についてはこちらをご覧ください。](/ja/x-api/fundamentals/pagination)