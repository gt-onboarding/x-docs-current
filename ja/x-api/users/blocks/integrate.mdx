---
title: 統合ガイド
sidebarTitle: 統合ガイド
keywords: ["ブロック機能の統合", "ユーザーのブロック機能統合", "ブロック機能ガイド", "ブロック統合ガイド", "ブロック機能の設定", "ユーザーのブロック機能設定"]
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、`blocks` エンドポイントをシステムに統合する際に知っておくべき、いくつかのツールや重要な概念について説明します。ページの内容は次のセクションで構成されています。

* [便利なツール](#helpful)
* 重要な概念
* [認証](#authentication)
* [Developer Portal、プロジェクト、アプリ](#portal)
* [レート制限](#limits)
* [フィールドとexpansions](#fields)
* [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

このエンドポイントを統合するのに役立つ重要な概念を説明する前に、まず次のツールに慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントをテストするために利用できる優れたツールです。各 Postman リクエストには、利用可能な項目をすばやく把握できるよう、すべてのパスパラメータおよびボディパラメータが含まれています。Postman コレクションの詳細については、[&quot;Using Postman&quot;](/ja/tutorials/postman-getting-started) ページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語でこのエンドポイントをセットアップしたい場合は、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)で、最初のたたき台として使えるいくつかのコードサンプルを提供しています。

<div id="third-party-libraries">
  #### サードパーティライブラリ
</div>

コミュニティによる[サードパーティライブラリ](/ja/x-api/tools-and-libraries/overview)を活用して、開発を始めましょう。適切なバージョンタグを探すことで、v2 エンドポイントに対応しているライブラリを見つけることができます。

<div id="key-concepts">
  ### 基本概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、キーとトークンと呼ばれる一連の認証情報を使用してリクエストを認証する必要があります。これらのエンドポイントへのリクエストを認証するには、`OAuth 1.0a User Context` か `OAuth 2.0 Authorization Code with PKCE` のいずれかを使用できます。 

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) では、`API Keys`、ユーザーの `Access Tokens`、およびその他いくつかのパラメータを利用して [認可ヘッダーを作成](/ja/resources/fundamentals/authentication#authorizing-a-request) し、それをリクエストに付与する必要があります。`Access Tokens` は、あなたが代理でリクエストを送信する対象のユーザーにひも付いていなければなりません。別のユーザー用の `Access Tokens` 一式を生成したい場合は、そのユーザーが [3-legged OAuth フロー](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens) を使用してあなたのアプリを承認する必要があります。 

なお、OAuth 1.0a は扱いが難しい場合があります。この認証方法に慣れていない場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を使用するか、Postman のようなツールを利用するか、OAuth 2.0 を使用してリクエストを認証することを推奨します。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) を使用すると、アプリケーションのスコープや複数デバイス間にまたがる認可フローを、より細かく制御できます。OAuth 2.0 では、ユーザーに代わって特定の権限を行使するための細かなスコープを選択できます。 

アプリで OAuth 2.0 を有効にするには、デベロッパーポータルの App 設定セクションにある、その App の認証設定で OAuth 2.0 を有効化する必要があります。

<div id="developer-portal-projects-and-developer-apps">
  #### Developer portal、プロジェクト、開発者アプリ
</div>

X API v2 エンドポイントで使用できる認証情報一式を取得するには、まず [開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info) し、そのアカウント内に [プロジェクト](/ja/resources/fundamentals/projects) を作成し、そのプロジェクト内に [開発者アプリ](/ja/resources/fundamentals/developer-apps) を作成する必要があります。その後、開発者アプリ内で自分のキーとトークンを確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、何千人もの開発者が X API にリクエストを送信しています。これら大量のリクエストを管理するために、[レート制限](/ja/x-api/fundamentals/rate-limits) が各エンドポイントに設定されており、あなたのアプリまたは認証済みユーザーに代わって送信できるリクエスト数が制限されています。 

これらのエンドポイントにはユーザーレベルでレート制限が適用されます。つまり、あなたが代わってリクエストを送信する認証済みユーザーは、どの開発者アプリからのリクエストであっても、そのエンドポイントを呼び出せる回数が一定数に制限されます。POST および DELETE メソッドについては、各エンドポイントごとに 15 分あたり 50 リクエストのユーザーレート制限があります。一方、GET メソッドでは、レート制限は 15 分あたり 15 リクエストのみとなります。
 

<div id="fields-and-expansions">
  #### フィールドと expansions
</div>

X API v2 の GET エンドポイントでは、fields と expansions と呼ばれる一連のツールを使用して、API から返したいデータを正確に選択できます。`expansions` パラメーターを使用すると、ペイロード内で参照されているオブジェクトを展開できます。たとえば、このエンドポイントでは、次の [expansions](/ja/x-api/fundamentals/expansions) を取得できます。

* pinned&#95;tweet&#95;id

`fields` パラメーターを使用すると、受け取りたいさまざまなデータオブジェクト内のどの[フィールド](/ja/x-api/fundamentals/fields)を正確に取得するかを選択できます。これらのエンドポイントで返されるのは、主にポストオブジェクトです。デフォルトでは、ポストオブジェクトは **id** と **text** フィールドのみを返します。**tweet.created&#95;at** や **tweet.entities** などの追加フィールドを受け取るには、`fields` パラメーターを使ってそれらを明示的にリクエストする必要があります。連携実装での利用を検討するとよい重要なフィールドとしては、投票データ、メトリクス、ポストのアノテーション、会話 ID フィールドなどがあります。

[X API v2 データ辞書](/ja/x-api/fundamentals/data-dictionary)には、[fields と expansions を併用する方法](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)に関するガイドも追加しています。

<div id="pagination">
  #### ページネーション
</div>

Blocks lookup では大量のデータが返される可能性があります。一度に返す結果が多くなりすぎないようにするため、ページネーションを使用します。結果を[ページネーションしながら取得する方法の詳細はこちらをご覧ください。](/ja/x-api/fundamentals/pagination)