---
title: ミュートの管理
sidebarTitle: ミュートの管理
keywords: ["ミュート管理クイックスタート", "ユーザーのミュート クイックスタート", "ミュート管理チュートリアル", "ミュートガイド", "ミュートクイックスタート"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-manage-mutes-endpoints">
  ## ミュート管理エンドポイントの利用を開始する
</div>

このクイックスタートガイドでは、[Postman](/ja/tutorials/postman-getting-started) を使用して、ミュート管理エンドポイントに対する最初のリクエストを送信する方法を説明します。

さまざまな言語でのサンプルコードを確認したい場合は、[X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) の GitHub リポジトリをご覧ください。

<Note>
  **前提条件**

  このガイドを完了するには、リクエストの認証に使用する一連の [keys and tokens](/ja/resources/fundamentals/authentication)（キーとトークン）が必要です。以下の手順に従ってキーとトークンを生成できます。

  * [Sign up for a developer account](https://developer.x.com/en/apply-for-access) を行い、承認を受けてください。
  * developer portal 上で [Project](/ja/resources/fundamentals/projects) と、それに関連付けられた [developer App](/ja/resources/fundamentals/developer-apps) を作成します。
  * アプリの「Keys and tokens」ページに移動して、必要な認証情報を生成します。すべての認証情報は必ず安全な場所に保管してください。
</Note>

<div id="steps-to-build-a-manage-mutes-request">
  ### ミュート管理リクエストを作成する手順
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### ステップ1：ツールまたはライブラリから始める
</div>

このエンドポイントへのリクエストを行うために使用できるツールやコード例、ライブラリはいくつかありますが、ここでは手順を簡略化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X API v2 を Postman に追加
</Button>

Postman に X API v2 コレクションが読み込まれたら、「Mutes」フォルダーに移動し、「Mute a user’s ID」を選択します。
 

<div id="step-two-authenticate-your-request">
  #### ステップ2：リクエストを認証する
</div>

X API に正しくリクエストを送信するには、自分に権限があることを確認する必要があります。このエンドポイントでそれを行うには、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) のいずれかを使用してリクエストを認証する必要があります。

この例では、OAuth 1.0a User Context を使用します。

キーとトークン、具体的には API Key、API Secret Key、OAuth 1.0a user Access Token、OAuth 1.0a user Access Token Secret を Postman に追加する必要があります。Postman 画面右上で「X API v2」という名前の environment（環境）を選択し、環境プルダウンの横にある目のアイコンをクリックして、「initial value」と「current value」のフィールドにキーとトークンを追加します。

正しく設定されていれば、これらの変数はリクエストの Authorization タブに自動的に反映されます。
 

<div id="step-three-specify-who-is-going-to-mute-whom">
  #### ステップ3：誰が誰をミュートするかを指定する
</div>

manage mutes エンドポイントでは 2 つの ID が必要です。1 つはユーザー用（別のユーザーをミュートまたはミュート解除しようとしているユーザー）、もう 1 つは対象ユーザー用（ミュートまたはミュート解除されるユーザー）です。ユーザーの ID は認証ユーザーの ID と一致している必要があります。これは、リクエストを認証する際に、そのユーザー ID に紐づくアクセストークンを渡さなければならないことを意味します。このケースでは、自分自身のユーザー ID を指定できます。自分の ID は次の 2 通りの方法で取得できます。

1. [user lookup](/ja/x-api/users/lookup/introduction) by username エンドポイントを使って、ユーザー名を渡すことで、`id` フィールドを取得できます。 
2. 自分のアクセストークンを確認すると、数値部分が自分のユーザー ID になっています。
    

ターゲット ID には、有効なユーザー ID であればどれでも指定できます。Postman では、&quot;Params&quot; タブに移動し、`id` パス変数の &quot;Value&quot; 列に自分の ID を入力します。次に “Body” タブに移動し、ミュートしたいユーザーの ID を target&#95;user&#95;id パラメーターの値として入力します。どの ID の前後にもスペースを含めないように注意してください。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 認証ユーザー ID |
| target&#95;user&#95;id | ミュートしたいユーザーの ID |

<div id="step-four-make-your-request-and-review-your-response">
  #### ステップ4: リクエストを送信し、レスポンスを確認する
</div>

すべての設定が完了したら、「Send」ボタンを押してリクエストを送信します。次に示すサンプルレスポンスと同様のレスポンスが返ってきます。

```
      { "data": { "muting": true } }
```

&quot;muting&quot;: true を受け取った場合、その id による target&#95;user&#95;id のミュートが正常に行われています。

同じユーザーのミュートを解除するには、Postman に読み込んだ X API v2 コレクションの「Mutes」フォルダ内にある “Unmute a user ID” という名前のリクエストを使用できます。source&#95;user&#95;id にはあなたのユーザー ID を、target&#95;user&#95;id にはミュート解除するユーザーの ID を指定します。これは JSON ボディとして追加する必要はないため、source&#95;user&#95;id と target&#95;user&#95;id の必要なクエリパラメータを必ず追加してください。

ミュート解除が成功すると、次の例と同様のレスポンスが返されます。

```
      { "data": { "muting": false } }
```
