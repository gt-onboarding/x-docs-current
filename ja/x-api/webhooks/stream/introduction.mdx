---
title: Filtered Stream Webhooks API
sidebarTitle: 概要
keywords: ["filtered stream webhooks", "stream webhooks", "webhook stream", "filtered stream webhook", "streaming webhooks", "webhook 配信"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="overview">
  ## 概要
</div>

filtered stream エンドポイントグループを使用すると、開発者は公開ポストのストリームをフィルタリングできます。このエンドポイントグループには、ルールの作成と管理、そしてそれらのルールを適用して条件に一致する公開ポストのみを返すストリームをフィルタリングするための複数のエンドポイントが含まれます。このエンドポイントグループを利用することで、特定のトピックやイベントを継続的に監視したり、大会や競技に関する会話をモニタリングしたり、トレンドがどのように発展していくかを把握したり、その他多くのことが可能になります。

開発者は REST の [rules エンドポイント](/ja/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) を使用して、定義した条件に一致するポストをフィルタリングするためのルールを追加および削除できます。これらの [rules](/ja/x-api/posts/filtered-stream#building-rules-for-filtered-stream) は、メッセージのキーワード、ハッシュタグ、URL などのポスト属性にマッチするオペレーターを使って作成できます。オペレーターとルール句は、ブールロジックや括弧と組み合わせることで、フィルタのマッチング動作をより細かく調整できます。 

一連のルールを追加したら、X が JSON 形式で [Post objects](/ja/x-api/fundamentals/data-dictionary#tweet) を配信し始めるように、webhook を登録できます。webhook には、設定したルールに一致するコンテンツのみが配信されます。

このエンドポイントは、編集されたポストをサポートします。webhook は、1 つ以上のフィルタに一致する編集済みポストを、その編集履歴とともに受信します。編集履歴には、ポストの ID の配列が含まれます。編集履歴のないポストの場合、この配列には単一の ID が格納されます。編集されたポストの場合、この配列には複数の ID が含まれ、編集の順序を反映して昇順に並んでおり、配列の最後の要素が最新バージョンになります。ポスト編集の仕組みについて詳しくは、[Posts edits fundamentals](/ja/x-api/fundamentals/edit-posts) ページを参照してください。 

**注:** このエンドポイントグループは、ルールの設定方法という点で [v2 filtered stream エンドポイント](/ja/x-api/posts/filtered-stream/introduction) と似ています。唯一の違いは、ルールに一致するポストの配信方法です。

* v2 filtered stream エンドポイントの場合、永続的な接続を確立し、ルールに一致するポストを受信し続ける必要があります。
* この filtered stream webhook エンドポイントの場合、webhook を登録すると、X がルールに一致するポストを webhook に配信します。

これにより、クライアント側の切断や、サービスの通常の再起動に伴うサーバー側の切断を処理する必要がなくなります。1 秒あたり数百件のイベントを配信する可能性が高いため、webhook サーバーは、これらの同時接続要求を処理できる必要があります。

このエンドポイントは現在、Enterprise 開発者向けに提供されており、次の構成をサポートしています。

* プロジェクトあたり 25,000 以上のルール
* ルールの作成時にすべてのオペレーターを利用可能
* 最大 2048 文字までのルールを作成可能
* Enterprise アクセスには[こちら](https://developer.x.com/en/products/x-api/enterprise/enterprise-api-interest-form)から申請してください

filtered stream から返されるポストは、月間の [Post cap](/ja/x-api/fundamentals/post-cap) にカウントされます。

<Note>
  **アカウント設定**

  これらのエンドポイントにアクセスするには、次のものが必要です。

  * 承認済みの [開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)
  * [プロジェクト](/ja/resources/fundamentals/projects) 内にある [開発者アプリ](/ja/resources/fundamentals/developer-apps) のキーとトークンを使用した認証 

  X API v2 エンドポイントへのアクセスの取得方法については、[利用開始ガイド](/ja/x-api/getting-started/getting-access)を参照してください。
</Note>

<div className="flex">
  <Button href="/ja/x-api/posts/filtered-stream/quickstart">
    クイックスタート
  </Button>
</div>