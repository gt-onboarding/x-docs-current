---
title: 統合ガイド
sidebarTitle: 統合ガイド
keywords: ["リストポスト統合", "リストタイムライン統合", "リストポストガイド", "リストタイムラインのセットアップ"]
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、List ポストルックアップエンドポイントをシステムに統合する際に知っておくべき、いくつかのツールや重要な概念について説明します。内容はいくつかのセクションに分かれています。

* [役立つツール](#helpful)
* 主要な概念
* [認証](#authentication)
* [Developer Portal、プロジェクト、アプリ](#portal)
* [レート制限](#limits)
* [フィールドと expansions](#fields)
* [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

このエンドポイントを統合するうえで役立つ主要な概念を説明する前に、まず次のツールに慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントをテストするための優れたツールです。各 Postman リクエストには、何が利用できるかをすばやく把握できるよう、すべてのパスパラメーターとボディパラメーターが含まれています。Postman コレクションの詳細については、「[Postman の利用方法](/ja/tutorials/postman-getting-started)」ページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語で、このエンドポイントをコードから利用できるように設定したいとお考えですか？[Github ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)で、最初の一歩として使える、さまざまなコードサンプルを公開しています。

<div id="third-party-libraries">
  #### サードパーティ製ライブラリ
</div>

コミュニティが提供する [サードパーティ製ライブラリ](/ja/x-api/tools-and-libraries/overview) を活用して、導入をスムーズに進めましょう。v2 エンドポイントに対応したライブラリは、適切なバージョンタグを手がかりに見つけることができます。

<div id="key-concepts">
  ### 基本概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、「キーとトークン」とも呼ばれる一連の認証情報を使用してリクエストを認証する必要があります。OAuth 1.0a User Context、App only、または OAuth 2.0 Authorization Code with PKCE のいずれかを使用して、このエンドポイントへのリクエストを認証できます。 

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) を使用する場合は、一連の API キーとユーザーのアクセストークンを使用してリクエストを成功させる必要があります。アクセストークンは、あなたが代理してリクエストを送信するユーザーに関連付けられている必要があります。別のユーザーのアクセストークンを生成したい場合は、そのユーザーが [3-legged OAuth flow](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を使用してあなたのアプリを承認する必要があります。

OAuth 1.0a の使用は難しい場合がある点に注意してください。この認証方法に慣れていない場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を使用するか、Postman のようなツールを使用するか、あるいは OAuth 2.0 または App only を使用してリクエストを認証することをお勧めします。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) を使用すると、アプリケーションのスコープや、複数のデバイスにまたがる認可フローをより細かく制御できます。OAuth 2.0 では、ユーザーに代わって特定の権限を付与する、きめ細かなスコープを選択できます。 

アプリで OAuth 2.0 を有効にするには、developer portal の「App settings」セクションにあるアプリの「Authentication settings」で OAuth 2.0 を有効にする必要があります。

[App only](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) では、リクエストに [App only Access Token](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) を渡すだけで済みます。App only Access Token は、開発者アプリ内で直接生成するか、[POST oauth2/token](/ja/resources/fundamentals/authentication#post-oauth2-token) エンドポイントを使用して生成できます。

<div id="developer-portal-projects-and-developer-apps">
  #### developer portal、プロジェクト、および開発者アプリ
</div>

X API v2 のエンドポイントで使用できる認証情報一式を取得するには、[開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info)し、そのアカウント内に[プロジェクト](/ja/resources/fundamentals/projects)を設定し、そのプロジェクト内に[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。その後、開発者アプリ内でキーとトークンを確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、多くの開発者が X API に対して何千ものリクエストを送信しています。こうしたリクエストの膨大な量を管理するために、各エンドポイントには[レート制限](https://developer.x.com/x-api/fundamentals/rate-limits)が設定されており、あなたのアプリ、または認証済みユーザーに代わって送信できるリクエスト数が制限されています。 

このエンドポイントには、アプリレベルとユーザーレベルの両方でレート制限が適用されています。アプリレベルのレート制限は、開発者であるあなたが、特定の期間内に任意の App（API Key と API Secret Key、または Bearer Token のいずれかを使用するとみなされます）からこのエンドポイントへ送信できるリクエスト数を制限するものです。ユーザーレベルのレート制限は、あなたが代わってリクエストを送信している認証済みユーザーが、任意の開発者アプリを通じてリスト内のポストのルックアップを実行できる回数を制限するものです。

以下の表は、各エンドポイントに適用されるレート制限を示しています。

|     |     |     |
| :--- | :--- | :--- |
| **エンドポイント** | **HTTP メソッド** | **レート制限** |
| /2/lists/:id/tweets | GET | 15 分あたり 900 リクエスト |

フィールドと expansions

X API v2 の GET エンドポイントでは、`fields` と `expansions` と呼ばれる一連のツールを使用して、API から返したいデータを正確に選択できます。`expansions` パラメーターを使用すると、ペイロード内で参照されているオブジェクトを展開できます。たとえば、リスト内のポストをルックアップすると、次の [expansions](/ja/x-api/fundamentals/expansions) を取得できます。

* `author_id`

`fields` パラメーターを使用すると、受け取りたい各種データオブジェクト内のどの[フィールド](/ja/x-api/fundamentals/fields)を取得するかを正確に選択できます。このエンドポイントは主に Post オブジェクトを返します。デフォルトでは、Post オブジェクトは `id` と `text` フィールドを返します。`tweet.created_at` や `tweet.lang` のような追加フィールドを受け取るには、fields パラメーターを使用してそれらを明示的にリクエストする必要があります。 

[X API v2 データディクショナリ](/ja/x-api/fundamentals/data-dictionary)内に、[fields と expansions を併用する方法](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)に関するガイドを追加しています。

以下の表は、ルックアップエンドポイントで利用可能なフィールドと expansions を示しています。

|     |     |     |
| :--- | :--- | :--- |
| **エンドポイント** | **Fields** | **Expansions** |
| /2/lists/:id/tweets | `tweet.fields`<br /><br />`user.fields` | `author_id` |

ページネーション

リスト内のポストをルックアップすると、多くのデータが返される場合があります。常に一貫性があり高パフォーマンスな結果を返すために、ページネーションを使用しています。ページネーションは、1 回のレスポンスで返せる件数を超える結果を返す X API v2 のエンドポイントにおける機能です。その場合、データは複数の「ページ」に分割されて返されます。結果の[ページネーション方法についてはこちら](/ja/x-api/fundamentals/pagination)をご覧ください。