---
title: リストメンバーの取得
sidebarTitle: リストメンバーの取得
keywords: ["リストメンバー取得の移行", "v1.1 から v2 へのリストメンバー取得", "リストメンバー取得の移行", "Standard v1.1 から v2 へのリストメンバー取得", "リストメンバーの移行"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="list-members-lookup-standard-v11-compared-to-x-api-v2">
  ### リストメンバーのルックアップ: Standard v1.1 と X API v2 の比較
</div>

標準の v1.1 の [GET lists/members](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-members) および [GET lists/memberships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-memberships) エンドポイントを利用している場合、本ガイドは、標準の v1.1 と X API v2 の List メンバー関連エンドポイントの共通点と相違点を理解するための助けとなることを目的としています。

* **共通点**
  * 認証方式
* **相違点**
  * エンドポイント URL
  * レート制限
  * アプリおよびプロジェクト要件
  * リクエストごとのデータオブジェクト数の上限
  * レスポンスデータ形式
  * リクエストパラメータ

<div id="similarities">
  #### 類似点
</div>

**認証**

どちらのバージョンのエンドポイントも、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) と [App only](/ja/resources/fundamentals/authentication#oauth-2-0) の両方をサポートしています。したがって、これまで標準 v1.1 の List メンバーエンドポイントのいずれかを使用していた場合でも、X API v2 のエンドポイントに移行しても同じ認証方法を使い続けることができます。

使用している認証ライブラリ／パッケージにもよりますが、App only 認証はおそらく最も簡単に始められる方法で、シンプルなリクエストヘッダーの指定だけで設定できます。App only アクセストークンの生成方法については、[この App only ガイド](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を参照してください。

<div id="differences">
  #### 相違点
</div>

**エンドポイント URL**

* Standard v1.1 エンドポイント:
  * GET https://api.x.com/1.1/lists/members.json
    (指定したリストのメンバーを取得)
  * GET https://api.x.com/1.1/lists/memberships.json
    (ユーザーがメンバーになっているリストを取得)
* X API v2 エンドポイント:
  * GET https://api.x.com/2/lists/:id/members
    (指定したリストのメンバーを取得)

  * GET https://api.x.com/2/users/:id/list&#95;memberships
    (ユーザーがメンバーになっているリストを取得)

**レート制限**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| /1.1/lists/members.json<br /><br />OAuth 1.0a User Context では 15 分間に 900 リクエスト<br /><br />アプリのみ認証では 15 分間に 15 リクエスト | /2/lists/:id/members<br /><br />OAuth 1.0a User Context では 15 分間に 900 リクエスト<br /><br />OAuth 2.0 Authorization Code with PKCE では 15 分間に 900 リクエスト<br /><br />アプリのみ認証では 15 分間に 900 リクエスト |
| /1.1/lists/memberships.json<br /><br />OAuth 1.0a User Context では 15 分間に 15 リクエスト<br /><br />アプリのみ認証では 15 分間に 15 リクエスト | /2/users/:id/list&#95;memberships<br /><br />OAuth 1.0a User Context では 15 分間に 15 リクエスト<br /><br />OAuth 2.0 Authorization Code with PKCE では 15 分間に 15 リクエスト<br /><br />アプリのみ認証では 15 分間に 15 リクエスト |

**アプリとプロジェクトの要件**

X API v2 エンドポイントでは、リクエストを認証する際に、[開発者アプリ](/ja/resources/fundamentals/developer-apps)の認証情報を使用する必要があり、そのアプリは[プロジェクト](/ja/resources/fundamentals/projects)に関連付けられている必要があります。すべての X API v1.1 エンドポイントでは、スタンドアロンのアプリ、またはプロジェクトに関連付けられたアプリのいずれかの認証情報を使用できます。

**1 リクエストあたりのデータオブジェクト数の制限**

Standard v1.1 の /1.1/lists/members エンドポイントでは、1 リクエストあたり最大 5,000 人のユーザーを返すことができます。新しい v2 エンドポイントでは、1 リクエストあたり最大 100 人のユーザーを返すことができます。デフォルトでは 100 個のユーザーオブジェクトが返されます。結果数を変更するには、クエリパラメータ max&#95;results= に 1〜100 の数値を指定する必要があります。その後、レスポンスペイロード内で返される next&#95;token を、次のリクエストの pagination&#95;token クエリパラメータに渡すことができます。

さらに、/1.1/lists/memberships エンドポイントでは、1 リクエストあたり最大 1,000 個のリストを返すことができます。これに対応する v2 の置き換えエンドポイントでは、1 リクエストあたり最大 100 個のリストを返すことができます。デフォルトでは 100 個のリストオブジェクトが返されます。結果数を変更するには、/1.1/lists/members と同様に、クエリパラメータ max&#95;results= および pagination&#95;token を使用してください。

**レスポンスデータ形式**

Standard v1.1 と X API v2 のエンドポイントバージョンの最大の違いの 1 つは、ペイロード内で返すフィールドをどのように選択するかという点です。

Standard エンドポイントでは、多くのレスポンスフィールドがデフォルトで返され、追加で返したいフィールドやフィールドセットをパラメータで指定することができます。

X API v2 バージョンの /users/:id/list&#95;memberships では、デフォルトでリストの id と name フィールドが返されます。追加のフィールドやオブジェクトをリクエストするには、[fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用する必要があります。このエンドポイントからリクエストした任意のリストフィールドは、プライマリのリストオブジェクト内で返されます。展開されたオブジェクトおよびフィールドは、レスポンス内の includes オブジェクトとして返されます。その後、プライマリと展開されたオブジェクトの両方に含まれる ID を照合することで、展開された任意のオブジェクトをプライマリのリストオブジェクトに対応付けることができます。 

以下は、指定可能なリストフィールドと expansions の例です:

* created&#95;at

* follower&#95;count

* member&#95;count

* owner&#95;id

* description

* private

|     |     |
| :--- | :--- |
| **エンドポイント** | **Expansion** |
| /2/lists/:id/members | pinned&#95;tweet&#95;id |
| /2/users/:id/list&#95;memberships | owner&#95;id |

これらの新しいパラメータについての詳細は、それぞれのガイド、または [fields と expansions の使い方](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) に関するガイドを参照することをお勧めします。 

標準 v1.1 のフィールドを新しい v2 のフィールドにマッピングする際に役立つよう、[データ形式移行ガイド](/ja/x-api/migrate/data-format-migration) も用意しています。このガイドでは、特定のフィールドを返すために v2 リクエストで指定する必要がある、具体的な expansion パラメータと field パラメータについても説明しています。 

特定のフィールドのリクエスト方法の変更に加えて、X API v2 では、[Post](/ja/x-api/fundamentals/data-dictionary#tweet) オブジェクトや [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトを含む、API によって返されるオブジェクトに対して新しい JSON 設計も導入しています。

* JSON のルートレベルでは、標準的なエンドポイントは Post オブジェクトを statuses 配列で返しますが、X API v2 では data 配列で返します。 

* Retweeted および Quoted の「statuses」を参照する代わりに、X API v2 の JSON では Retweeted および Quoted の Tweet を参照します。contributors や user.translator&#95;type など、多くのレガシーおよび非推奨フィールドは削除されています。 

* Post オブジェクトにおける favorites と user オブジェクトにおける favourites の両方を使用する代わりに、X API v2 では like という用語を使用します。 

* X では、値を持たない JSON フィールド（例: null）はペイロードに含めないという規約を採用しています。Post と user の属性は、値が null でない場合にのみ含まれます。

**リクエストパラメータ**

次の標準 v1.1 のリクエストパラメータには、X API v2 における対応パラメータがあります。

**List メンバー検索**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| list&#95;id | id  |
| slug | 対応なし |
| owner&#95;screen&#95;name | 対応なし |
| owner&#95;id | 対応なし |
| count | max&#95;results |
| cursor | pagination&#95;token |
| include&#95;entities | 対応なし |
| skip&#95;status | 対応なし |

**List メンバーシップ検索**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| user&#95;id | id  |
| screen&#95;name | 対応なし |
| count | max&#95;results |
| cursor | pagination&#95;token |