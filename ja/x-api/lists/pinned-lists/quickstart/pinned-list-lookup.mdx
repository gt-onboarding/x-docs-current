---
title: 固定表示リストの取得
sidebarTitle: 固定表示リストの取得
keywords: ["固定表示リスト取得クイックスタート", "固定表示リストの取得", "固定表示リストのクイックスタート", "リスト取得のクイックスタート"]
---

import { Button } from '/snippets/ja/button.mdx';

<Note>
  **ご注意:** このガイドは、[クイックスタート概要](/ja/x-api/lists/pinned-lists#getting-started-with-the-pinned-list-endpoint-group)で説明している前提条件を満たしていることを前提とします。
</Note>

<div id="steps-to-build-a-pinned-list-lookup-request">
  ### ピン留めされたリストのルックアップリクエストを構築する手順
</div>

**ステップ 1: Postman で List エンドポイントコレクションを選択する**

Postman に X API v2 コレクションを読み込んだら、「List」フォルダーに移動し、「Pinned Lists」フォルダーを選択してから、「User&#39;s pinned Lists」を選びます。
 

**ステップ 2: ユーザーを特定して指定する**

ユーザーのピン留めされたリストを取得するには、リクエスト内でそのユーザーのユーザー ID を指定する必要があります。ユーザー ID は認証しているユーザーの ID と一致している必要があります。つまり、リクエストを認証する際に、そのユーザー ID に関連付けられているアクセストークンを渡す必要があります。この例では、自分自身のユーザーに属する ID を指定できます。自分の ID は次の 2 つの方法で確認できます。

1. [users lookup](/ja/x-api/users/lookup/introduction) by username エンドポイントを使用すると、username を渡して `id` フィールドを取得できます。
2. 自分のアクセストークンを見ると、数値の部分が自分のユーザー ID であることが分かります。

Postman で「Params」タブに移動し、このユーザー ID を `id` パラメーターの「Value」列に入力します。

|         |                      |
| :------ | :------------------- |
| **Key** | **Value**            |
| `id`    | 2244994945 (user ID) |

**ステップ 3: 取得したいフィールドを特定して指定する**

ステップ 3 の後に「Send」ボタンをクリックすると、レスポンスではデフォルトの [List オブジェクト](/ja/x-api/fundamentals/data-dictionary#list)のフィールド `id` と `name` のみが返されます。

`id` と `name` 以外の追加フィールドを受け取りたい場合は、[`field`](/ja/x-api/fundamentals/fields) パラメーターおよび/または [`expansion`](/ja/x-api/fundamentals/expansions) パラメーターを使用して、それらのフィールドをリクエスト内で指定する必要があります。

この演習では、異なるオブジェクトから 3 つの追加のフィールドセットをリクエストします。

* メインの List オブジェクト内の追加フィールド `follower_count`
* expansion パラメーターを使用した完全な [user オブジェクト](/ja/x-api/fundamentals/data-dictionary#user)
* 関連するユーザーオブジェクト内の追加フィールド `tweet.created_at`

Postman で「Params」タブに移動し、「Query Params」テーブルに次の key:value ペアを追加します。

|             |                    |                                                                               |
| :---------- | :----------------- | :---------------------------------------------------------------------------- |
| Key         | Value              | Returned fields                                                               |
| list.fields | follower&#95;count | `follower_count`                                                              |
| expansions  | owner&#95;id       | `includes.users.id,  <br/>includes.users.name,  <br/>includes.users.username` |
| user.fields | created&#95;at     | `includes.users.created_at`                                                   |

「Send」ボタンの横に、次のような URL が表示されているはずです。

`https://api.x.com/2/users/2244994945/pinned_lists?expansions=owner_id&list.fields=follower_count&user.fields=created_at`

**ステップ 4: リクエストを送信し、レスポンスを確認する**

すべての設定が完了したら、「Send」ボタンを押すと、次のサンプルレスポンスと同様のレスポンスが返されます。

```
{
  "data": [
    {
      "follower_count": 0,
      "id": "1454155907651158017",
      "name": "test list",
      "owner_id": "2244994945"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "id": "2244994945",
        "created_at": "2013-12-14T04:35:55.000Z",
        "name": "Twitter Dev"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```
