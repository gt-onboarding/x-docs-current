---
title: いいねを管理する
sidebarTitle: いいねを管理する
keywords: ["いいねを管理する", "ポストにいいねする", "いいねを取り消す", "いいねクイックスタート", "いいねチュートリアル", "いいねガイド"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-manage-likes-endpoints">
  ### manage Likes エンドポイントの利用を始める
</div>

このクイックスタートガイドでは、[Postman](/ja/tutorials/postman-getting-started) を使用して manage Likes エンドポイントに対する最初のリクエストを送信する方法を説明します。

さまざまな言語でのサンプルコードを確認したい場合は、GitHub の [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) リポジトリをご覧ください。 

<div id="prerequisites">
  #### 前提条件
</div>

このガイドを完了するには、[キーとトークン](/ja/resources/fundamentals/authentication)が必要です。以下の手順に従って生成できます。

1. [開発者アカウントに申請](https://developer.x.com/en/apply-for-access)し、承認を受けます。

2. 開発者ポータルで[プロジェクト](/ja/resources/fundamentals/projects)と、それに関連付けられた[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成します。

3. アプリの「Keys and tokens」ページに移動し、API Keys、Access Tokens、Bearer Token をパスワードマネージャーに保存します。

<div id="steps-to-build-a-manage-likes-request">
  #### 「いいね」管理リクエストを構築する手順
</div>

**ステップ 1: ツールまたはライブラリを選択する**

このエンドポイントへのリクエストを送信する方法としては、いくつかのツール、コード例、ライブラリがありますが、ここでは手順を簡略化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

[![](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/m1_vnext/carat.svg)<br />X API v2 を Postman に追加](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)

Postman に X API v2 コレクションを読み込んだら、「Likes」フォルダーに移動し、「Like a Post」を選択します。

**ステップ 2: リクエストを認証する**

このエンドポイントへのリクエストを成功させるには、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) を使用する必要があります。そのためには、「X API v2」という名前の environment を選択し、初期値と現在値のフィールドに次の変数を追加して、これらのキーとトークンを Postman に設定します。

* consumer&#95;key：あなたの API Key
* consumer&#95;secret：あなたの API Key Secret
* access&#95;token：あなたの Access Token
* token&#95;secret：あなたの Access Token Secret
   

**ステップ 3: 「いいね」するポストを指定する**

Likes を管理するエンドポイントでは 2 つの ID が必要です。1 つはユーザー（ポストに「いいね」したいユーザー）の ID、もう 1 つはユーザーが「いいね」または「いいね解除」しようとしているポストを表すポスト ID です。 

ユーザーの ID は認証しているユーザーの ID と一致している必要があります。つまり、リクエストを認証する際には、そのユーザー ID に紐づく [Access Tokens](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を渡さなければなりません。この場合、自分自身のユーザーに属する ID を指定できます。自分の ID は次の 2 通りの方法で確認できます。

1. [user lookup by username](/ja/x-api/users/user-lookup-by-id) エンドポイントを使用して username を渡すと、id フィールドを取得できます。 
2. Access Token を確認すると、数値の部分があなたのユーザー ID です。
    

また、「いいね」したいポストも指定する必要があります。x.com でポストを開き、その URL を見ることでポスト ID を確認できます。たとえば、次の URL のポスト ID は 1228393702244134912 です。

[https://x.com/TwitterDev/status/1228393702244134912](https://x.com/TwitterDev/status/1228393702244134912)

Postman で &quot;Params&quot; タブに移動し、id パス変数の &quot;Value&quot; 列にあなたの ID を入力します。その後、「Body」タブに移動し、tweet&#95;id パラメーターの値として「いいね」したいポストの ID を入力します。ID の前後にスペースが含まれないように注意してください。

|              |                   |
| :----------- | :---------------- |
| **Key**      | **Value**         |
| `id`         | (あなたのユーザー ID)     |
| tweet&#95;id | (「いいね」したいポストの ID) |

&quot;Send&quot; ボタンをクリックすると、関係性のステータスを含むレスポンスオブジェクトが返されます。

* &quot;liked&quot;: true が返ってきた場合、その id は tweet&#95;id を正常に「いいね」しています。
   

**ステップ 4: リクエストを送信し、レスポンスを確認する**

すべての設定が完了したら、&quot;Send&quot; ボタンを押すと、次のようなレスポンスが返されます。

```
{
    "data": {
        "liked": true
    }
}
```

同じポストへの「いいね」を取り消したい場合は、Postman の X API v2 コレクション内の「Likes」フォルダーにある「Unlike a Post」という名前のリクエストを使用できます。`id` と `tweet_id` は前の例と同様に使用します。ポストの「いいね」を取り消す場合、これらを JSON ボディとして追加する必要はないため、`id` と `tweet_id` の必須クエリパラメーターを忘れずに指定してください。
