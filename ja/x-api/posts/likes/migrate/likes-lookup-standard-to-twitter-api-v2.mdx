---
title: いいねの取得
sidebarTitle: いいねの取得
keywords: ["likes lookup migration", "v1.1 to v2 likes lookup", "migrate likes lookup", "standard to v2 likes", "likes migration"]
---

<div id="likes-lookup-standard-v11-compared-to-x-api-v2">
  ### いいねのルックアップ: Standard v1.1 と X API v2 の比較
</div>

標準の v1.1 [GET favorites/list](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list) エンドポイントを利用している場合、本ガイドは、Standard v1.1 と X API v2 の Likes ルックアップエンドポイントの共通点と相違点を理解するのに役立ちます。

v2 では、ポストに「いいね」したユーザーに関する情報を取得できる、新しい liked users エンドポイントも導入しています。

* **類似点**
  * 認証
  * レート制限
* **相違点**
  * エンドポイント URL

  * リクエストの制限事項

  * アプリとプロジェクトの要件

  * リクエストパラメータ

  * 新しい JSON 形式

<div id="similarities">
  #### 類似点
</div>

**認証**

標準 v1.1 と X API v2 の Likes ルックアップエンドポイントは、どちらも [OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) か [OAuth 2.0 Bearer Token](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を使用します。したがって、以前に標準 v1.1 の [GET favorites/list エンドポイント](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list) を使用していた場合、希望すれば X API v2 バージョンへ移行しても同じ認証方法を引き続き使用できます。 

利用する認証ライブラリ／パッケージによっては、Bearer Token 認証がもっとも手軽な開始方法であり、シンプルなリクエストヘッダーを設定するだけで利用できます。Bearer Token の生成方法については、[この OAuth 2.0 Bearer Token ガイド](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を参照してください。 
 

**レート制限**

標準 v1.1 の GET favorites/list エンドポイントには、「ユーザーあたり 15 分間に 75 リクエスト」のレート制限があります。対応する v2 の「いいね」したポストのエンドポイントにも、同じレート制限が適用されます。ただし、この v2 エンドポイントには、「アプリあたり 15 分間に 75 リクエスト」という追加のレート制限もあります。

<div id="differences">
  #### 違い
</div>

**エンドポイント URL**

* Standard v1.1 エンドポイント:
  * GET https://api.x.com/1.1/favorites/list.json
    （指定したユーザーによるポストのリスト）
  * v2 の liking users エンドポイントに相当する v1.1 エンドポイントは存在しません
* X API v2 エンドポイント:
  * GET https://api.x.com/2/users/:id/liked&#95;tweets
    （指定したユーザー ID が「いいね」したポストのリスト）
  * GET https://api.x.com/2/tweets/:id/liking&#95;users
    （指定したポスト ID に「いいね」したユーザーのリスト）

**リクエスト制限**

v2 の liked Posts エンドポイントでは、1 回のリクエストで 5 ～ 100 件のポストをリクエストできますが、ページネーショントークンを利用することで、あるポストに対するすべての「いいね」を取得できます。v1.1 の GET favorites/list エンドポイントでも、ポストに対するすべての「いいね」を取得できますが、1 回のリクエストで取得できるポストは 20 ～ 200 件です。

v2 の liking users エンドポイントでは、1 つのポストにつき「いいね」したユーザーは最大 100 人まで取得できます。 
 

**アプリとプロジェクトの要件**

X API v2 のエンドポイントでは、リクエストを認証する際に、[developer App](/ja/resources/fundamentals/developer-apps)（開発者アプリ）であり、かつ [Project](/ja/resources/fundamentals/developer-apps)（プロジェクト）に関連付けられているものの資格情報を使用する必要があります。すべての X API v1.1 エンドポイントでは、プロジェクトに関連付けられていないスタンドアロンのアプリ、またはプロジェクトに関連付けられたアプリのいずれの資格情報も使用できます。

**リクエストパラメーター**

次の standard v1.1 エンドポイントでは、リクエストクエリパラメーターとして 2 つのパラメーター（user&#95;id または screen&#95;name）を指定できました。X API v2 では数値のユーザー ID のみを受け付け、エンドポイントパスの一部として渡す必要があります。

standard v1.1 と X API v2 のエンドポイントバージョン間の最大の違いの 1 つは、ペイロードにどのフィールドを含めるかの選択方法です。standard エンドポイントでは、ペイロードに返すフィールドやフィールドのセットを特定するために使用できるパラメーターが複数ありましたが、X API v2 バージョンでは、これらのさまざまなパラメーターが [fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) に単純化されています。 
 

**新しい JSON 形式**

X API v2 では、[Post](/ja/x-api/fundamentals/data-dictionary#tweet) オブジェクトや [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトを含む、API が返すオブジェクト向けの新しい JSON 設計を導入しています。

* JSON のルートレベルでは、standard エンドポイントは user オブジェクトを statuses 配列内に返しますが、X API v2 は data 配列内に返します。 
* Retweeted と Quoted の「statuses」を参照する代わりに、X API v2 の JSON ではリツイートされたポストと引用されたポストを参照します。contributors や user.translator&#95;type など、多くのレガシーかつ非推奨のフィールドは削除されています。 
* Post オブジェクト内の favorites と user オブジェクト内の favourites の両方を使用する代わりに、X API v2 では like という用語を使用します。 
* X では、値を持たない JSON 値（たとえば null）はペイロードに書き出さないという規則を採用しています。Post および user の属性は、非 null の値を持つ場合にのみ含まれます。
   

新しい JSON 形式に加えて、Post オブジェクトには次のような新しいフィールド群も導入されています。

* [conversation&#95;id](/ja/x-api/fundamentals/conversation-id)
* context と entities を含む 2 つの新しい [Post annotations](/ja/x-api/fundamentals/post-annotations) フィールド
* 複数の新しい [metrics](/ja/x-api/fundamentals/metrics) フィールド 