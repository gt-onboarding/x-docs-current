---
title: クエリを構築する
sidebarTitle: クエリを構築する
keywords: ["クエリ 集計 構築", "集計クエリ", "クエリビルダー 集計", "集計クエリ 構文", "集計クエリ 構築"]
---

<div id="building-a-query">
  #### クエリの作成
</div>

**クエリの制限について**

使用している [アクセスレベル](/ja/x-api/getting-started/about-x-api) に応じて、クエリには制限があります。

Pro アクセスをお持ちの場合、クエリは最大 512 文字まで指定できます。

Enterprise アクセスをお持ちの場合は、担当アカウントマネージャーまでご連絡ください。

**オペレーターの利用可否**

ほとんどのオペレーターはどの開発者でも利用できますが、一部のオペレーターは Enterprise アクセスが承認された方にのみ限定されています。各オペレーターがどのアクセスレベルで利用可能かは、次のラベルを用いて [list of operators](/ja/x-api/posts/search/integrate/build-a-query) テーブルで示しています。

* Core operators: すべての [プロジェクト](/ja/resources/fundamentals/projects) で利用可能
* Advanced operators: Enterprise アクセスを持つプロジェクトで利用可能 
   

<div id="operator-types-standalone-and-conjunction-required">
  #### 演算子の種類: 単独利用可能 と 連結必須
</div>

**単独利用可能な演算子** は、それ単体で、または他の任意の演算子（連結必須の演算子を含む）と組み合わせて使用できます。

たとえば、次のクエリは単独利用可能な #hashtag 演算子を使用しているため、有効です。

#xapiv2

**連結必須の演算子** は、クエリ内でそれ単体では使用できません。クエリ内に少なくとも 1 つの単独利用可能な演算子が含まれている場合にのみ使用できます。これは、これらの演算子だけを使用するとクエリが汎用的すぎて、非常に大量のポストにマッチしてしまうためです。

たとえば、次のクエリは連結必須の演算子のみを含んでいるため、サポートされません。

has:media
has:links OR is:retweet

&quot;X data&quot; のような単独利用可能な演算子を追加すると、そのクエリは正しく機能するようになります。 

&quot;X data&quot; has:mentions (has:media OR has:links)

<div id="boolean-operators-and-grouping">
  #### ブール演算子とグルーピング
</div>

1 つのクエリ内で複数の演算子を連結して使いたい場合、次のような方法が利用できます。

|     |     |
| :--- | :--- |
| **AND ロジック** | 演算子同士を半角スペースで続けて記述すると、ブールの「AND」ロジックとして扱われます。これは、両方の条件が満たされた場合にのみポストが一致することを意味します。たとえば、snow day #NoSchool は、snow と day という用語とハッシュタグ #NoSchool を含むポストに一致します。 |
| **OR ロジック** | 演算子同士を OR でつなげると OR ロジックになり、いずれかの条件が満たされた場合にポストが一致します。たとえば、grumpy OR cat OR #meme と指定すると、少なくとも grumpy または cat という用語、もしくはハッシュタグ #meme のいずれかを含むポストに一致します。 |
| **NOT ロジック（否定）** | キーワード（または任意の演算子）の前にダッシュ (-) を付けると、そのキーワード（演算子）を否定（NOT）できます。たとえば、cat #meme -grumpy は、ハッシュタグ #meme と用語 cat を含み、かつ grumpy という用語を含まないポストに一致します。よく利用されるクエリ句として -is:retweet があり、これはリツイートには一致せず、元のポストと引用ポスト、返信のみに一致します。すべての演算子は否定できますが、否定された演算子だけを単独で使うことはできません。 |
| **グルーピング** | 演算子同士をまとめるには、かっこを使用できます。たとえば、(grumpy cat) OR (#meme has:images) は、用語 grumpy と cat を含むポスト、または画像を含み、かつハッシュタグ #meme を含むポストを返します。AND が先に適用され、その後で OR が適用される点に注意してください。 |

**否定についての注意**

演算子 is:nullcast は、常に否定形（-is:nullcast）で使用する必要があります。

否定された演算子を単独で使用することはできません。

かっこでグルーピングした演算子の集合全体を一括で否定しないでください。代わりに、各演算子を個別に否定してください。たとえば、skiing -(snow OR day OR noschool) を使う代わりに、skiing -snow -day -noschool を使用することを推奨します。 

**演算の順序**

AND と OR の機能を組み合わせる場合、次の演算順序に従ってクエリが評価されます。

1. AND ロジックで接続された演算子が最初にまとめて評価される
2. 次に、OR ロジックで接続された演算子が適用される

例:

* apple OR iphone ipad は apple OR (iphone ipad) として評価されます
* ipad iphone OR android は (iphone ipad) OR android として評価されます

あいまいさをなくし、クエリが意図したとおりに評価されるようにするために、必要に応じてかっこを使って用語をまとめてください。 

例:

* (apple OR iphone) ipad
* iphone (ipad OR android)
   

**句読点、ダイアクリティカルマーク、大小文字の扱い**

アクセントやダイアクリティカルマークを含む文字を使ってキーワードやハッシュタグでクエリを指定した場合、その用語は、アクセントやダイアクリティカルマークを含む場合と、通常の文字のみで構成される場合の両方のポスト本文に一致します。たとえば、キーワード Diacrítica またはハッシュタグ #cumpleaños を指定するクエリは、*Diacrítica* や *#cumpleaños* に一致するだけでなく、チルダ付きの í やエニェなしの *Diacritica* や *#cumpleanos* にも一致します。

アクセントやダイアクリティカルマーク付きの文字は、通常の文字と同じように扱われ、単語境界としては扱われません。たとえば、キーワード cumpleaños を使ったクエリは、単語 *cumpleaños* を含むアクティビティのみに一致し、*cumplea*、*cumplean*、*os* を含むアクティビティには一致しません。

すべての演算子は、大文字と小文字を区別せずに評価されます。たとえば、クエリ cat は、*cat*、*CAT*、*Cat* のいずれかを含むポストに一致します。

[filtered stream](/ja/x-api/posts/filtered-stream) のマッチング動作は、ポスト件数の動作とは異なります。[filtered stream ルールを作成する](/ja/x-api/posts/filtered-stream#building-rules-for-filtered-stream) 場合、アクセントやダイアクリティカルマークを含むキーワードやハッシュタグは、同じくアクセントやダイアクリティカルマークを含む用語にのみ一致し、通常の文字だけを使った用語には一致しないことに注意してください。 

たとえば、filtered stream ルールにキーワード Diacrítica やハッシュタグ #cumpleaños を含めた場合、一致するのは *Diacrítica* および *#cumpleaños* のみであり、チルダ付きの í やエニェを含まない *Diacritica* や *#cumpleanos* には一致しません。

**具体性と効率性**

クエリの作成を始める際には、いくつか留意すべき点があります。

* 単一のキーワードや #ハッシュタグ のような、広範で単独のオペレーターだけをクエリに使用することは、一般的には推奨されません。このようなクエリは、膨大な数のポストにマッチしてしまう可能性が高いためです。より堅牢なクエリを作成することで、より絞り込まれたポストの集合にマッチさせることができ、ポスト件数の精度向上が期待できるため、より価値の高いインサイトを得るのに役立ちます。 
  * たとえば、クエリが happy というキーワードだけだった場合、1 日あたりおよそ 200,000～300,000 件のポストが返される可能性があります。
  * 条件オペレーターを追加すると結果を絞り込むことができます。たとえば、(happy OR happiness) place&#95;country:GB -birthday -is:retweet のようにします。
* 効率的なクエリを書くことは、クエリの文字数制限内に収めるという点でも有益です。文字数には、スペースやオペレーターを含むクエリ文字列全体が含まれます。
  * たとえば、次のクエリは 59 文字です: (happy OR happiness) place&#95;country:GB -birthday -is:retweet

**Quote Tweet に対するマッチング動作**

Post counts エンドポイントを使用する場合、オペレーターは引用元のオリジナルのポスト本文にはマッチせず、Quote Tweet に含まれている本文にのみマッチします。

ただし、[filtered stream](/ja/x-api/posts/filtered-stream) は、引用元のオリジナルのポスト本文と Quote Tweet 側の本文の両方に対してマッチすることに注意してください。
 

**クエリを反復的に構築する**

**クエリは早い段階から、こまめにテストする**

最初の 1 回で「正しい」結果を返すクエリを作成できることはほとんどありません。X 上には非常に多くの情報があり、最初は明らかでないものもありますし、上で説明したクエリ構文を、望むクエリにうまく対応させるのが難しい場合もあります。

クエリを構築する際には、作成途中のクエリを [Search Post](/ja/x-api/posts/search/introduction) エンドポイントのいずれかで定期的にテストし、そのクエリにマッチしているポストがあなたのユースケースに関連していることを確認することが重要です。

このセクションでは、次のクエリから開始し、テストで得られた結果に基づいて調整していきます。 

happy OR happiness

**結果を使ってクエリを絞り込む**

Search Posts でクエリをテストするときは、返されたポストを確認し、自分が期待し取得したいデータが含まれているかどうかを確かめてください。広いクエリと、ポストマッチのスーパーセットから開始することで、結果を確認しながらクエリを絞り込み、不要な結果を除外できるようになります。  

この例のクエリをテストしたところ、さまざまな言語のポストが返されることに気付きました。このような状況では、英語のポストのみを受け取りたいので、`lang:` オペレーターを追加します。

(happy OR happiness) lang:en

テストでは、誕生日を祝うポストが多数返されました。そのため、-birthday を否定キーワードオペレーターとして追加します。また、オリジナルのポストだけを受け取りたいので、否定オペレーター -is:retweet も追加します。

(happy OR happiness) lang:en -birthday -is:retweet

**必要に応じて包含するよう調整する**

Search Posts から期待しているデータが返ってこない場合、または返ってくるはずの既存ポストがあることを把握している場合は、目的のデータを除外してしまっている可能性のあるオペレーターを削除し、クエリを広げる必要があるかもしれません。 

今回の例では、自分のタイムラインに、求めている感情を表現しているにもかかわらずテスト結果に含まれていない他のポストがあることに気付きました。より幅広くカバーできるようにするため、excited と elated というキーワードを追加します。

(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet

**対象期間中の人気トレンド／バーストに合わせて調整する**

X 上のトレンドはすぐに変化します。クエリのメンテナンスは、継続的に行うべきアクティブなプロセスです。クエリを長期間使用する予定がある場合は、定期的に取得しているデータを確認し、調整が必要かどうか検討することをお勧めします。

この例では、「happy holidays」と人々にあいさつしているポストが結果に含まれ始めたことに気付きました。これらのポストを結果に含めたくないため、否定キーワード -holidays を追加します。

(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet -holidays 

クエリを十分にテストして反復改善できたら、そのクエリを Post counts エンドポイントに渡して、完全なポストペイロードではなく、ポストの件数だけを受け取れるようになります。

<div id="adding-a-query-to-your-request">
  #### リクエストにクエリを追加する
</div>

作成したクエリをリクエストに追加するには、`query` パラメータを使用する必要があります。ほかのクエリパラメータと同様に、作成したクエリが必ず HTTP エンコードされていることを確認してください。

以下は、cURL コマンドを使った例です。このコマンドを使用する場合は、必ず `$BEARER&#95;TOKEN` を自身の [Bearer Token](/ja/resources/fundamentals/authentication#oauth-2-0) に置き換えてください。

```
      curl https://api.x.com/2/tweets/counts/recent?query=cat%20has%3Amedia%20-grumpy&tweet.fields=created_at&max_results=100 -H "Authorization: Bearer $BEARER_TOKEN"
```

<div id="query-examples">
  #### クエリ例
</div>

**自然災害の追跡**

次のクエリは、2017 年にヒューストンを直撃したハリケーン Harvey について言及している、気象機関や観測所からのオリジナルのポストにマッチするものです。

HTTP エンコードを行わない場合、このクエリは次のようになります。

has:geo (from:NWSNHC OR from:NHC&#95;Atlantic OR from:NWSHouston OR from:NWSSanAntonio OR from:USGS&#95;TexasRain OR from:USGS&#95;TexasFlood OR from:JeffLindner1) -is:retweet

そして、HTTP エンコード、クエリパラメータ、および直近のポスト件数を取得する URI を含めると、このクエリは次のようになります。

https://api.x.com/2/tweets/counts/recent?query=-is%3Aretweet%20has%3Ageo%20(from%3ANWSNHC%20OR%20from%3ANHC&#95;Atlantic%20OR%20from%3ANWSHouston%20OR%20from%3ANWSSanAntonio%20OR%20from%3AUSGS&#95;TexasRain%20OR%20from%3AUSGS&#95;TexasFlood%20OR%20from%3AJeffLindner1)

**会話のセンチメントの確認**

次のルールは、ハッシュタグ *#nowplaying* を中心に展開している会話のセンチメントをよりよく理解するために使用できます。ただし、北米内で公開されたポストのみに限定しています。

HTTP エンコードを行わない場合、ポジティブ用とネガティブ用の 2 つの異なるクエリは次のようになります。

#nowplaying (happy OR exciting OR excited OR favorite OR fav OR amazing OR lovely OR incredible) (place&#95;country:US OR place&#95;country:MX OR place&#95;country:CA) -horrible -worst -sucks -bad -disappointing

#nowplaying (horrible OR worst OR sucks OR bad OR disappointing) (place&#95;country:US OR place&#95;country:MX OR place&#95;country:CA) -happy -exciting -excited -favorite -fav -amazing -lovely -incredible

そして、HTTP エンコード、クエリパラメータ、および直近のポスト件数を取得する URI を含めると、このクエリは次のようになります。

https://api.x.com/2/tweets/counts/recent?query=%23nowplaying%20(happy%20OR%20exciting%20OR%20excited%20OR%20favorite%20OR%20fav%20OR%20amazing%20OR%20lovely%20OR%20incredible)%20(place&#95;country%3AUS%20OR%20place&#95;country%3AMX%20OR%20place&#95;country%3ACA)%20-horrible%20-worst%20-sucks%20-bad%20-disappointing

https://api.x.com/2/tweets/counts/recent?query=%23nowplaying%20(horrible%20OR%20worst%20OR%20sucks%20OR%20bad%20OR%20disappointing)%20(place&#95;country%3AUS%20OR%20place&#95;country%3AMX%20OR%20place&#95;country%3ACA)%20-happy%20-exciting%20-excited%20-favorite%20-fav%20-amazing%20-lovely%20-incredible

**特定のポスト注釈に関連するポストの検索**

このルールは、猫ではないペットの画像を含み、かつポスト内で判別された言語が日本語であるオリジナルのポストをフィルタリングするために作成されたものです。これを行うために、[ポスト注釈](/ja/x-api/fundamentals/post-annotations) 機能を利用するための `context:` オペレーターを使用しました。まず、[Post lookup](/ja/x-api/posts/lookup/introduction) エンドポイントと `tweet.fields=context_annotations` フィールドパラメータを使用して、クエリで使用する必要がある domain.entity の ID を特定しました。

* 猫に関連するポストは、**domain** 66 (Interests and Hobbies カテゴリ) と entity 852262932607926273 (Cats) を返します。
* ペットに関連するポストは、**domain** 65 (Interests and Hobbies Vertical) と entity 852262932607926273 (Pets) を返します。

HTTP エンコードを行わない場合、このクエリは次のようになります。

context:65.852262932607926273 -context:66.852262932607926273 -is:retweet has:images lang:ja

そして、HTTP エンコード、クエリパラメータ、および直近のポスト件数を取得する URI を含めると、このクエリは次のようになります。

https://api.x.com/2/tweets/counts/recent?query=context%3A65.852262932607926273%20-context%3A66.852262932607926273%20-is%3Aretweet%20has%3Aimages%20lang%3Aja

<div id="operators">
  #### オペレーター
</div>

| 演算子                    | 種類            | 利用可能範囲 | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| :--------------------- | :------------ | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `keyword`              | 単独            | Core   | ポスト本文内のキーワードにマッチします。これはトークン化に基づくマッチであり、指定したキーワード文字列はポスト本文のトークン化されたテキストと照合されます。トークン化では、句読点、記号、および Unicode 基本多言語面のセパレータ文字などに基づいて単語が分割されます。たとえば、「I like coca-cola」というテキストを含むポストは、次のトークンに分割されます: I, like, coca, cola。これらのトークンが、クエリで使用したキーワード文字列と照合されます。句読点（例: coca-cola）、記号、またはセパレータ文字を含む文字列にマッチさせるには、キーワードを二重引用符で囲む必要があります。例: `pepsi OR cola OR "coca cola"`                                                                                |
| `emoji`                | 単独            | Core   | ポスト本文内の絵文字に一致します。キーワードと同様に、絵文字もトークン単位でマッチングされ、指定した絵文字がポスト本文のトークン化されたテキストと照合されます。絵文字にバリアントがある場合は、その絵文字をクエリに追加する際に二重引用符で囲む必要があります。例: `(😃 OR 😡) 😬`                                                                                                                                                                                                                                                                                       |
| `"exact phrase match"` | 単独型           | コア     | ポスト本文内のフレーズを完全一致で検索します。例: `("X API" OR #v2) -"recent counts"`                                                                                                                                                                                                                                                                                                                                                                            |
| `#`                    | 単独            | Core   | ハッシュタグがポスト内で認識済みのエンティティである場合、そのハッシュタグを含む任意のポストに一致します。このオペレーターはトークン化されたマッチではなく完全一致を行います。つまり、ルール `#thanku` はハッシュタグ #thanku が完全に一致するポストにはマッチしますが、ハッシュタグ #thankunext を含むポストにはマッチしません。例: `#thankunext #fanart OR @arianagrande`                                                                                                                                                                                                               |
| `@`                    | スタンドアロン       | コア     | 指定したユーザー名が認識済みのエンティティ（@文字を含む）の場合、そのユーザー名に言及している任意のポストにマッチします。例: `(@XDevelopers OR @API) -@X`                                                                                                                                                                                                                                                                                                                                             |
| `$`                    | 単独            | 高度     | 指定された「キャッシュタグ」を含むポストにマッチします（トークンの先頭文字が「$」である場合）。キャッシュタグ演算子は、本文からキャッシュタグを抽出しようとするのではなく、キャッシュタグをマッチさせるために X の「symbols」エンティティ抽出に依存している点に注意してください。例: `$twtr OR @XDevelopers -$fb`                                                                                                                                                                                                                                                            |
| `from:`                | 単体            | Core   | 特定のユーザーからの任意のポストにマッチします。値には、ユーザー名（先頭の @ 文字を除く）またはユーザーの数値のユーザーIDのいずれか一方を指定できます。`from:` 演算子ごとに指定できるユーザー名/ID は 1 つだけです。例: `from:XDevelopers OR from:API -from:X`                                                                                                                                                                                                                                                                            |
| `to:`                  | 単体            | Core   | 特定のユーザーへの返信である任意のポストにマッチします。値には、ユーザー名（@ 文字を含めない）またはそのユーザーの数値のユーザーIDのいずれかを指定できます。`to:` 演算子ごとに指定できるユーザー名/ID は1つだけです。例: `to:XDevelopers OR to:API -to:X`                                                                                                                                                                                                                                                                                    |
| `url:`                 | 単体            | コア     | 有効な形式のURLを含むポストに対して、トークン単位のマッチを実行します。このオペレーターは、`url` または `expanded_url` フィールドのいずれの内容にもマッチできます。たとえば、&quot;You should check out X Developer Labs: [https://t.co/c0A36SWil4](https://t.co/c0A36SWil4)&quot;（短縮URLが [https://developer.x.com](https://developer.x.com) にリダイレクトされる）というポストは、次の両方のルールにマッチします: `from:XDevelopers url:"https://developer.x.com"` および `from:XDevelopers url:"https://t.co"`。句読点や特殊文字を含むトークンやフレーズは、二重引用符で囲む必要があります。 |
| `retweets_of:`         | 単体            | コア     | 指定したユーザーのポストをリツイートしたポストにマッチします。値には、ユーザー名（@ 文字を除く）または数値のユーザーIDのいずれかを指定できます。`retweets_of:` オペレーターごとに指定できるユーザー名/IDは 1 つだけです。例: `retweets_of:XDevelopers OR retweets_of:API`                                                                                                                                                                                                                                                                 |
| `context:`             | 単体            | Core   | 特定のドメイン id／エンティティ id の組み合わせを持つポストにマッチします。`context:` 演算子ごとに指定できるドメイン id／エンティティ id の組み合わせは 1 つだけです。例: `context:domain_id.entity_id`。OR 演算子を使用して複数のドメイン／エンティティの組み合わせをまとめて指定できます: `(context:47.113922 9372198469633 OR context:11.1088514520308342784)`                                                                                                                                                                                      |
| `entity:`              | 単独            | コア     | 特定のエンティティの文字列値を持つポストにマッチします。指定できる `entity:` 演算子は 1 つだけです。例: `entity:"string declaration of entity/place"`。これは recent search でのみ利用可能である点に注意してください。                                                                                                                                                                                                                                                                                        |
| `conversation_id:`     | 単独            | コア     | 同じ会話IDを持つポストにマッチします。会話IDは、その会話を開始したポストのidに設定されます。ポストへの返信が投稿されると、返信への返信も含めて、そのJSON ペイロードに`conversation_id`が追加されます。`conversation_id:`オペレーターごとに指定できる会話IDは1つだけです。例: `conversation_id:1334987486343299072 (from:XDevelopers OR from:API)`                                                                                                                                                                                                     |
| `list:`                | スタンドアロン       | 高度     | 指定したリストのメンバーであるユーザーによって投稿されたポストに一致します。たとえば、@XDevelopers と @API がリスト 123 のメンバーであり、クエリに `list:123` を含めた場合、レスポンスにはこれらのアカウントによって公開されたポストのみが含まれます。List ID は List lookup エンドポイントを使用して取得できます。例: `list:123`                                                                                                                                                                                                                                      |
| `place:`               | 単独使用          | 高度     | 指定した場所または X の place ID がタグ付けされたポストにマッチします。複数語から成る地名（“New York City”、“Palo Alto”）は引用符で囲む必要があります。`place:` 演算子ごとに指定できる場所は 1 つだけです。注: X の place ID を取得する方法については、GET geo/search standard v1.1 エンドポイントを参照してください。例: `place:"new york city" OR place:seattle OR place:fd70c22040963ac7`                                                                                                                                                          |
| `place_country:`       | 単独            | 上級     | タグ付けされた場所/ロケーションに関連付けられた国コードが、指定された ISO alpha-2 文字コードと一致するポストにマッチします。有効な ISO コードの一覧は Wikipedia で確認できます。`place_country:` オペレーターごとに指定できる ISO コードは 1 つだけです。例: `place_country:US OR place_country:MX OR place_country:CA`                                                                                                                                                                                                                    |
| `point_radius:`        | スタンドアロン       | 上級     | 存在する場合はポストの `place.geo.coordinates` オブジェクトに対して、また X では場所ジオポリゴンに対してマッチし、その場所ポリゴンが定義された領域内に完全に含まれている場合にマッチします。`point_radius:[longitude latitude radius]`。サポートされている半径の単位はマイル (mi) とキロメートル (km) です。半径は 25mi 未満である必要があります。経度は ±180 の範囲です。緯度は ±90 の範囲です。すべての座標は 10 進度表記です。ルールの引数は角括弧内に含め、スペース区切りで指定します。例: `point_radius:[2.355128 48.861118 16km] OR point_radius:[-41.287336 174.761070 20mi]`                                                |
| `bounding_box:`        | 単独使用可         | 上級     | 存在する場合はポストの `place.geo.coordinates` オブジェクトに対してマッチし、X では Place のジオポリゴンに対してマッチし、Place ポリゴンが指定した領域内に完全に含まれている場合に一致します。`bounding_box:[west_long south_lat east_long north_lat]`。バウンディングボックスの幅と高さは 25mi 未満である必要があります。経度は ±180 の範囲です。緯度は ±90 の範囲です。すべての座標は十進度数で指定します。ルールの引数は角括弧内に含め、スペース区切りで指定します。例: `bounding_box:[-105.301758 39.964069 -105.178505 40.09455]`                                                                               |
| `is:retweet`           | 他演算子との併用必須    | コア     | 指定されたルールのその他の条件に一致するリポストにマッチします。このオペレーターは、リポストボタンを使って生成されたものなどの、通常のリポストのみを対象とします。引用ポストはこのオペレーターではマッチしません。例: `data @XDevelopers -is:retweet`                                                                                                                                                                                                                                                                                              |
| `is:reply`             | 他の演算子との併用が必要  | コア     | ルールに一致する明示的な返信のみを配信します。クエリに一致する返信を配信対象から除外するために、否定形で使用することもできます。注: このオペレーターは filtered stream エンドポイントでも利用できます。filtered stream で使用する場合、このオペレーターは元のポストへの返信、引用ポスト内の返信、およびリツイート内の返信に一致します。例: `from:XDevelopers is:reply`                                                                                                                                                                                                                      |
| `is:quote`             | AND との併用が必須   | コア     | コメント付きポストとも呼ばれる、すべての引用ポストを返します。例：`"sentiment analysis" is:quote`                                                                                                                                                                                                                                                                                                                                                                         |
| `is:verified`          | 他の条件との併用が必須   | コア     | X によって認証済みのユーザーが作成したポストのみを返します。例: `#nowplaying is:verified`                                                                                                                                                                                                                                                                                                                                                                              |
| `-is:nullcast`         | 他演算子との併用必須    | 上級     | `"source":"Twitter for Advertisers (legacy)"` または `"source":"Twitter for Advertisers"` を持ち、ads.x.com 上でのプロモーション専用として作成されたポストを除外します。このオペレーターは必ず否定形で使用する必要があります。Nullcast されたポストの詳細については、ポストの可用性に関するページを参照してください。例: `"mobile games" -is:nullcast`                                                                                                                                                                                           |
| `has:hashtags`         | 他の演算子との併用が必須  | コア     | 少なくとも 1 つのハッシュタグを含むポストと一致します。例: `from:XDevelopers -has:hashtags`                                                                                                                                                                                                                                                                                                                                                                         |
| `has:cashtags`         | 他の検索条件との併用が必須 | 高度     | 先頭に「$」が付くキャッシュタグ記号（例: `$tag`）を含むポストにマッチします。例: `#stonks has:cashtags`                                                                                                                                                                                                                                                                                                                                                                     |
| `has:links`            | 他条件との併用必須     | Core   | このオペレーターは、ポスト本文中にリンクやメディアが含まれるポストにマッチします。例: `from:XDevelopers announcement has:links`                                                                                                                                                                                                                                                                                                                                                    |
| `has:mentions`         | 他の演算子との併用が必須  | Core   | 別のXユーザーをメンションしているポストにマッチします。例: `#nowplaying has:mentions`                                                                                                                                                                                                                                                                                                                                                                                |
| `has:media`            | 他の演算子との併用が必須  | コア     | X によって写真、GIF、動画などのメディアオブジェクトを含むと判定されたポストにマッチします。Periscope で作成されたメディアや、他のメディアホスティングサイトへのリンクを含むポストにはマッチしません。例: `(kittens OR puppies) has:media`                                                                                                                                                                                                                                                                                            |
| `has:images`           | 他の条件との併用が必須   | コア     | 認識済みの画像へのURLを含むポストにマッチします。例: `#meme has:images`                                                                                                                                                                                                                                                                                                                                                                                          |
| `has:videos`           | 他の演算子との併用が必須  | Core   | X に直接アップロードされたネイティブ動画を含むポストにマッチします。Periscope で作成された動画や、他の動画ホスティングサイトへのリンクを含むポストにはマッチしません。例: `#icebucketchallenge has:videos`                                                                                                                                                                                                                                                                                                             |
| `has:geo`              | 併用必須          | 高度     | X ユーザーによって、そのポスト固有のジオロケーションデータが付与されているポストにマッチします。これは、対応する表示名、ジオポリゴン、その他のフィールドを持つ X の place として指定された場所情報、またはまれなケースとして緯度・経度の座標のいずれかです。注: place（ポストの位置情報）にマッチするオペレーターは、オリジナルのポストのみを対象とします。リツイートには place データは含まれません。例: `recommend #paris has:geo -bakery`                                                                                                                                                                                    |
| `lang:`                | AND 併用必須      | コア     | X によって特定の言語であると分類されたポストにマッチします（ポストが分類されている場合に限ります）。各ポストは現在 1 つの言語にのみ分類されるため、複数の言語を AND 条件で組み合わせても結果は返されません。`lang:` オペレーターごとに指定できるのは、1 つの BCP 47 言語識別子のみです。注記: 言語分類を行えない場合、返される結果は `und`（undefined を意味します）になります。例: `recommend #paris lang:en`                                                                                                                                                                                             |

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| アムハラ語: **am** | ドイツ語: **de** | マラヤーラム語: **ml** | スロバキア語: **sk** |
| アラビア語: **ar** | ギリシャ語: **el** | ディベヒ語（モルディブ語）: **dv** | スロベニア語: **sl** |
| アルメニア語: **hy** | グジャラート語: **gu** | マラーティー語: **mr** | ソラニー・クルド語: **ckb** |
| バスク語: **eu** | ハイチ・クレオール語: **ht** | ネパール語: **ne** | スペイン語: **es** |
| ベンガル語: **bn** | ヘブライ語: **iw** | ノルウェー語: **no** | スウェーデン語: **sv** |
| ボスニア語: **bs** | ヒンディー語: **hi** | オリヤー語: **or** | タガログ語: **tl** |
| ブルガリア語: **bg** | ラテン文字表記のヒンディー語: **hi-Latn** | パンジャブ語: **pa** | タミル語: **ta** |
| ビルマ語: **my** | ハンガリー語: **hu** | パシュトー語: **ps** | テルグ語: **te** |
| クロアチア語: **hr** | アイスランド語: **is** | ペルシア語: **fa** | タイ語: **th** |
| カタロニア語: **ca** | インドネシア語: **in** | ポーランド語: **pl** | チベット語: **bo** |
| チェコ語: **cs** | イタリア語: **it** | ポルトガル語: **pt** | 繁体字中国語: **zh-TW** |
| デンマーク語: **da** | 日本語: **ja** | ルーマニア語: **ro** | トルコ語: **tr** |
| オランダ語: **nl** | カンナダ語: **kn** | ロシア語: **ru** | ウクライナ語: **uk** |
| 英語: **en** | クメール語: **km** | セルビア語: **sr** | ウルドゥー語: **ur** |
| エストニア語: **et** | 韓国語: **ko** | 簡体字中国語: **zh-CN** | ウイグル語: **ug** |
| フィンランド語: **fi** | ラオ語: **lo** | シンド語: **sd** | ベトナム語: **vi** |
| フランス語: **fr** | ラトビア語: **lv** | シンハラ語: **si** | ウェールズ語: **cy** |
| ジョージア語: **ka** | リトアニア語: **lt** |     |