---
title: 直近のポスト検索
sidebarTitle: 直近のポスト検索
keywords: ["直近のポスト件数クイックスタート", "直近の件数クイックスタート", "ポスト数クイックスタート", "件数クイックスタート", "直近の検索件数"]
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-recent-post-counts-endpoint">
  ### 最近のポスト件数エンドポイントの利用を開始する
</div>

このクイックスタートガイドでは、HTTP リクエストを送信できる GUI ツールである Postman を使用して、最近のポスト件数エンドポイントへの最初のリクエストを送信する手順を説明します。

さまざまなプログラミング言語で書かれたサンプルコードを確認したい場合は、[X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) の GitHub リポジトリをご覧ください。 

<Note>
  ### 前提条件

  このガイドを完了するには、リクエストを認証するための [keys and tokens](/ja/resources/fundamentals/authentication) のセットが必要です。これらのキーとトークンは、次の手順に従うことで生成できます。

  * [開発者アカウントに登録](https://developer.x.com/en/apply-for-access) し、承認を受ける必要があります。
  * Developer ポータルで [プロジェクト](/ja/resources/fundamentals/projects) と、それに関連付けられた [developer App](/ja/resources/fundamentals/developer-apps) を作成します。
  * アプリの「Keys and tokens」ページに移動し、必要な認証情報を生成します。すべての認証情報は安全な場所に保存してください。
</Note>

<div id="steps-to-build-a-recent-post-counts-request">
  #### 最新ポスト件数エンドポイントへのリクエストを作成する手順
</div>

**ステップ1：ツールまたはライブラリを用意する**

このエンドポイントへリクエストを送信するために使用できるツール、コード例、ライブラリはいくつかありますが、ここではプロセスを簡略化するために Postman ツールを使用します。

X API v2 の Postman コレクションを自分の環境に読み込むには、次のボタンをクリックしてください。

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X API v2 を Postman に追加
</Button>

Postman に X API v2 コレクションが読み込まれたら、Post counts &gt; Recent Post counts リクエストに移動します。

**ステップ2：リクエストを認証する**

X API へ正しくリクエストを送信するには、自分に権限があることを確認する必要があります。このエンドポイントでそれを行うには、[OAuth 2.0 App-Only](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) 認証方式を使ってリクエストを認証する必要があります。

キーとトークン、特に [App Access Token](/ja/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)（App-only Bearer Token とも呼ばれます）を Postman に追加しなければなりません。Postman の右上にある環境ドロップダウンで “X API v2” という名前の環境を選択し、「initial value」と「current value」フィールドにキーとトークンを追加します（環境ドロップダウンの横にある目のアイコンをクリックします）。

これを正しく設定すると、この変数はリクエストの Authorization タブに自動的に反映されます。
 

**ステップ3：クエリを作成する**

各「recent」ポスト件数リクエストには、1つの[query](/ja/x-api/posts/counts/integrate/build-a-query) が必要です。この例では、@XDevelopers アカウントによってポストされたポストにマッチするクエリを使用します。このクエリでは from: 演算子を使用し、その値を XDevelopers（大文字小文字は区別されません）に設定します。

`from:XDevelopers`

Postman で &quot;Params&quot; タブに移動し、このクエリ、またはカンマ区切りのポスト ID の文字列を、`query` パラメータの &quot;Value&quot; 列に入力します。

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| `query` | from:XDevelopers | 最新ポスト件数エンドポイントに送信するクエリ |

**ステップ4（任意）：リクエストの粒度を指定する**

ステップ3の後に「Send」ボタンをクリックすると、デフォルトの最新ポスト件数、つまり直近7日間の1時間ごとの集計が取得されます。最新ポスト件数を日ごとに取得したい場合は、granularity パラメータに day という値を追加する必要があります。

Postman で &quot;Params&quot; タブに移動し、granularity パラメータの &quot;Value&quot; 列に day を入力します。

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| granularity | day | ポスト件数結果の粒度。有効な値は day、hour、minute です。 |

「Send」ボタンの横に、次の URL が表示されているはずです。

`https://api.x.com/2/tweets/counts/recent?query=from%3AXDevelopers&granularity=day`

**ステップ5：リクエストを送信し、レスポンスを確認する**

すべての設定が完了したら、「Send」ボタンをクリックすると、次のレスポンスが返ってきます。

```
{
   "data": [
       {
           "end": "2021-06-16T00:00:00.000Z",
           "start": "2021-06-15T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-17T00:00:00.000Z",
           "start": "2021-06-16T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-06-18T00:00:00.000Z",
           "start": "2021-06-17T00:00:00.000Z",
           "tweet_count": 2
       },
       {
           "end": "2021-06-19T00:00:00.000Z",
           "start": "2021-06-18T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-20T00:00:00.000Z",
           "start": "2021-06-19T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-21T00:00:00.000Z",
           "start": "2021-06-20T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-22T00:00:00.000Z",
           "start": "2021-06-21T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-06-23T00:00:00.000Z",
           "start": "2021-06-22T00:00:00.000Z",
           "tweet_count": 2
       }
   ],
   "meta": {
       "total_tweet_count": 6
   }
}
```
