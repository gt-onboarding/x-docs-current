---
title: はじめに
sidebarTitle: はじめに
keywords: ["ダイレクトメッセージの取得", "DMの取得", "DMを取得", "ダイレクトメッセージの取得", "DM API", "メッセージの取得"]
---

import { Button } from '/snippets/ja/button.mdx';

このダイレクトメッセージ参照機能の最初のリリースには、次の 3 つの GET メソッドが含まれます。

* **GET /2/dm&#95;conversations/with/:participant&#95;id/dm&#95;events** - 1 対 1 の会話に関連付けられたダイレクトメッセージイベントを取得します。`:participant&#95;id` パスパラメータは、このリクエストを送信している認証済みユーザーと会話しているアカウントのユーザー ID です。 
* **GET /2/dm&#95;conversations/:dm&#95;conversation&#95;id/dm&#95;events** - `:dm&#95;conversation&#95;id` パスパラメータで指定された特定の会話 ID に関連付けられたダイレクトメッセージイベントを取得します。 
* **GET /2/dm&#95;events** - ユーザーに関連付けられたダイレクトメッセージイベントを、1 対 1 およびグループ会話の両方を含めて取得します。最大 30 日前までのイベントが利用可能です。  

ダイレクトメッセージイベント ID は v1.1 と v2（および X App）間で共通であるため、単一イベントを取得する v1.1 メソッドは、これらの新しい v2 エンドポイントと併せて使用できます。また、Enterprise および Premium Account Activity API は v2 の 1 対 1 メッセージをサポートしていますが、グループ会話はまだサポートしていない点にも注意してください。   

このリリースでは 3 種類のイベントタイプがサポートされており、これらのエンドポイントはそれらを絞り込むためのクエリパラメータをサポートします。

* **MessageCreate** - メッセージが作成されたイベント。 
* **ParticipantsJoin** - 新しい参加者が会話に参加したイベント。 
* **ParticipantsLeave** - 参加者が会話から退出したイベント。 

GET メソッドには、ユーザーあたり 15 分間に 300 リクエストというレート制限があります。このレート制限は、これらの GET エンドポイント間で共有されます。

Direct Message v2 エンドポイントを使用してユーザーに代わってリクエストを行うため、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) のいずれかで認証する必要があります。この際、あなたの X App を承認したユーザーに紐づくアクセストークンを使用します。OAuth 1.0a でこれらのアクセストークンを生成するには、[3-legged OAuth フロー](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を使用できます。OAuth 2.0 でユーザーアクセストークンを生成するには、[Authorization Code with PKCE フロー](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) を使用できます。

**アカウント設定**

これらのエンドポイントにアクセスするには、以下が必要です。

* 承認済みの [開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)。
* [プロジェクト](/ja/resources/fundamentals/projects) 内にある [開発者アプリ](/ja/resources/fundamentals/developer-apps) のキーとトークンを使用して認証すること。 

X API v2 エンドポイントへのアクセス方法については、[はじめにガイド](/ja/x-api/getting-started/getting-access)を参照してください。

<div className="flex space-x-2">
  <Button href="/ja/x-api/direct-messages/lookup/quickstart">
    クイックスタート
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    サンプルコード
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    Postman で実行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets&method=get">
    API Explorer で試す
  </Button>
</div>
