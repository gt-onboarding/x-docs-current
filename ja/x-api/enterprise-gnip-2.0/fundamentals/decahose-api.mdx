---
title: Decahose API
keywords: ["Decahose", "10% stream", "decahose API", "enterprise decahose", "10% sampled stream", "enterprise streaming"]
---

<Note>
  このエンドポイントは、ポスト編集に関するメタデータを含むように更新されました。これらのメタデータの詳細については、[&quot;ポストの編集&quot; に関する基本事項ページ](/ja/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets)を参照してください。 
</Note>

<div id="decahose-stream">
  ### Decahose ストリーム
</div>

[Enterprise](https://developer.x.com/en/products/x-api/enterprise)

*これは、当社のマネージドアクセスレベルでのみ利用可能な Enterprise API です。この API を使用するには、まず Enterprise 営業チームを通じてアカウントを開設する必要があります。 [詳細はこちら](https://developer.x.com/en/products/x-api/enterprise)*

Decahose は、ストリーミング接続を通じて、リアルタイムの X Firehose の 10% のランダムサンプルを配信します。これは、X によって Firehose に送信されるデータの低レイテンシー配信を維持しながら、データをランダムに選択するリアルタイムサンプリングアルゴリズムによって実現されています。

以下は、Decahose で利用可能な機能の一部です。

* **拡張・強化された URL:** - 短縮 URL を完全に展開し、追加のメタデータ（ページタイトルおよび説明文）を提供
* **ストリームのパーティション分割** - 2 つのパーティションに分割され、それぞれが Decahose ストリームのトラフィック量の 50% を保持
* **信頼性の向上** - バックエンドシステムの地理的分散

注意：このデータは一括で配信され、追加のフィルタリング（例：キーワード）はサポートされていません。

`ENTERPRISE`

<div id="streaming-likes">
  ### いいねのストリーミング
</div>

*これは、当社が提供するマネージドアクセスレベル内でのみ利用できる Enterprise API です。この API を利用するには、まず当社の Enterprise セールスチームに連絡し、アカウントを設定する必要があります。 [詳細はこちら](https://developer.x.com/en/products/x-api/enterprise)*

いいねは、誰がポストに「いいね」しているかのインサイトを提供し、正確ないいね数を把握できるようにします。Gnip の Firehose と Decahose は、Gnip 経由で配信されるポストに関連する公開いいねを配信できます。これにより、ポストに関連付けられたリアルタイムの公開エンゲージメントおよびオーディエンスメトリクスが得られます。
 

**Likes の利用開始**

いいねデータを取得する準備をする際には、次の点を理解しておく必要があります。

* いいねは独立した別個のストリームで配信されます
* いいねは従来「Favorites」と呼ばれてきました。ネイティブ拡張フォーマットのペイロードでは、この名称が維持されています
* ストリームには公開いいねのみが含まれます
  * 「公開」とは、いいねしたユーザー、ポストの作成者、およびポストがすべてプラットフォーム上で公開状態であることを意味します
* いいねは Retweet と非常によく似ており、公開されたエンゲージメントシグナルを表します
* ペイロード要素には次が含まれます:
  * 元の Post オブジェクト
  * 元のポストを作成したアクターオブジェクト
  * いいねアクションを実行したアクターオブジェクト
* オリジナルのコンテンツのみが「いいね」可能です
  * Retweet は「いいね」できません。Retweet へのいいねは元のポストに適用されます
  * 引用ポストには「いいね」することが&#95;可能&#95;です
* いいねアクティビティには、該当する Gnip Enrichments（購入/適用されている場合）が含まれます
* 対応製品 / 機能
  * いいねストリームは Backfill をサポートします（購入/適用されている場合）
  * いいねストリームには Replay サポートはありません
  * いいねに対する Search や Historical でのサポートはありません
  * いいねサポートを PowerTrack に追加する予定は、現時点ではありません

**Decahose**

* Decahose で配信される 10% サンプルポストについては、ストリームには該当する公開いいねが 100% 含まれます
* **パーティション数:** 2
* **URL 構造**
  * https://gnip-stream.x.com/stream/sample10-likes/accounts/&lt;accountName&gt;/publishers/twitter/&lt;streamLabel&gt;.json?partition=1

**ネイティブ拡張フォーマットのペイロード**

```json
{
   "id":"43560406e0ad9f68374445f5f30c33fc",
   "created_at":"Thu Dec 01 22:27:39 +0000 2016",
   "timestamp_ms":1480631259353,
   "favorited_status":{
      "created_at":"Thu Dec 01 22:27:16 +0000 2016",
      "id":804451830033948672,
      "id_str":"804451830033948672",
      "text":"@kafammheppduman",
      "source":"\u003ca href=\"http:\/\/x.com\/download\/android\" rel=\"nofollow\"\u003eX for Android\u003c\/a\u003e",
      "truncated":false,
      "in_reply_to_status_id":803694205163814912,
      "in_reply_to_status_id_str":"803694205163814912",
      "in_reply_to_user_id":2855759795,
      "in_reply_to_user_id_str":"2855759795",
      "in_reply_to_screen_name":"kafammheppduman",
      "user":{
         "id":2855759795,
         "id_str":"2855759795",
         "name":"delirdim kanka",
         "screen_name":"kafammheppduman",
         "location":"sanane",
         "url":"http:\/\/instagram.com\/kafammheppduman",
         "description":"Manit @GalatasaraySk \ud83d\udc9e",
         "translator_type":"none",
         "protected":false,
         "verified":false,
         "followers_count":3702,
         "friends_count":607,
         "listed_count":1,
         "favourites_count":113338,
         "statuses_count":389,
         "created_at":"Sat Nov 01 22:38:25 +0000 2014",
         "utc_offset":null,
         "time_zone":null,
         "geo_enabled":true,
         "lang":"tr",
         "contributors_enabled":false,
         "is_translator":false,
         "profile_background_color":"C0DEED",
         "profile_background_image_url":"",
         "profile_background_image_url_https":"",
         "profile_background_tile":false,
         "profile_link_color":"1DA1F2",
         "profile_sidebar_border_color":"C0DEED",
         "profile_sidebar_fill_color":"DDEEF6",
         "profile_text_color":"333333",
         "profile_use_background_image":true,
       "Profile_image_url": "http:\/\/pbs.twimg.com\/profile_images\/804421763945861121\/v3bp9pnq_normal.jpg",
         "Profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/804421763945861121\/v3bp9pnq_normal.jpg",
         "profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2855759795\/1480630085",
         "default_profile":true,
         "default_profile_image":false,
         "following":null,
         "follow_request_sent":null,
         "notifications":null
      },
      "geo":null,
      "coordinates":null,
      "place":null,
      "contributors":null,
      "is_quote_status":false,
      "retweet_count":0,
      "favorite_count":0,
      "entities":{
         "hashtags":[],
         "urls":[],
         "user_mentions":[
            {
               "screen_name":"kafammheppduman",
               "name":"delirdim kanka",
               "id":2855759795,
               "id_str":"2855759795",
               "indices":[
                  0,
                  16
               ]
            }
         ],
         "symbols":[]
      },
      "favorited":false,
      "retweeted":false,
      "filter_level":"low",
      "lang":"und"
   },
   "user":{
      "id":774146932365070336,
      "id_str":"774146932365070336",
      "name":"Uyuyan Adam",
      "screen_name":"saykoMenn",
      "location":"Tarsus, T\u00fcrkiye",
      "url":"http:\/\/connected2.me\/pmc1i",
      "description":null,
      "translator_type":"none",
      "protected":false,
      "verified":false,
      "followers_count":414,
      "friends_count":393,
      "listed_count":0,
      "favourites_count":9868,
      "statuses_count":370,
      "created_at":"Fri Sep 09 07:26:26 +0000 2016",
      "utc_offset":null,
      "time_zone":null,
      "geo_enabled":false,
      "lang":"tr",
      "contributors_enabled":false,
      "is_translator":false,
      "profile_background_color":"F5F8FA",
      "profile_background_image_url":"",
      "profile_background_image_url_https":"",
      "profile_background_tile":false,
      "profile_link_color":"1DA1F2",
      "profile_sidebar_border_color":"C0DEED",
      "profile_sidebar_fill_color":"DDEEF6",
      "profile_text_color":"333333",
      "profile_use_background_image":true,
      "Profile_image_url": "http:\/\/pbs.twimg.com\/profile_images\/802992813424201728\/VMzcTL3x_normal.jpg",
      "Profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/802992813424201728\/VMzcTL3x_normal.jpg",
      "profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/774146932365070336\/1480283382",
      "default_profile":true,
      "default_profile_image":false,
      "following":null,
      "follow_request_sent":null,
      "notifications":null
   }
}
```

**「いいね」削除 / 「いいね」解除ペイロード**

```json
{
   "delete":{
      "favorite":{
         "tweet_id":696615514970279937,
         "tweet_id_str":"696615514970279937",
         "user_id":2510287578,
         "user_id_str":"2510287578"
      },
      "timestamp_ms":"1480437031205"
   }
}
```

<div id="guides">
  ## ガイド
</div>

<div id="recovery-and-redundency">
  ### リカバリと冗長性
</div>

**概要** 

高ボリュームのリアルタイムなポストをストリーミングする場合、データの信頼性と完全性の両方を高めるための一連のベストプラクティスが存在します。リアルタイムデータを取り込む際には、接続時間を最大化することが基本的な目標となります。切断が発生した場合には、それを自動的に検知して再接続することが重要です。再接続後には、バックフィルが必要な期間が存在しないかどうかを評価する必要があります。これらの詳細を管理し、リアルタイムのポストを取り込むコンポーネントは、ネットワーク、データストア、サーバー、ストレージといった要件を持つシステム全体の一部に過ぎません。こうしたシステムの複雑さを踏まえると、もう一つのベストプラクティスはストリーミング環境を分けることであり、少なくとも開発/テスト用と本番用でストリームを分離することです。

Decahose には、これらの取り組みを支援する一連の機能が備わっています。

1. 複数の環境をサポートするために、アカウントに対して [Additional Streams](#AdditionalStreams) をデプロイできます。これらのストリームは互いに独立しており、それぞれを区別するための異なる `stream_label` を持ちます。
2. 接続の維持を支援するために、各 Decahose ストリームは [Redundant Connections](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#additional-streams) をサポートします。最も一般的なアーキテクチャは、1 つのストリームに 2 つの接続があり、クライアント側には 2 つの独立したコンシューマが存在する構成であり、理想的にはそれぞれ異なるネットワーク上に配置されます。この設計により、クライアント側のネットワーク、サーバー、データストア経路にわたって冗長性を確保できます。各接続ではデータの完全なコピーが提供されるため、クライアント側は重複データを許容し、管理できる必要がある点に注意してください。
3. 「**heartbeat**」が 10 秒ごとに送信されます。ただし、Decahose ストリームではデータボリュームが十分に高いため、数秒といった短い時間であってもポストがまったく流れないことは、接続の問題を示している可能性があります。そのため、「データの無音状態（data silence）」と heartbeat の欠如の両方を切断検知に利用できます。

切断は必ず発生するものなので、Decahose ストリームには専用の [Recovery](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#overview) 機能と [Backfill](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#backfill) 機能が用意されており、切断やその他の運用上の問題により取り逃がしたデータの復旧を支援します。

<div id="additional-streams">
  #### 追加ストリーム
</div>

追加の Decahose ストリームを用意することは、ソリューションの信頼性を高めるもう 1 つの方法です。追加ストリームは完全に独立しており、それぞれ固有のエンドポイントを持ちます。各ストリームには固有の stream&#95;label が割り当てられ、このラベルはアカウント名とともにそのストリームの URL の一部になります。以下はその例です:

https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json

最も一般的な慣習としては、本番システム専用のリアルタイムストリームを 1 つ用意し、開発およびテスト用に追加ストリームを用意する構成です。テスト／開発ストリームを持つことで、Decahose のお客様はクライアントコンシューマーの更新をテストするためのストリームを確保できます。ストリームには任意の（一意の）ラベルを割り当てることができますが、慣例として本番ストリームには「prod」、追加の開発ストリームには「dev」または「sandbox」を使用することがあります。

ストリーム数とそれぞれの固有ラベルは、アカウント担当者によって設定可能です。

**冗長接続**

冗長接続により、データストリームに対して複数の同時接続を確立できるようになります。これにより、同じストリームに 2 つの別々のコンシューマーから接続し、両方の接続で同じデータを受信することで冗長性が確保されます。したがって、たとえば一方のストリームが切断された場合や、アプリのプライマリサーバーが障害を起こした場合などに、アプリはホット・フェイルオーバーを行うことができます。

特定のストリームに許可される接続数は、アカウント担当者によって設定可能です。冗長ストリームを利用するには、プライマリ接続で使用しているものと同じ URL に接続するだけです。ストリームのデータは両方の接続を通じて送信され、ストリームダッシュボード上には両方のストリーム接続が表示されます。

課金上は、複数接続を通じて受信したアクティビティ件数を重複排除し、一意のアクティビティごとに 1 回のみ課金されるようにしています。Decahose には 2 つのパーティションがあるため、接続数がどのように計上されるかを示す例を以下に示します:

Connect to decahose partition=1
Connect to decahose partition=1
Connect to decahose partition=2

上記の状況では合計 3 つの接続になります — partition=1 への接続が 2 つ、partition=2 への接続が 1 つです。通常は各パーティションに対して同じ数の接続を維持したいため、この例は、partition=2 への冗長接続が切断され、さらなる調査が必要な状況を示しています。

**リカバリ**

<div id="overview">
  #### 概要
</div>

Recovery は、直近 5 日間の X の履歴データに、ローリングウィンドウでストリーミングアクセスを提供するデータ復旧ツールです（メインのデータ収集には使用しないでください）。このツールは、リアルタイムストリームでデータの取りこぼしが発生した場合、たとえば短時間の切断が発生したときや、その他リアルタイムデータを一定期間取り込めなかったあらゆる状況において、データを復旧するために使用してください。

<div id="using-recovery">
  #### Recovery の使用
</div>

Recovery ストリームを使用すると、アプリはリアルタイムストリームへのリクエストと同様の方法で、このストリームにリクエストを送信できます。ただし、アプリは URL 内で、要求する時間範囲を示すパラメータを指定する必要があります。言い換えると、Recovery リクエストは API に対して「時間 A から時間 B までのポスト」を要求します。これらのポストは、その後リアルタイムストリームを模倣する形でストリーミング接続を通じて配信されますが、リアルタイムよりわずかに遅い速度で配信されます。以下に例を示します。

&quot;https://stream-data-api.x.com/stream/powertrack/accounts/someAccountName/publishers/twitter/powertrack.json?startTime=2023-07-05T17:09:12.070Z&quot;

ポストは、指定した時間範囲の最初（最も古い）分から配信が開始され、最後の 1 分が配信されるまで時系列順に続きます。その時点で、Recovery Request Completed メッセージが接続経由で送信され、その後サーバーによって接続がクローズされます。リクエストの開始時刻付近に該当結果がほとんど、またはまったく存在しない場合、最初の結果が配信されるまでにある程度の時間が空く可能性があります。Recovery が、その時点で処理しているアーカイブの部分でマッチするデータを検出したタイミングでデータが配信されます。配信可能な結果がない場合でも、タイムアウトを防ぐために、ストリームは接続を通じてキャリッジリターン、つまり「ハートビート」を送り続けます。

Recovery は、短時間の切断によって欠落したデータを簡単に復旧するためのツールとして想定されており、1 日全体のような非常に長い時間範囲を対象としたものではありません。長期間のデータを復旧する必要がある場合は、インターネットの不安定さなどが原因でリクエスト途中で切断される可能性を減らし、長時間リクエストの進捗をより把握しやすくするために、長いリクエストを（例：2 時間などの）より短い時間ウィンドウに分割することを推奨します。

<div id="data-availability">
  #### データ可用性
</div>

5 分間のバックフィルウィンドウ内に再接続できない場合でも、Recovery 機能を使用して直近 24 時間以内に取り逃したデータを復旧できます。

ストリーミングのリカバリ機能により、バックフィルウィンドウを 24 時間まで拡張できます。Recovery を使用すると、取り逃したデータの時間帯を「復旧」できます。`start_time` と `end_time` のリクエストパラメータを使用して接続リクエストを行うと、リカバリストリームが開始されます。接続が確立されると、Recovery は指定された時間帯のデータを再ストリーミングし、その後切断されます。  

同時に 2 件まで Recovery へのリクエスト、すなわち「2 つのリカバリジョブ」を実行できます。Recovery は、開始時刻と終了時刻が定義される点を除き、技術的にはバックフィルと同じように動作します。1 回のリカバリ期間で対象にできるのは、1 つの連続した時間範囲のみです。

<div id="backfill">
  #### バックフィル
</div>

バックフィルをリクエストするには、接続リクエストに backfillMinutes=N パラメータを追加する必要があります。ここで N は、接続が確立された時点からさかのぼってバックフィルする分数（1〜5、整数のみ）です。たとえば、90 秒間切断された場合、接続リクエストに backfillMinutes=2 を追加する必要があります。このリクエストでは、切断前の 30 秒間も含めて 2 分間のバックフィルが提供されるため、*コンシューマーアプリは重複データを許容できるように設計しておく必要があります*。

5 分間のバックフィルをパーティション 1 に対してリクエストする Decahose 接続リクエスト URL の例は次のとおりです:

https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json?partition=1&amp;backfillMinutes=5

**注意:**

* 接続時には常に「backfillMinutes=5」を使用し、提供される重複データをアプリ側で処理するようにすることも可能です。

* 5 分以上切断されている場合は、Recovery を使用してデータを回復できます。

**切断からのリカバリ**

切断からの再起動およびリカバリには、複数のステップが必要です:

* 切断されていた時間の長さを判断する。
  * 5 分以内か?
    * 対象ストリームで Backfill が有効になっている場合、適切な「backfillMinutes」パラメータを指定した接続リクエストを準備します。
  * 5 分より長いか?
    * Recovery ストリームがある場合、切断されていた時間帯について Recovery リクエストを行います（必要に応じて Rules API を使用し、現在のリアルタイムルールセットで行うのが理想的です）。
* 新しい接続をリクエストする。

切断やダウンタイムが発生した場合に、この状況を軽減しリカバリするための戦略は次のとおりです:

1. **バックフィルを実装する**\
   Backfill を使用すると、ストリーム接続から切断される前の時点までさかのぼって再接続でき、最大 5 分までの切断をカバーできます。これは、接続リクエストにパラメータを含めることで実装されます。

2. **別の場所から冗長ストリームを取り込む**\
   冗長ストリームを同じ本番環境にストリーミングし、データの重複排除ができる場合、通常のストリームと冗長ストリームの両方で同時にダウンタイムまたは切断が発生しない限り、Recovery の必要性をなくすことができます。冗長ストリームを本番環境にライブでストリーミングできない場合は、別の「緊急」データストアに書き込むことができます。そのうえで、プライマリのストリーム接続に切断やダウンタイムが発生した場合に、欠損している期間について、システムが手元のデータを使用してプライマリデータベースを補完できるようにします。

3. **Recovery を実装する**\
   切断やダウンタイムがプライマリストリームと冗長ストリームの両方に影響する場合は、Decahose Recovery を使用して欠損したデータを復旧します。API はアーカイブの 5 日分をカバーするローリングウィンドウを提供しており、そのうち 1 時間以内の範囲を単位としてリクエストし、ストリーミングする形で活用するのが最適です。これはリアルタイムストリームと並行して実行します。Recovery が提供する 5 日間のウィンドウを超えた Decahose データを復旧する手段は用意されていないため、重大なダウンタイムが発生した場合にも自分の側で完全なデータコピーを保持できるよう、冗長ストリームを活用することが重要です。

異常な保存データ量を検知したとき —\
切断やダウンタイムが発生していないにもかかわらず、欠損データを検知するための方法として、次のようなものがあります:

1. 受信ポスト数をカウントする\
   システムは取り込みアプリの処理の最初の段階で受信した生のポスト数をカウントし、その数を最終的なデータストアに到達したポスト数と比較できるようにするべきです。差分をモニタリングし、受信後にデータがドロップされる原因となっている問題についてチームにアラートを出せます。

2. 異常な保存ボリュームを分析する\
   最終データベースに保存されているデータ量を分析し、異常な減少がないか確認することもできます。これも問題の兆候を示すことがありますが、ボリュームの減少が正常である場合もあります（例: X プラットフォームが利用できず、一定期間ユーザーがポストを作成できない場合など）。

<div id="api-reference">
  ## API リファレンス
</div>

<div id="decahose-stream">
  ### Decahose ストリーム
</div>

このページ内のセクションへ移動

[メソッド](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#methods)

[認証](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#authentication)

[GET /&#123;stream-type&#125;/:stream](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#get-stream-type-stream)

[Replay API](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#replay-api)

<div id="methods">
  #### メソッド
</div>

| メソッド | 説明 |
| :--- | :--- |
| [GET /&#123;stream-type&#125;/:stream](#Stream) | データストリームに接続する |

<div id="authentication">
  #### 認証[](#authentication- "この見出しへのパーマリンク")
</div>

Volume Stream API へのすべてのリクエストでは、console.gnip.com のアカウントにログインする際に使用する有効なメールアドレスとパスワードの組み合わせから構成される HTTP Basic 認証を使用する必要があります。認証情報は各リクエストで `Authorization` ヘッダーとして渡さなければなりません。そのため、クライアントがすべての API リクエストに対して、HTTPS 経由でエンコードした認証情報を含む「`Authentication: Basic`」HTTP ヘッダーを付与していることを確認してください。

#### GET {stream-type}:stream

Firehose ストリームへの永続的な接続を確立します。この接続を通じて、リアルタイムのデータが配信されます。

<div id="request-specifications">
  #### リクエスト仕様
</div>

|     |     |
| :--- | :--- |
| **Request Method** | HTTP GET |
| **Connection Type** | Keep-Alive  <br />  <br />これはリクエストのヘッダーで指定する必要があります。 |
| **URL** | ダッシュボード内のストリームの API Help ページに、次の形式で記載されています。  <br />  <br />Decahose:<br /><br />[https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json?partition=1](https://gnip-stream.x.com/stream/sample10/accounts/:account_name/publishers/twitter/:stream_label.json?partition=1) |
| **Partition (required)** | `partition=\{#}` - ストリーム全体を取得するには、現在パーティション指定が必須です。パーティションパラメーターを指定してストリームに接続する必要があります。各ストリームごとのパーティション数は以下のとおりです。<br /><br />* Decahose: 2 パーティション |
| **Compression** | Gzip。Gzip 圧縮を利用してストリームに接続するには、接続リクエストに Accept-Encoding ヘッダーを付与してください。ヘッダーは次のようになります。  <br />  <br />Accept-Encoding: gzip |
| **Character Encoding** | UTF-8 |
| **Response Format** | JSON。レスポンスの形式として JSON を指定するヘッダーをリクエストに含めてください。 |
| **Rate Limit** | 60 秒あたり 10 リクエスト。 |
| **Backfill Parameter** | Backfill が有効なストリームを購入している場合は、有効化するために GET リクエストに &quot;backfillMinutes&quot; パラメーターを追加する必要があります。 |
| **Read Timeout** | クライアント側で read timeout を設定し、その値を 30 秒より長く設定してください。 |
| **Support for Tweet edits** | すべてのポストオブジェクトには、そのポストの編集履歴を表すポスト編集メタデータが含まれます。詳細については、[&quot;Edit Tweets&quot; 基本事項ページ](/ja/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets)を参照してください。 |

<div id="responses">
  #### レスポンス
</div>

これらのリクエストに対して、API からは次のレスポンスが返されることがあります。ほとんどのエラーコードは、ボディ内に追加の詳細を含む文字列と共に返されます。200 以外のレスポンスの場合、クライアントは再接続を試みる必要があります。

| ステータス | テキスト | 説明 |
| :--- | :--- | :--- |
| 200 | 成功 | 接続が正常に確立され、新しいアクティビティが到着次第ストリーム経由で送信されます。 |
| 401 | 認証エラー | 認証情報が無効なため、HTTP 認証に失敗しました。console.gnip.com に認証情報でログインし、リクエストで正しく使用していることを確認してください。 |
| 406 | Not Acceptable | 一般的には、クライアントがストリームからの gzip エンコードを受け入れるためのヘッダーを正しく含めていない場合に発生しますが、その他の状況でも発生する可能性があります。  <br />  <br />「この接続では圧縮が必須です。圧縮を有効にするには、リクエストに &#39;Accept-Encoding: gzip&#39; ヘッダーを送信し、クライアント側でストリームを読み取る際に解凍できるようにしてください。」といった内容の JSON メッセージが返されます。 |
| 429 | Rate Limited | アプリが接続リクエストの上限を超えました。 |
| 503 | Service Unavailable | Twitter サーバーの問題です。指数バックオフパターンを使用して再接続してください。この問題に関する通知が [X API Status Page](https://api.twitterstat.us/) に掲載されておらず、10 分経過しても接続できない場合は、サポートまたは緊急連絡先にご連絡ください。 |

<div id="example-curl-request">
  #### curl リクエストの例
</div>

次の例は、コマンドラインで cURL を使用して送信するリクエストです。ただし、同様のリクエストはお好みのプログラミング言語から送信することもできます。

```
curl --compressed -v -uexample@customer.com "https://gnip-stream.x.com/stream/firehose/accounts/:account\_name/publishers/twitter/:stream\_label.json?partition={#}"
```

<div id="replay-api">
  #### Replay API
</div>

Replay API は、リアルタイム Volume ストリームを補完する重要な機能です。Replay は、直近の X の履歴データに対し、ローリングウィンドウ方式でストリーミングアクセスを提供するデータリカバリツールです。