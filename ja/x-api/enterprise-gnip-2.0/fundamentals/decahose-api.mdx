---
title: Decahose API
keywords: ["Decahose", "10％ストリーム", "Decahose API", "Enterprise Decahose", "10％サンプリングストリーム", "Enterprise ストリーミング"]
---

<Note>
  このエンドポイントは、ポスト編集メタデータを含むように更新されました。これらのメタデータの詳細については、[&quot;Edit Posts&quot; の基本事項ページ](/ja/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets)を参照してください。 
</Note>

### Decahose ストリーム

[Enterprise](https://developer.x.com/en/products/x-api/enterprise)

*これは、当社が提供するマネージドアクセスレベルでのみ利用可能な Enterprise 向け API です。この API を利用するには、まず当社の Enterprise 営業チームと連携してアカウントを設定する必要があります。 [詳細はこちら](https://developer.x.com/en/products/x-api/enterprise)*

Decahose は、ストリーミング接続を通じて、X Firehose のリアルタイムデータの 10% をランダムサンプルとして提供します。これは、リアルタイムのサンプリングアルゴリズムによって実現されており、データをランダムに選択しつつ、X によって Firehose に送信されたデータを期待どおりの低レイテンシで配信できるようにしています。

以下は、Decahose で利用可能な主な機能です。

* **拡張・強化された URL** - 短縮 URL を完全に展開し、追加のメタデータ（ページタイトルおよび説明）を提供します
* **ストリームのパーティショニング** - Decahose ストリームのボリュームの 50% ずつを含む 2 つのパーティション
* **信頼性の向上** - バックエンドシステムの地理的な分散構成

注: このデータは一括で配信され、追加のフィルタリング（キーワードなど）には対応していません。

`ENTERPRISE`

<div id="streaming-likes">
  ### いいねのストリーミング
</div>

*これは、当社のマネージドアクセスレベルでのみ利用可能な Enterprise API です。この API を利用するには、まず当社の Enterprise セールスチームと連絡を取り、アカウントを設定する必要があります。 [詳しくはこちら](https://developer.x.com/en/products/x-api/enterprise)*

いいねは、誰がポストに「いいね」したかについてのインサイトを提供し、正確ないいね数を把握することができます。Gnip の Firehose と Decahose は、Gnip 経由で配信されるポストに関連する公開いいねを配信できます。これにより、ポストに紐づくリアルタイムの公開エンゲージメントおよびオーディエンスメトリクスが得られます。
 

**いいねの利用を開始する**

いいねのデータを取得する前に、次の点を理解しておく必要があります。

* いいねは、独立した個別のストリームで配信されます
* いいねは以前から「Favorites」と呼ばれてきました。拡張ネイティブ形式のペイロードでは、この名称が維持されています
* ストリームには公開いいねのみが含まれます
  * 「公開」とは、「いいね」したユーザー、ポスト作成者、およびポストがすべてプラットフォーム上で公開であることを意味します
* いいねは Retweet と非常によく似ており、公開のエンゲージメントシグナルを表します
* ペイロード要素には次が含まれます:
  * 元のポストオブジェクト
  * 元のポストを作成したアクターオブジェクト
  * いいねアクションを実行したアクターオブジェクト
* オリジナルコンテンツのみに「いいね」できます
  * Retweet には「いいね」できません。Retweet への「いいね」は元のポストに適用されます
  * 引用ポストには「いいね」&#95;でき&#95;ます
* いいねのアクティビティには、該当する Gnip Enrichments（購入/適用されている場合）が含まれます
* 対応しているプロダクト / 機能
  * いいねストリームは Backfill をサポートします（購入/適用されている場合）
  * いいねストリームには Replay のサポートはありません
  * いいねには Search や Historical のサポートはありません
  * 現時点で、PowerTrack にいいねのサポートを追加する予定は当面ありません

**Decahose**

* Decahose で配信される 10% サンプルのポストについては、ストリームに該当する公開いいねが 100% 含まれます
* **パーティション:** 2
* **URL 構造**
  * https://gnip-stream.x.com/stream/sample10-likes/accounts/&lt;accountName&gt;/publishers/twitter/&lt;streamLabel&gt;.json?partition=1

**ネイティブ拡張形式のペイロード**

```json
{
   "id":"43560406e0ad9f68374445f5f30c33fc",
   "created_at":"Thu Dec 01 22:27:39 +0000 2016",
   "timestamp_ms":1480631259353,
   "favorited_status":{
      "created_at":"Thu Dec 01 22:27:16 +0000 2016",
      "id":804451830033948672,
      "id_str":"804451830033948672",
      "text":"@kafammheppduman",
      "source":"\u003ca href=\"http:\/\/x.com\/download\/android\" rel=\"nofollow\"\u003eX for Android\u003c\/a\u003e",
      "truncated":false,
      "in_reply_to_status_id":803694205163814912,
      "in_reply_to_status_id_str":"803694205163814912",
      "in_reply_to_user_id":2855759795,
      "in_reply_to_user_id_str":"2855759795",
      "in_reply_to_screen_name":"kafammheppduman",
      "user":{
         "id":2855759795,
         "id_str":"2855759795",
         "name":"delirdim kanka",
         "screen_name":"kafammheppduman",
         "location":"sanane",
         "url":"http:\/\/instagram.com\/kafammheppduman",
         "description":"Manit @GalatasaraySk \ud83d\udc9e",
         "translator_type":"none",
         "protected":false,
         "verified":false,
         "followers_count":3702,
         "friends_count":607,
         "listed_count":1,
         "favourites_count":113338,
         "statuses_count":389,
         "created_at":"Sat Nov 01 22:38:25 +0000 2014",
         "utc_offset":null,
         "time_zone":null,
         "geo_enabled":true,
         "lang":"tr",
         "contributors_enabled":false,
         "is_translator":false,
         "profile_background_color":"C0DEED",
         "profile_background_image_url":"",
         "profile_background_image_url_https":"",
         "profile_background_tile":false,
         "profile_link_color":"1DA1F2",
         "profile_sidebar_border_color":"C0DEED",
         "profile_sidebar_fill_color":"DDEEF6",
         "profile_text_color":"333333",
         "profile_use_background_image":true,
       "Profile_image_url": "http:\/\/pbs.twimg.com\/profile_images\/804421763945861121\/v3bp9pnq_normal.jpg",
         "Profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/804421763945861121\/v3bp9pnq_normal.jpg",
         "profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/2855759795\/1480630085",
         "default_profile":true,
         "default_profile_image":false,
         "following":null,
         "follow_request_sent":null,
         "notifications":null
      },
      "geo":null,
      "coordinates":null,
      "place":null,
      "contributors":null,
      "is_quote_status":false,
      "retweet_count":0,
      "favorite_count":0,
      "entities":{
         "hashtags":[],
         "urls":[],
         "user_mentions":[
            {
               "screen_name":"kafammheppduman",
               "name":"delirdim kanka",
               "id":2855759795,
               "id_str":"2855759795",
               "indices":[
                  0,
                  16
               ]
            }
         ],
         "symbols":[]
      },
      "favorited":false,
      "retweeted":false,
      "filter_level":"low",
      "lang":"und"
   },
   "user":{
      "id":774146932365070336,
      "id_str":"774146932365070336",
      "name":"Uyuyan Adam",
      "screen_name":"saykoMenn",
      "location":"Tarsus, T\u00fcrkiye",
      "url":"http:\/\/connected2.me\/pmc1i",
      "description":null,
      "translator_type":"none",
      "protected":false,
      "verified":false,
      "followers_count":414,
      "friends_count":393,
      "listed_count":0,
      "favourites_count":9868,
      "statuses_count":370,
      "created_at":"Fri Sep 09 07:26:26 +0000 2016",
      "utc_offset":null,
      "time_zone":null,
      "geo_enabled":false,
      "lang":"tr",
      "contributors_enabled":false,
      "is_translator":false,
      "profile_background_color":"F5F8FA",
      "profile_background_image_url":"",
      "profile_background_image_url_https":"",
      "profile_background_tile":false,
      "profile_link_color":"1DA1F2",
      "profile_sidebar_border_color":"C0DEED",
      "profile_sidebar_fill_color":"DDEEF6",
      "profile_text_color":"333333",
      "profile_use_background_image":true,
      "Profile_image_url": "http:\/\/pbs.twimg.com\/profile_images\/802992813424201728\/VMzcTL3x_normal.jpg",
      "Profile_image_url_https": "https:\/\/pbs.twimg.com\/profile_images\/802992813424201728\/VMzcTL3x_normal.jpg",
      "profile_banner_url":"https:\/\/pbs.twimg.com\/profile_banners\/774146932365070336\/1480283382",
      "default_profile":true,
      "default_profile_image":false,
      "following":null,
      "follow_request_sent":null,
      "notifications":null
   }
}
```

**いいね削除 / 「いいね解除」時のペイロード**

```json
{
   "delete":{
      "favorite":{
         "tweet_id":696615514970279937,
         "tweet_id_str":"696615514970279937",
         "user_id":2510287578,
         "user_id_str":"2510287578"
      },
      "timestamp_ms":"1480437031205"
   }
}
```

<div id="guides">
  ## ガイド
</div>

<div id="recovery-and-redundency">
  ### 復旧と冗長性
</div>

**概要** 

大量のリアルタイムのポストをストリーミングする場合、データの信頼性と完全性の両方を高めるための一連のベストプラクティスがあります。リアルタイムのデータを取得する際は、接続時間を最大化することが基本的な目標です。切断が発生した場合には、それを自動的に検知して再接続することが重要です。再接続後には、バックフィルが必要な期間がないかを確認することも重要です。こうした詳細を管理し、リアルタイムのポストを取得するコンポーネントは、ネットワーク、データストア、サーバー、およびストレージに関する考慮事項を抱えるシステム全体の一部に過ぎません。これらのシステムは複雑であるため、別々のストリーミング環境を用意し、少なくとも開発／テスト用と本番用でストリームを分けることも、もう 1 つのベストプラクティスです。

Decahose には、これらの取り組みを支援するための一連の機能が用意されています。

1. 複数の環境をサポートするために、お客様のアカウント向けに [Additional Streams](#AdditionalStreams) をデプロイできます。これらのストリームは互いに独立しており、区別しやすいように異なる `stream_label` を持ちます。
2. 接続維持を支援するために、各 Decahose ストリームは [冗長接続](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#additional-streams) をサポートしています。最も一般的なアーキテクチャは、1 つのストリームに 2 つの接続を持たせ、クライアント側には 2 つの独立したコンシューマーを用意するものです。理想的には、それぞれが異なるネットワーク上に存在します。この設計により、クライアント側のネットワーク、サーバー、およびデータストア経路にまたがる冗長性を確保できます。各接続ではデータの完全なコピーが配信されるため、クライアント側は重複したデータを許容し、管理できなければならない点に注意してください。
3. &quot;**heartbeat**&quot; は 10 秒ごとに送信されます。ただし、Decahose ストリームではデータ量が十分に多いため、短い時間（例: 数秒）であってもポストがまったくない場合は接続の問題を示している可能性があります。そのため、「データが流れてこない状態」と heartbeat の欠如の両方を、切断検知のために利用できます。

切断は必ず発生するため、Decahose ストリームには専用の [復旧](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#overview) 機能と [バックフィル](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#backfill) 機能が用意されており、切断やその他の運用上の問題によって取り逃したデータを復旧するのに役立ちます。

<div id="additional-streams">
  #### 追加ストリーム
</div>

追加の Decahose ストリームを用意することは、ソリューションの信頼性を高めるもう 1 つの方法です。追加ストリームはすべて完全に独立しており、それぞれ固有のエンドポイントを持ちます。各ストリームには固有の stream&#95;label が割り当てられ、このラベルとアカウント名がそのストリームの URL の一部になります。以下の例を参照してください。

https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json

最も一般的な慣習は、本番システム専用のリアルタイムストリームを 1 つ用意し、開発およびテスト用に追加のストリームを利用可能にしておくことです。テスト／開発ストリームを用意することで、Decahose のお客様はクライアント側コンシューマの更新をテストするためのストリームを持つことができます。ストリームには任意の（一意の）ラベルを割り当てることができますが、一例として、本番ストリームには「prod」を使用し、追加の開発ストリームには「dev」または「sandbox」を使用します。

ストリームの数とそれぞれの一意のラベルは、アカウント担当者によって設定可能です。

**冗長接続**

冗長接続とは、データストリームに対して複数の同時接続を確立できるようにするものです。これにより、2 つの別々のコンシューマで同じストリームに接続し、両方の接続を通じて同じデータを受信することで冗長性が確保されます。したがって、1 つのストリームが切断された場合やアプリのプライマリサーバーが障害を起こした場合など、さまざまな状況に対してアプリはホットフェイルオーバーを持つことになります。

特定のストリームに対して許可される接続数は、アカウント担当者によって設定可能です。冗長接続を利用するには、プライマリ接続に使用しているものと同じ URL に接続するだけです。ストリームのデータは両方の接続を通じて送信され、両方のストリーム接続はストリームダッシュボード上に表示されます。

課金に関しては、複数接続で受信したアクティビティ件数を重複排除し、それぞれの一意のアクティビティについて 1 回だけ課金される点に注意してください。Decahose には 2 つのパーティションがあるため、接続数がどのようにカウントされるかを以下の例で示します。

Connect to decahose partition=1\
Connect to decahose partition=1\
Connect to decahose partition=2

上記の状況では、合計 3 つの接続が存在します。partition=1 への接続が 2 つ、partition=2 への接続が 1 つです。通常は各パーティションに対して同じ数の接続を持つことが望ましいため、この例は、partition=2 への冗長接続が切断され、さらに調査が必要な状況を示しています。

**リカバリー**

<div id="overview">
  #### 概要
</div>

Recovery は、直近最大 5 日分の X の履歴データに対してストリーミングアクセスを提供するデータリカバリツールです（主たるデータ収集用途としては使用しないでください）。このツールは、短時間の切断などによりリアルタイムストリームでデータを取りこぼした場合や、その他の理由で一定期間リアルタイムデータを取り込めなかった場合などに、そのデータを復旧するために利用します。

<div id="using-recovery">
  #### リカバリーの使用
</div>

Recovery ストリームを使うと、アプリケーションはリアルタイムストリームと同様の方法でこのストリームにリクエストを送信できます。ただし、リクエストする時間範囲を示すパラメータを URL に指定する必要があります。言い換えると、Recovery リクエストは API に対して「時刻 A から時刻 B までのポスト」を要求します。これらのポストは、その後ストリーミング接続を通じて、リアルタイムストリームを模した形で配信されますが、リアルタイムよりわずかに遅い速度で配信されます。以下に例を示します。

&quot;https://stream-data-api.x.com/stream/powertrack/accounts/someAccountName/publishers/twitter/powertrack.json?startTime=2023-07-05T17:09:12.070Z&quot;

ポストは、指定した時間範囲の最初（最も古い）の 1 分間から配信が始まり、最後の 1 分間が配信されるまで時系列順に継続します。その時点で、`Recovery Request Completed` メッセージが接続を通じて送信され、その後サーバーによって接続がクローズされます。リクエストが、マッチする結果がほとんど、またはまったく発生していない時間帯から始まる場合、最初の結果が配信されるまでに時間がかかる可能性があります。Recovery が処理中のアーカイブの該当部分でマッチを検出したタイミングで、データが配信されます。配信可能な結果がない場合でも、ストリームはタイムアウトを防ぐために、キャリッジリターン、つまり「ハートビート」を接続経由で送り続けます。

Recovery は、短時間の切断によって取り逃がしたデータを簡単に復旧するためのツールとして想定されており、1 日全体のような非常に長い時間範囲を対象とすることは意図していません。長期間のデータを復旧する必要がある場合は、長いリクエストを（例: 2 時間などの）短い時間窓に分割することを推奨します。これにより、インターネットの不安定さなどの理由でリクエスト途中で切断される可能性を減らし、長時間のリクエストの進行状況も把握しやすくなります。

<div id="data-availability">
  #### データ可用性
</div>

5 分間のバックフィル・ウィンドウ内に再接続できない場合は、Recovery 機能を使用して、直近 24 時間以内に取り逃したデータを復旧できます。

ストリーミング用の Recovery 機能を使用すると、バックフィル・ウィンドウを 24 時間まで拡張できます。Recovery を使用すると、取り逃したデータの時間範囲を「復旧」できます。`start_time` と `end_time` リクエストパラメータを指定して接続リクエストを行うと、Recovery ストリームが開始されます。接続が確立されると、Recovery は指定された時間範囲のデータを再ストリームし、その後切断します。  

Recovery には同時に最大 2 件までリクエストを行うことができます（つまり「2 つの Recovery ジョブ」）。Recovery は、開始時間と終了時間が定義されている点を除き、技術的にはバックフィルと同じように動作します。Recovery 期間は、1 つの時間範囲のみを対象とします。

<div id="backfill">
  #### Backfill
</div>

Backfill をリクエストするには、接続リクエストに `backfillMinutes=N` パラメーターを追加する必要があります。ここで N は、接続が確立される際に Backfill を行う時間（分）（1〜5 の整数のみ）です。たとえば、90 秒間切断された場合は、接続リクエストに `backfillMinutes=2` を追加する必要があります。このリクエストでは 2 分間の Backfill が提供され、切断の 30 秒前の期間も含まれるため、*コンシューマーアプリは重複データを許容できる必要があります*。

5 分間の Backfill をパーティション 1 に対してリクエストする Decahose 接続リクエスト URL の例は次のとおりです。

https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json?partition=1&amp;backfillMinutes=5

**注意:**

* 接続時に常に `backfillMinutes=5` を使用し、提供される重複データをアプリ側で処理するという選択肢もあります。

* 5 分以上切断された場合は、Recovery を使用してデータをリカバリできます。

**切断からのリカバリ**

切断からの再起動およびリカバリには、いくつかのステップが含まれます。

* 切断期間の長さを判断する。
  * 5 分以内か？
    * ストリームで Backfill を有効にしている場合は、適切な `backfillMinutes` パラメーターを含む接続リクエストを準備します。
  * 5 分より長いか？
    * Recovery ストリームを利用できる場合は、切断されていた時間帯に対して Recovery リクエストを行います（必要に応じて Rules API を使用し、可能であれば現在のリアルタイムのルールセットで行うのが理想的です）。
* 新しい接続をリクエストする。

切断やダウンタイムが発生した場合、このような状況を軽減しリカバリするための戦略として、次の方法があります。

1. **Backfill を実装する**\
   Backfill を利用すると、ストリーム接続から切断される前のポイントから再接続でき、最大 5 分までの切断をカバーできます。これは、接続リクエストにパラメーターを含めることで実装されます。

2. **別の場所から冗長ストリームを受信する**\
   冗長ストリームを同じ本番環境にストリーミングし、データの重複排除ができる場合、通常ストリームと冗長ストリームの両方で同時にダウンタイムや切断が発生しない限り、Recovery を行う必要はなくなります。冗長ストリームを本番環境にライブでストリーミングできない場合は、別の「緊急用」データストアに書き込むこともできます。その場合、プライマリストリーム接続で切断やダウンタイムが発生しても、その期間に欠落しているデータを補完するためのデータをシステム側で保持していることになります。

3. **Recovery を実装する**\
   切断やダウンタイムがプライマリストリームと冗長ストリームの両方に影響する場合は、Decahose Recovery を使用して欠損したデータをリカバリします。API はアーカイブの 5 日間分をカバーするローリングウィンドウを提供しており、このウィンドウのうち 1 回のリクエストで 1 時間以内となるようにリクエストし、ストリーミングする形で利用するのが最適です。これはリアルタイムストリームと並行して行います。Recovery によって提供される 5 日間のウィンドウを超えた Decahose データをリカバリする手段は提供していないため、自身の側で大きなダウンタイムが発生した場合にも完全なコピーを保持できるよう、冗長ストリームを活用することが重要です。

異常な保存データ量を検出したとき:\
切断やダウンタイムが発生していないにもかかわらずデータ欠損を検知するための、考えられる方法として次のようなものがあります。

1. 受信ポスト数のカウント\
   取り込みアプリの最初の段階で受信した生のポスト数をカウントし、その数と最終的なデータストアに到達したポスト数を比較できるようにする必要があります。差分を監視し、受信後にデータがドロップされる原因となる問題についてチームにアラートを出せます。

2. 異常な保存ボリュームの分析\
   最終的なデータベースに保存されたデータ量を分析し、異常な減少がないかを調べる方法もあります。これも問題の兆候となりえますが、ボリュームの減少が正常である状況も発生し得ます（例: X プラットフォームが利用できず、一定期間ユーザーがポストを作成できない場合など）。

<div id="api-reference">
  ## API リファレンス
</div>

<div id="decahose-stream">
  ### Decahose stream
</div>

このページ内の項目に移動

[Methods](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#methods)

[Authentication](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#authentication)

[GET /&#123;stream-type&#125;/:stream](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#get-stream-type-stream)

[Replay API](/ja/x-api/enterprise-gnip-2.0/fundamentals/decahose-api#replay-api)

<div id="methods">
  #### メソッド
</div>

| メソッド | 説明 |
| :--- | :--- |
| [GET /&#123;stream-type&#125;/:stream](#Stream) | データストリームに接続します |

<div id="authentication">
  #### 認証[](#authentication- "Permalink to this headline")
</div>

Volume Stream API へのすべてのリクエストでは、HTTP Basic 認証を使用する必要があります。これは、console.gnip.com のアカウントにログインする際に使用する有効なメールアドレスとパスワードの組み合わせで構成されます。認証情報は、各リクエストの Authorization ヘッダーとして送信しなければなりません。そのため、すべての API リクエストに対して、クライアントが「Authentication: Basic」HTTP ヘッダー（HTTPS 上でエンコードされた認証情報付き）を追加していることを確認してください。

#### GET {stream-type}:stream

リアルタイムデータが配信される Firehose ストリームへの常時接続を確立します。

<div id="request-specifications">
  #### リクエスト仕様
</div>

|     |     |
| :--- | :--- |
| **Request Method** | HTTP GET |
| **Connection Type** | Keep-Alive  <br />  <br />これはリクエストヘッダー内で指定する必要があります。 |
| **URL** | ダッシュボード上の該当ストリームの API Help ページに、次の構造で記載されています。  <br />  <br />Decahose:<br /><br />[https://gnip-stream.x.com/stream/sample10/accounts/:account&#95;name/publishers/twitter/:stream&#95;label.json?partition=1](https://gnip-stream.x.com/stream/sample10/accounts/:account_name/publishers/twitter/:stream_label.json?partition=1) |
| **Partition (required)** | `partition=\{#}` - ストリーム全体を取得するには、現在パーティション指定が必須です。partition パラメーターを指定してストリームに接続する必要があります。各ストリームあたりのパーティション数は次のとおりです。<br /><br />* Decahose: 2 partitions |
| **Compression** | Gzip。Gzip 圧縮を使用してストリームに接続するには、接続リクエストで Accept-Encoding ヘッダーを送信するだけです。ヘッダーは次のようになります。  <br />  <br />Accept-Encoding: gzip |
| **Character Encoding** | UTF-8 |
| **Response Format** | JSON。レスポンス形式として JSON を指定するヘッダーをリクエストに含めてください。 |
| **Rate Limit** | 60 秒あたり 10 件のリクエスト。 |
| **Backfill Parameter** | Backfill が有効なストリームを購入している場合は、GET リクエストに「backfillMinutes」パラメーターを追加して有効にする必要があります。 |
| **Read Timeout** | クライアント側で read timeout を設定し、その値を 30 秒より長くなるように設定してください。 |
| **Support for Tweet edits** | すべてのポストオブジェクトには、そのポストの編集履歴を表すポスト編集メタデータが含まれます。詳細は「[Edit Tweets の基本](/ja/x-api/enterprise-gnip-2.0/fundamentals/edit-tweets)」ページを参照してください。 |

<div id="responses">
  #### レスポンス
</div>

これらのリクエストに対して、API からは次のレスポンスが返されることがあります。ほとんどのエラーコードでは、ボディ内に追加の詳細を含む文字列が返されます。200 以外のレスポンスが返された場合、クライアントは再接続を試みる必要があります。

| Status | Text | Description |
| :--- | :--- | :--- |
| 200 | Success | 接続が正常に確立され、新しいアクティビティが到着し次第送信されます。 |
| 401 | Unauthorized | 無効な認証情報のため、HTTP 認証に失敗しました。認証情報がリクエストで正しく使用されていることを確認するために、その認証情報で console.gnip.com にログインしてください。 |
| 406 | Not Acceptable | 一般的には、クライアントがストリームからの gzip エンコードを受け入れるためのヘッダーを正しく含めていない場合に発生しますが、その他の状況でも発生することがあります。  <br />  <br />「This connection requires compression. To enable compression, send an &#39;Accept-Encoding: gzip&#39; header in your request and be ready to uncompress the stream as it is read on the client end.」のような JSON メッセージが含まれます。 |
| 429 | Rate Limited | アプリが接続リクエストの上限を超過しました。 |
| 503 | Service Unavailable | Twitter サーバー側の問題です。指数バックオフパターンを使用して再接続してください。この問題に関する通知が [X API Status Page](https://api.twitterstat.us/) に掲載されておらず、10 分経過後も接続できない場合は、サポートまたは緊急窓口に連絡してください。 |

<div id="example-curl-request">
  #### curl リクエストの例
</div>

次の例では、コマンドラインで cURL を使用してリクエストを送信します。ただし、これらのリクエストは任意のプログラミング言語から送信することもできます。

```
curl --compressed -v -uexample@customer.com "https://gnip-stream.x.com/stream/firehose/accounts/:account\_name/publishers/twitter/:stream\_label.json?partition={#}"
```

<div id="replay-api">
  #### Replay API
</div>

Replay API は、リアルタイム Volume ストリームを補完するうえで重要な機能です。Replay は、直近の X の履歴データに対して、ローリングウィンドウ分のストリーミングアクセスを提供するデータ復旧ツールです。