---
title: ポストを編集する
keywords: ["Enterprise でポストを編集", "Enterprise のポスト編集", "Enterprise で投稿を編集", "Enterprise のポスト編集履歴", "Enterprise の編集メタデータ"]
---

Enterprise エンドポイントが更新され、編集されたポストのメタデータが提供されるようになりました。&#95;Edit Posts &#95;機能は、2022 年 9 月 1 日に X 社内の従業員を対象としたテストとして初めて導入されました。その日以降、対象となるポストは 30 分間、最大 5 回まで編集可能でした。*2022 年 9 月 29 日以降に作成されたポストのすべてのオブジェクト*には、そのポストが一度も編集されていない場合でも、ポスト編集メタデータが含まれます。ポストが編集されるたびに、新しい Post ID が作成されます。ポストの編集履歴は、元の ID から始めて、これらの ID を連結することで表すことができます。さらに、編集チェーン内のいずれかのポストが削除されると、そのチェーン内のすべてのポストも削除されます。 

これらのメタデータは自動的に含まれます。利用可能な編集履歴を Post オブジェクトの一部として含めるために、リクエストパラメータを指定する必要はありません。 

これらの新しいメタデータにより、開発者は次のことを把握できます。

* ポストが作成時点で編集可能だったかどうか。一部のポスト（投票を含むものや予約投稿など）は編集できません。
* ポストは 30 分間編集可能で、最大 5 回まで編集できます。編集可能なポストについては、編集可能な残り時間と、残りの編集可能回数を確認できます。
* 表示しているポストが編集済みバージョンかどうか。ほとんどの場合、API はポストの最新バージョンを返しますが、特定の過去バージョンが Post ID で指定されている場合はその限りではありません。

ルートレベルに 3 つの新しいポスト属性が追加されました。

* **edit&#95;history**  - ポストの編集履歴に関連付けられているすべての Post ID を提供します。&quot;initial&#95;tweet&#95;id&quot; 属性は元のポストを示し、&quot;edit&#95;tweet&#95;ids&quot; 属性はその編集履歴に関連付けられているすべての ID を提供する配列です。ポストが編集されていない場合、この配列には 1 つの ID のみが含まれます。

```
"edit_history": {
    "initial_tweet_id": "1283764123"
    "edit_tweet_ids": ["1283764123"]
  }
```

* **edit&#95;controls** - 30 分間の編集可能時間がいつ終了するかと、残りの編集可能回数を示す属性を含みます。

```
"edit_controls": {  
     "editable\_until\_ms": 1660155761384
     "edits_remaining": 3   
  }
```

* **editable** - ポストが作成時に編集可能だったかどうかを示します。 

&quot;editable&quot;: true

ほとんどのポストは編集対象です。ただし、次の種類のポストは対象外です。 

* プロモーションされたポスト
* 投票を含むポスト
* 自分のスレッドではない返信ポスト
* リツイート（引用ツイートは編集対象である点に注意してください）
* nullcast のポスト
* コミュニティポスト
* Superfollow ポスト
* コラボレーションポスト

**未編集のポストの属性例**

以下の JSON は、ポスト編集機能が追加された後に投稿されたポストに含まれる編集メタデータを示しています。この例は編集履歴のないポストの場合です。 

`"edit_tweet_ids"` 配列には ID が 1 つだけ含まれている点に注意してください。

```
{
  "created_at": "Wed Aug 16 18:29:02 +0000 2022",
  "id": 1557433858676740098,
  "id_str": "1557433858676740098",
  "text": "I wonder if I will every use teh edit button",
  "edit_history": {
    "initial_tweet_id": "1557433858676740098",
    "edit_tweet_ids": ["1557433858676740098"]
  },
  "edit_controls": {
    "editable_until_ms": 1660155761384,
    "edits_remaining": 5
  },
  "editable": true
}
```

**編集されたポストの属性例**

以下の JSON は、ポスト編集機能が追加された後に投稿されたポストに含まれる編集メタデータを示しています。この例は、1 回だけ編集されたポストのものです。

`"edit_tweet_ids"` 配列には 2 つの ID が含まれており、1 つは元のポスト、もう 1 つは編集後の更新ポストを表します。

```
{
  "created_at": "Wed Aug 16 18:35:42 +0000 2022",
  "id": 1557445923210514432,
  "id_str": "1557445923210514432",
  "text": "I wonder if I will ever use the edit button",
  "edit_history": {
    "initial_tweet_id": "1557433858676740098",
    "edit_tweet_ids": ["1557433858676740098", "1557445923210514432"]
  },
  "edit_controls": {
    "editable_until_ms": 1660155761384,
    "edits_remaining": 4
  },
  "editable": true
}
```

**コンプライアンスサポート**

[Compliance Firehose](/ja/x-api/enterprise-gnip-2.0/fundamentals/firehouse) と v2 の [batch compliance endpoint](/ja/x-api/compliance/batch-compliance/introduction) の両方で、ポスト編集をサポートするよう更新されました。 

新たに &quot;tweet&#95;edit&quot; イベント種別が Compliance Firehose に追加されました。

```
{
  "tweet_edit": {
    "id": <tweetId>,
    "initial_tweet_id": <tweetId>,
    "edit_tweet_ids": [<tweetId1>, <tweetId2>, <tweetId3> ...],
    "timestamp_ms": "<timestampMsStr>"
  }
}
```
