---
title: "ルールとフィルタリング：Enterprise"
keywords: ["Enterprise ルール", "GNIP ルール", "Enterprise フィルタリング", "PowerTrack ルール", "Enterprise クエリ", "Enterprise フィルタルール"]
---

<div id="getting-started-with-enterprise-rules-and-queries">
  ## Enterprise ルールとクエリの概要
</div>

Enterprise オペレーターを利用する製品では、設定したフィルタリングルールに基づいてソーシャルデータが提供されます。ルールは 1 つ以上の「句」で構成され、句とはキーワード、完全一致のフレーズ、または多数ある Enterprise オペレーターのいずれかです。Enterprise オペレーターでルールの作成を始める前に、以下で説明する構文を確認し、利用可能なオペレーターの一覧に目を通し、ルール作成に関する制約を理解しておいてください。また、ルールが論理的にどのように評価されるかというニュアンスについても、「[Order of operations](#orderofoperations)」セクションで必ず確認してください。

複数の句は、&quot;and&quot; ロジックと &quot;or&quot; ロジックの両方で組み合わせることができます。

**注意:** 「And」ロジックは句と句の間にスペースを入れて指定し、「or」ロジックは大文字の `OR` で指定します。

各ルールは最大 2,048 文字まで指定でき、ポジティブ句（マッチまたはフィルタしたい対象）とネガティブ句（除外してマッチさせたくない対象）の数には制限はありません。
 

<div id="building-rules-and-queries">
  ### ルールとクエリの作成
</div>

**キーワードマッチ**

キーワードマッチは、検索インターフェイスでのクエリとよく似ています。たとえば、次の Enterprise 向けオペレーターのルールは、テキスト本文に &quot;social&quot; という語を含むアクティビティにマッチします。

`social`

**空白による AND 結合**

別のキーワードを追加することは、マッチ条件を 1 つ追加することと同じ意味になります。たとえば、次のルールは、テキスト内に &quot;social&quot; と &quot;media&quot; の両方が含まれている場合のみ（順序はどちらでも可）アクティビティにマッチします。*語と語の間にスペースを入れることは、ブール AND ロジックとして動作します。* ルール内に明示的な AND を含めた場合、そのルールは `rules` エンドポイントで拒否されます。

`social media`

**大文字の OR による OR 結合**

多くのケースでは、実際にはブール OR ロジックが必要になります。これは簡単に実現できます。*OR オペレーターは大文字でなければならず、小文字の ‘or’ は通常のキーワードとして扱われることに注意してください。*

`social OR data`

**語の否定**

さらに、特定のキーワードを含む結果を除外したいケース（ブール NOT ロジック）が発生することもあります。たとえば、「happy」を含むアクティビティのうち、テキストに「birthday」を含むものを除外するといったケースです。

`social -personality`

**括弧によるグルーピング**

これらのロジックは、括弧を使ったグルーピングにより組み合わせることができ、さらに複雑なクエリにも拡張できます。

`(social OR data) (academic OR research) -personality -information -university`

ただし、これはほんの始まりにすぎません。上記の例はキーワードのトークン化マッチにのみ依存していますが、Enterprise 製品ではテキストに対してさまざまな種類のマッチングを行うためのオペレーターも提供しています。

**完全一致**

`"social media research"`

**部分文字列マッチ**

`contains:info`

**近接マッチ**

`"social media research"~3`

さらに、テキスト以外にも、ソーシャルデータの固有の側面でフィルタリングできるオペレーターもあります。 

**ポストを投稿しているユーザー**

`from:XDeveloeprs`

**アメリカ合衆国コロラド州ボルダーの Pearl St. から 10 マイル以内のジオタグ付きポスト**

`point_radius:[-105.27346517 40.01924738 10.0mi]`

**すべてを組み合わせる**

これらは、前述のロジックと同じタイプを使用して、テキストフィルターと組み合わせることができます。

`(social OR data) (academic OR research OR "social media research") point_radius:[-105.27346517 40.01924738 10.0mi] lang:en -personality -information -university`

<div id="boolean-syntax">
  ### Boolean Syntax
</div>

前のセクションの例では、さまざまな種類のブールロジックとグルーピングを使用しました。以下の表で、それぞれの構文と要件の詳細を確認してください。

|     |     |     |
| :--- | :--- | :--- |
| **Logic type** | **Operator syntax** | Description |
| AND | social data | 2 つのオペレーターの間に空白文字を入れると、それらの間に AND ロジックが適用されます。  <br />  <br />キーワード「social」と「data」の両方を含むアクティビティにマッチします。  <br />  <br />**ルール内で AND を明示的に使用しないでください。空白のみを使用してください。明示的な AND は通常のキーワードとして扱われます。** |
| OR  | social OR data | 2 つのオペレーターを OR でつなぐには、その間にすべて大文字の OR を、前後を空白で囲んで挿入します。  <br />  <br />どちらか一方のキーワード（「social」または「data」）を含むアクティビティにマッチします。  <br />  <br />1 つのルール内で OR と AND の機能を組み合わせる場合は、&quot;[Order of operations](#OrderOfOperations)&quot; セクションで説明している演算の順序を理解し、ルールが期待どおりに動作するよう、下記の説明のとおり括弧を使って否定されていないオペレーターをグループ化することを検討してください。  <br />  <br />ルール内では必ず大文字の &quot;OR&quot; を使用する必要があります。小文字の &#39;or&#39; は通常のキーワードとして扱われます。 |
| NOT | social data  <br />-apple -android -phone | オペレーター、またはオペレーターのグループの直前に `-` 文字を挿入します。  <br />  <br />この例のルールは、キーワード「social」を含むアクティビティにマッチしますが、キーワード「data」を含むものは除外します。  <br />  <br />否定された OR は、ルールが「firehose のすべてから否定されたものだけを除いたもの」を要求することになる場合には使用できません。たとえば、`apple OR -ipad` は、「ipad」に言及しているものを除くすべてのアクティビティにマッチしてしまうため無効です。 |
| Grouping | (social OR data) -XDeveloeprs -api | 複数のオペレーターを括弧で囲むと、機能的な「グループ」が作成されます。<br /><br />グループは、個々の句と同じ方法で、空白（AND）や OR を通じて他の句と接続できます。ただし、ベストプラクティスとして、否定演算子 - をグループ全体に適用して否定をまとめることは推奨されません。代わりに、個々のオペレーターをそれぞれ否定し、それらを空白（AND）で連結してください。<br /><br />たとえば、-(iphone OR imac OR macbook) を使用する代わりに、次のようにします: -iphone -imac -macbook  <br />  <br />ルールの評価において使用される演算の順序の関係で、1 つのルール内で AND と OR の機能を組み合わせる場合には、グルーピングが特に重要になります。詳細は以下を参照してください。 |

**注意:** オペレーターは肯定にも否定にもなり得ます。

**Positive Operators** は、結果に**含めたい**ものを定義します。たとえば、`has:hashtags` オペレーターは「ハッシュタグを含むアクティビティが欲しい」という意味になります。

**Negative Operators** は、結果から**除外したい**ものを定義し、上記の Boolean NOT ロジックを使用して作成します。たとえば、`-has:hashtags` は「ルールに一致していても、ハッシュタグを含むアクティビティはすべて除外する」という意味になります。

Premium operator products では、肯定句と否定句の数に制限はありませんが、最大長 2,048 文字という制約があります。
 

<div id="order-of-operations">
  #### 演算の順序
</div>

1 つのルール内で AND と OR のロジックを組み合わせる場合、以下の演算順序によってルールの評価方法が決まります。

1. AND ロジックで接続されたオペレーターが最初に結合されます
2. 次に、OR ロジックで接続されたオペレーターが適用されます

**例:**

* `apple OR iphone ipad` は `apple OR (iphone ipad)` として評価されます
* `ipad iphone OR android` は `(iphone ipad) OR android` として評価されます

あいまいさをなくし、ルールが意図したとおりに評価されるようにするために、適切な箇所ではかっこを使って検索語をグループ化してください。例えば:

* `(apple OR iphone) ipad`
* `iphone (ipad OR android)`

<div id="punctuation-diacritics-and-case-sensitivity">
  #### 句読点、ダイアクリティカルマーク、および大文字と小文字の区別
</div>

Enterprise オペレーターに対してアクセントやダイアクリティカルマークを含むキーワードまたはハッシュタグのルールを指定した場合、そのルールはダイアクリティカルマーク（ハッシュタグやキーワード）を考慮してポストテキストと照合されます。キーワード `Diacr**í**tica` またはハッシュタグ `#cumplea**ñ**os` のルールは、「Diacr**í**tica」や「#cumplea**ñ**os」にはマッチしますが、チルダ付きの **í** や **eñe** がない「Diacritica」や「#cumpleanos」にはマッチしません。

アクセントやダイアクリティカルマーク付きの文字は通常の文字と同様に扱われ、単語の境界とは見なされません。たとえば、ルールが cumplea**ñ**os の場合、「cumpleaños」という単語を含むアクティビティにのみマッチし、「cumplea」や「cumplean」または「os」を含むアクティビティにはマッチしません。

すべてのオペレーターは大文字と小文字を区別せずに評価されます。たとえば、ルール `Cat` は次のすべてにマッチします: &quot;cat&quot;、&quot;CAT&quot;、&quot;Cat&quot;。

<div id="powertrack-rule-tags">
  #### PowerTrack ルールタグ
</div>

&quot;[Matching rules](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#matching-rules)&quot; のページで説明しているとおり、各ルールにはタグを付けて作成できます。これらのタグはフィルタリングには影響しませんが、アプリ内でルールを論理的なグループにまとめるために使用できます。各ルールに設定できるタグは 1 つのみで、文字数は最大 255 文字です。タグは、「Matching rules」ページで説明しているとおり、API を介してルールを作成する際に、JSON 形式のルールとともに指定します。

<div id="putting-rules-in-json-format">
  #### ルールをJSON形式にする
</div>

API経由でストリームにルールを追加または削除するには、ルールをJSON形式で表現する必要があります。基本的には、各ルールを次の構造に当てはめます。

`{"value":"insert_rule_here"}`

**ダブルクオーテーションを含むルール**

ルールに、完全一致やその他のオペレーターに関連するダブルクオーテーション文字（`“`）が含まれる場合、JSON形式の構造と区別するために、バックスラッシュを使ってエスケープする必要があります。

`"social data" @XDevelopers`

JSON形式のルールは次のようになります。

`{"value":"\"social data\" @XDevelopers"}`

**ダブルクオーテーションの文字列リテラルを含むルール**

完全一致の中でダブルクオーテーション文字を文字列リテラルとして含めるには、二重にエスケープする必要があります。たとえば、&quot;Toys “R” Us&quot; という正確なフレーズ（&quot;R&quot; を囲むダブルクオーテーションを含む）にマッチするルールの場合、プレーンテキストでの表現は次のようになります。

`"Toys \"R\" Us"`

これをJSON形式に変換するには、次の構造を使用します。

`{"value":"\"Toys \\\"R\\\" Us\""}`

**タグ付きルール**

上で説明したように、ルールに任意のタグを含めるには、ルールの値に加えて `tag` フィールドを追加します。

`{"value":"\"social data\" @XDevelopers","tag":"RULE-TAG-01"}`

**APIリクエストのフォーマット**

API経由でストリームにルールを追加または削除する場合、複数のJSON形式のルールはカンマ区切りにし、以下の例のようにJSONの `rules` 配列に格納する必要があります。

`{"rules":[{"value":"from:XDevelopers"},{"value":"\social data\" @XDevelopers","tag":"RULE-TAG-01"}]}`

<div id="operators-that-match-quote-tweets">
  #### 引用ポストにマッチする演算子
</div>

[PowerTrack API](/ja/x-api/enterprise-gnip-2.0/powertrack-api) および Historical PowerTrack API を使用する場合、以下の演算子は、引用された元のポストと新しい引用ポストの両方のコンテンツにマッチします。

一方、[Search API](/ja/x-api/enterprise-gnip-2.0/fundamentals/search-api) を使用する場合、これらの演算子は引用ポストの内容にのみマッチし、引用された元のポストのコンテンツにはマッチしません。

* `Keywords`
* `Phrases`
* `Proximity`
* `#hashtags`
* `@mentions`
* `$cashtags`
* `url:`
* `url_contains:`
* `has:links`
* `has:mentions`
* `has:hashtags`
* `has:media`
* `has:symbols`
* `is:quote`
* `is:reply`

<div id="enterprise-operators">
  ## Enterprise オペレーター
</div>

以下は、PowerTrack と Historical PowerTrack で利用可能なオペレーターです。これらの一部は、30 日間検索 API および Full-Archive 検索 API でも利用できます。利用可能なオペレーターを製品ごとにまとめた一覧については、[この表](/ja/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product)を参照してください。 

| オペレーター                                 | 説明                                                                                                                                                                                                                                                                                                                                       |
| :------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| keyword                                | ポストの本文テキストまたはURLに含まれるキーワードにマッチします。キーワードは、数字 (0-9) か、句読点以外の任意の文字で始まる必要があります。<br />キーワードマッチングはトークン化された単位で行われ、キーワードはポスト本文のトークン化済みテキストに対して照合されます。<br />句読点を含む文字列（例: &quot;coca-cola&quot;）には、引用符付きの &quot;exact phrase match&quot; を使用してください。<br />*例*: `(social OR pizza OR wildfire) -planet`                                              |
| emoji                                  | ポスト本文内の絵文字にマッチします。句読点、記号/絵文字、区切り文字に基づくトークン化マッチングを使用します。<br />絵文字に異体（バリアント）がある場合は、完全一致させるために引用符で囲んでください。<br />*例*: `(🍕 OR 💜 OR 🐢) -🤖`                                                                                                                                                                                                 |
| &quot;フレーズ完全一致&quot;                   | ポスト本文内のフレーズを完全一致でマッチさせます。句読点は空白として扱われます。<br />*例*: `("social media" OR "developer.x.com" OR "wildfire911" OR "coca-cola") -"planet earth"`                                                                                                                                                                                               |
| #                                      | 指定したハッシュタグが付いたポストにマッチします。これは完全一致であり、`#2016` は `#2016` を含むポストにはマッチしますが、`#2016election` を含むポストにはマッチしません。<br />*例*: `(#social OR #pizza OR #2016election) -#planet`                                                                                                                                                                         |
| @                                      | 指定したユーザー名に言及している任意のポストにマッチします。<br />*例*: `(@XDevelopers OR @api OR @twittereng) -@jack`                                                                                                                                                                                                                                                  |
| &quot;keyword1 keyword2&quot;~N        | キーワード同士が N トークン以内の距離にあるポストにマッチする近接演算子です。<br />キーワードの出現順が逆の場合、キーワード同士の距離は N-2 トークンを超えて離れていることはできません。N は 6 を超えることはできません。<br />*例*: `"social media"~5 OR "API"~3`                                                                                                                                                                           |
| contains:                              | トークン化の方法に関係なく、本文に指定した部分文字列を含むポストを部分一致で検索します。<br />空白や句読点を含む部分文字列にはダブルクォーテーションを使用します。<br />*例*: `(contains:social OR contains:"wikipedia.com") -contains:"buy now"`                                                                                                                                                                       |
| from:                                  | 特定のユーザーのポストにマッチします。X の数値アカウント ID またはユーザー名（先頭の `@` は付けない）で指定します。<br />*例*: `(from:2244994945 OR from:api OR from:twittereng) -from:jack`                                                                                                                                                                                                  |
| to:                                    | X の数値アカウント ID またはユーザー名（`@` を除く）で特定のユーザーへの返信である任意のポストにマッチします。<br />*例*: `(to:2244994945 OR to:api OR to:twittereng) -to:jack`                                                                                                                                                                                                             |
| url:                                   | ポスト内の展開済み URL に対して、トークン単位の（キーワード／フレーズ）マッチを行います。<br />*例*: `@XDevelopers url:"developer.x.com"`                                                                                                                                                                                                                                           |
| url&#95;title:                         | 展開されたページのHTMLタイトルメタデータに対して、キーワード／フレーズによるマッチングを行います。<br />*PowerTrackおよびHistorical PowerTrackでのみ利用可能です。*                                                                                                                                                                                                                                  |
| url&#95;description:                   | 展開済みのページ説明メタデータに対してキーワード／フレーズ一致検索を行います。<br />*PowerTrack および Historical PowerTrack でのみ利用可能です。*                                                                                                                                                                                                                                           |
| url&#95;contains:                      | 指定したフレーズまたはキーワードを含むURLが含まれるポストにマッチします。<br />句読点を含む検索語句は引用符で囲んでください。<br />*例*: `(url_contains:"developer.x.com" OR url_contains:wildfire) -url_contains:reddit`                                                                                                                                                                           |
| bio:                                   | ポストを投稿したユーザーの自己紹介文内のキーワードまたはフレーズにマッチします。これは、[User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 内の &#39;description&#39; フィールドに対するトークン化されたマッチです。<br />*例*: `(bio:engineer OR bio:"wordpress.com" OR bio:🚀) -bio:troll`<br />*注*: PowerTrack および Historical PowerTrack でのみ利用可能です。         |
| bio&#95;name:                          | ポストのユーザー名に含まれるキーワードにマッチします。これは、[User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 内のユーザーの「name」フィールドに対するトークン単位の一致です。<br />*注:* PowerTrack および Historical PowerTrack でのみ利用できます。                                                                                                           |
| bio&#95;location:                      | 指定したキーワードまたはフレーズが User object の location フィールドに含まれているポストにマッチします。<br />このオペレーターは、メッセージ本文に対する通常のキーワードルールと同様に、トークン化された一致を行います。<br />この location は [User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) の一部であり、アカウントの「ホーム」ロケーションを表します。<br />*注:* PowerTrack と Historical PowerTrack でのみ利用可能です。 |
| statuses&#95;count:                    | 著者のステータスの投稿件数が指定された範囲内にあるポストにマッチします。<br />単一の数値を指定した場合、その数値以上であればいずれの件数にもマッチします。<br />範囲を指定して、その範囲内の任意の件数にマッチさせることもできます（例: `statuses_count:1000..10000`）。<br />*例:* `to:api statuses_count:10`<br />*注:* PowerTrack と Historical PowerTrack でのみ利用可能です。                                                                                   |
| followers&#95;count:                   | 著者のフォロワー数が指定された範囲内にあるポストにマッチします。<br />単一の数値が指定された場合、その数値以上であればすべてマッチします。<br />範囲を指定して、その範囲内の任意の数値にマッチさせることができます（例: `followers_count:1000..10000`）。<br />*注:* PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                             |
| friends&#95;count:                     | 著者の friends count（そのユーザーがフォローしているユーザー数）が指定した範囲内にあるポストにマッチします。<br />単一の数値を指定した場合、その数値以上の値であればマッチします。<br />範囲を指定して、その範囲内の任意の数値にマッチさせることもできます（例: `friends_count:1000..10000`）。<br />*注:* PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                    |
| listed&#95;count:                      | 著者が X 上のリストに追加された回数が指定された範囲内であるポストにマッチします。<br />単一の数値を指定した場合、その数値以上であればすべてマッチします。<br />範囲を指定して、その範囲内の任意の数値にマッチさせることもできます（例: `listed_count:10..100`）。<br />*注:* PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                           |
| $                                      | 指定された「キャッシュタグ」エンティティを含むポストにマッチします。<br />*例*: `($TWTR OR $TSLA OR $BRK.A) -$F`<br />*注:* キャッシュタグ演算子は、本文から直接抽出するのではなく、X の「symbols」エンティティ抽出機能に依存してキャッシュタグにマッチします。                                                                                                                                                                           |
| retweets&#95;of:                       | 指定したユーザーのポストをリポストしたポストにマッチします。<br />ユーザー名と数値の X アカウント ID の両方を指定できます（ポストのステータス ID ではありません）。<br />*例*: `(retweets_of:2244994945 OR retweets_of:api OR retweets_of:twittereng) -retweets_of:jack`                                                                                                                                           |
| retweets&#95;of&#95;status&#95;id:     | 指定したポストの明示的なリポストのみを配信します。リポストではなく、元のポストのIDを使用してください。<br />*例*: `retweets_of_status_id:1293593516040269825`<br />*注:* PowerTrack と Historical PowerTrack でのみ利用可能です。                                                                                                                                                                       |
| in&#95;reply&#95;to&#95;status&#95;id: | 指定したポストへの明示的な返信だけを配信します。<br />*例*: `in_reply_to_status_id:1293593516040269825`<br />*注:* PowerTrack と Historical PowerTrack でのみ利用可能です。                                                                                                                                                                                                   |
| sample:                                | ルールに一致するポストをランダムに抽出したサンプルを返します。サンプルのパーセンテージは 1〜100 の整数である必要があります。<br />このオペレーターはまず対象を X% に絞り込み、その後、そのサンプリングされたサブセットに対してルールやフィルターを適用します。<br />*例:* `#happybirthday sample:5`<br />`"happy birthday"~5 sample:80`<br />*注:* PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                |
| source:                                | 指定したソースアプリケーションによって生成されたポストすべてにマッチします。値にはアプリケーション名またはアプリケーションの URL を指定できます。<br />*例:* `#happybirthday source:"X for iPhone"`<br />`"This is a test X from my TestingApp" source:MyTestAppName`<br />*注意:* source 演算子はポストの source 属性を検索対象とし、単独では使用できません。                                                                                  |
| lang:                                  | 特定の言語に属すると X によって分類されたポストにマッチします。現在、ポストは 1 つの言語にのみ分類されるため、複数の言語を指定しても結果は返されません。*単独での使用は推奨されていません。*                                                                                                                                                                                                                                       |

以下のリストは、現在サポートされている言語と、それぞれに対応する BCP 47 の言語識別子を示しています。

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Amharic: am | German: de | Malayalam: ml | Slovak: sk |
| Arabic: ar | Greek: el | Maldivian: dv | Slovenian: sl |
| Armenian: hy | Gujarati: gu | Marathi: mr | Sorani Kurdish: ckb |
| Basque: eu | Haitian Creole: ht | Nepali: ne | Spanish: es |
| Bengali: bn | Hebrew: iw | Norwegian: no | Swedish: sv |
| Bosnian: bs | Hindi: hi | Oriya: or | Tagalog: tl |
| Bulgarian: bg | Latinized Hindi: hi-Latn | Panjabi: pa | Tamil: ta |
| Burmese: my | Hungarian: hu | Pashto: ps | Telugu: te |
| Croatian: hr | Icelandic: is | Persian: fa | Thai: th |
| Catalan: ca | Indonesian: in | Polish: pl | Tibetan: bo |
| Czech: cs | Italian: it | Portuguese: pt | Traditional Chinese: zh-TW |
| Danish: da | Japanese: ja | Romanian: ro | Turkish: tr |
| Dutch: nl | Kannada: kn | Russian: ru | Ukrainian: uk |
| English: en | Khmer: km | Serbian: sr | Urdu: ur |
| Estonian: et | Korean: ko | Simplified Chinese: zh-CN | Uyghur: ug |
| Finnish: fi | Lao: lo | Sindhi: sd | Vietnamese: vi |
| French: fr | Latvian: lv | Sinhala: si | Welsh: cy |
| Georgian: ka | Lithuanian: lt |     |

例:

(@XDevelopers OR to:XDevelopers) lang:es

**注:** 言語オペレーターは、X が判定し、ポストの `lang` 属性として設定した特定のポスト言語に基づいてマッチします。X Entities JSON 属性の詳細は[こちら](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)を参照してください。ポストの言語分類を行えない場合、そのポストの `lang` は「und」（未定義）として設定されます。

| オペレーター                                                                     | 説明                                                                                                                                                                                                                                                                                                                                                                                                              |
| :------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| place                                                                      | 指定した場所またはX place ID がタグ付けされたポストに一致します。<br />複数の単語から成る場所名は引用符で囲む必要があります。<br />*例:* `(place:London OR place:"Great Britain") -place:USA`<br />`place:fd70c22040963ac7`<br />**注:** X place ID を取得する方法については、[GET geo/search](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) パブリック API エンドポイントを参照してください。<br />**注:** リポストまたは引用ポストには一致しません。リポストの場所情報は元のポストに紐づけられます。 |
| place&#95;country                                                          | タグ付けされた場所/ロケーションに対応する国コードが、指定した ISO alpha-2 文字コードと一致するポストにマッチします。<br />*例:* `place_country:GB OR place_country:AU OR place_country:CA`<br />**注:** リポストや引用ポストにはマッチしません。リポストの場所情報は元のポストに紐づけられます。<br />有効な ISO コード: [ISO 3166-1 alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)。                                                                                                                        |
| point&#95;radius:[lon lat radius]                                          | 定義した半径内にあるポストの正確な位置情報 (x,y) または「Place」のジオポリゴンにマッチします。<br />* 半径: &lt; 25mi<br />* 対応単位: mi, km<br />* 経度: ±180<br />* 緯度: ±90<br />座標は十進度で指定します。<br />引数は角括弧で囲み、スペース区切りで指定します。<br />*例:* `point_radius:[-105.27346517 40.01924738 0.5mi]`<br />*例:* `point_radius:[2.355128 48.861118 16km]`<br />**注:** リポストや引用ポストにはマッチしません。                                                                                   |
| bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat] | 境界ボックスの内部に完全に含まれる、正確な位置情報または「Place」のジオポリゴンにマッチします。<br />引数は角括弧で囲み、スペース区切りで指定します。<br />座標: 10進表記の度数（経度 ±180、緯度 ±90）。<br />幅と高さは 25mi 未満である必要があります。<br />*例:* `bounding_box:[-105.301758 39.964069 -105.178505 40.09455]`<br />**注:** リツイートや引用ツイートにはマッチしません。                                                                                                                                                      |
| profile&#95;country                                                        | 投稿者のプロフィールのジオの国コードが、指定した ISO 3166-1 alpha-2 形式の2文字国コードと一致するポストにマッチします。                                                                                                                                                                                                                                                                                                                                          |
| profile&#95;region                                                         | 投稿者のプロフィールのジオ拡張情報に含まれる「region」フィールドに対して、文字列全体の完全一致でマッチします。<br />空白や句読点を含む部分文字列には二重引用符を使用します。<br />*例:* `profile_region:"New York"`                                                                                                                                                                                                                                                                              |
| profile&#95;locality                                                       | 著者のプロフィールのジオ拡張における「locality」フィールドに対して、文字列の完全一致でマッチします。<br />空白または句読点を含む部分文字列には二重引用符を使用します。<br />*例:* `profile_locality:"San Francisco"`                                                                                                                                                                                                                                                                         |
| profile&#95;subregion                                                      | 投稿者のプロフィールのジオエンリッチメント内にある「subRegion」フィールドにマッチし、特定の郡や都市圏を対象とします。<br />完全な文字列のフル一致です。<br />*Example:* `profile_subregion:"Santa Clara County"`                                                                                                                                                                                                                                                                    |
| has:geo                                                                    | X 上のポストのうち、ポスト固有の位置情報データを含むものにマッチします。これには、表示名とジオポリゴンを備えた「geo」の緯度・経度、または「Place」の位置データが含まれます。<br />**注:** Search API を使用する場合は、`is:` や `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                                                         |
| has:profile&#95;geo                                                        | 値を問わず、任意のプロフィールのジオメタデータを持つポストにマッチします。<br />使用可能なエイリアス: `has:derived_user_geo`。<br />**注:** Search API で使用する場合、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                         |
| has:links                                                                  | ペイロードの &quot;text&quot; オブジェクト内にリンクまたは参照されているメディアを含むポストにマッチし、メディア付きポストおよび引用ポストを含みます。<br />**注:** Search API では、`is:` や `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                                                                      |
| is:retweet                                                                 | 明示的なリツイートのみを返します。否定して使用すると、リツイートを除外し、元のポストのみを返すことができます。<br />このオペレーターは、引用ポストではなく、実際のリツイートのみを対象とします。<br />**注:** Search API では、`is:` や `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                                                       |
| is:reply                                                                   | 明示的な返信のみを返します。否定形で使用すると、返信を除外できます。<br />PowerTrack は、元のポストへの返信、引用ポスト内の返信、およびリポスト内の返信にマッチします。<br />Search API は、元のポストへの返信のみにマッチします。<br />*例:* `@XDevelopers -is:reply`                                                                                                                                                                                                                                           |
| is:quote                                                                   | 引用ポスト、または別のポストを参照しているポストのみを返します。<br />否定形で使用すると、引用ポストを除外できます。<br />*例:* `@XDevelopers is:quote`                                                                                                                                                                                                                                                                                                                 |
| is:verified                                                                | 「認証済み」アカウントからのポストのみを返します。否定形にすることで、認証済みアカウントからのポストを除外できます。<br />*例:* `@XDevelopers is:verified`                                                                                                                                                                                                                                                                                                                 |
| has:mentions                                                               | 他のXユーザーへの言及を含むポストにマッチします。<br />**注:** Search API を使用する場合は、`is:` または `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                                                                                                                         |
| has:hashtags                                                               | ハッシュタグを含むポストにマッチします。<br />**注:** Search API を使用する場合は、`is:` または `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                                                                                                                              |
| has:media                                                                  | X によりメディア URL と分類された URL（例: pic.x.com）を含むポストにマッチします。<br />利用可能なエイリアス: `has:media_link`。<br />**注:** Search API を使用する場合、`is:` や `has:` 以外の演算子と組み合わせて使用する必要があります。                                                                                                                                                                                                                                                 |
| has:images                                                                 | メディアの URL（例: pic.x.com）を含むポストにマッチします。<br />**注意:** Search API を利用する場合は、`is:` や `has:` 以外の演算子と組み合わせて使用する必要があります。                                                                                                                                                                                                                                                                                                 |
| has:videos                                                                 | X にアップロードされたネイティブ X 動画を含むポストにマッチします。<br />利用可能なエイリアス: `has:video_link`。<br />このオペレーターは YouTube、Periscope、その他の動画共有サイト上の動画にはマッチしません。<br />**注:** Search API を使用する場合は、`is:` または `has:` 以外のオペレーターと組み合わせて使用する必要があります。                                                                                                                                                                                                |
| has:symbols                                                                | キャッシュタグ記号（例：$TWTR）を含むポストにマッチします。<br />**注:** Search API では、`is:` および `has:` 以外の演算子と組み合わせて使用する必要があります。                                                                                                                                                                                                                                                                                                           |

<div id="operators-by-product">
  ## プロダクト別オペレーター
</div>

<div id="rules-and-filtering-enterprise">
  ### Rules and filtering: Enterprise
</div>

すべての Enterprise オペレーターは、PowerTrack と Historical PowerTrack API で利用できます。ただし、Enterprise Search API で利用できるオペレーターは、本ページで説明しているとおり一部に限られます。

濃い青色のタグは、各 Enterprise 製品でどのオペレーターが利用できるかを示しています。

PowerTrack Search

| 演算子                                                                                    | プロダクト                            | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 照合対象のペイロード要素                                                                          |
| :------------------------------------------------------------------------------------- | :------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------ |
| &quot;フレーズの完全一致&quot;                                                                  | PowerTrack<br /><br />Search     | ポスト本文内の完全一致するフレーズにマッチします。<br /><br />検索オペレーターに変換可能なコンポーネントは、単語として扱われます。言い換えると、次のとおりです。<br /><br />* `"#hashtag"` は `hashtag` にはマッチしますが、`#hashtag` にはマッチしません（実際のハッシュタグにマッチさせるには、引用符なしの [hashtag operator](#hashtag-operator) を使用してください）<br />* `"$TWTR"` は単語 `TWTR` にはマッチしますが、キャッシュタグ `$TWTR` にはマッチしません（実際のキャッシュタグにマッチさせるには、引用符なしの [cashtag operator](#cashtag-operator) を使用してください）<br /><br />**Note:** 30 Day Search と Full Archive Search（Enterprise および Premium）では、句読点はトークン化されず、空白として扱われます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `text`                                                                                |
| @                                                                                      | PowerTrack<br /><br />Search     | 指定したユーザー名に言及している任意のポストにマッチします。値として指定できるのは、ユーザー名（`@` 文字を含めないもの）か、ユーザーの数値 ID（たとえば [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得したもの）のいずれかです。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `entities.user_mentions`                                                              |
| #                                                                                      | PowerTrack<br /><br />Search     | 指定されたハッシュタグを含むポストにマッチします。<br /><br />このオペレーターは厳密一致で動作します。たとえば、ルール `#1989` は、ハッシュタグ `#1989` を正確に含むポストにはマッチしますが、ハッシュタグ `#TaylorSwift1989` を含むものにはマッチしません。<br /><br />**注:** このオペレーターは、本文からハッシュタグ自体を抽出するのではなく、X のエンティティ抽出機能に依存してハッシュタグにマッチします。エンティティに由来する JSON 属性の詳細については、[X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `entities.hashtags`                                                                   |
| $                                                                                      | PowerTrack<br /><br />Search     | 指定したキャッシュタグ（トークンの先頭文字が `$` のもの）を含むポストにマッチします。<br /><br />**注:** このオペレーターは、リンクを本文から直接抽出するのではなく、X のエンティティ抽出機能に依存してリンクにマッチします。エンティティに由来する JSON 属性の詳細については、[X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `entities.symbols`                                                                    |
| bio:                                                                                   | PowerTrack                       | *使用可能な別名*: user&#95;bio:<br /><br />ポストのユーザー自己紹介文内のキーワード（トークン化マッチを使用）またはフレーズにマッチします。フレーズにマッチさせるには二重引用符を使用します。具体的には次のとおりです:<br /><br />* `bio:software engineer` は、自己紹介文に `software` を含むユーザーのうち、キーワード `engineer` を含むポストにマッチします<br />* `bio:"software engineer"` は、自己紹介文にフレーズ `software engineer` を含むユーザーが投稿した任意のポストにマッチします                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `user``.description`                                                                  |
| bio&#95;location:                                                                      | PowerTrack                       | *利用可能なエイリアス*: user&#95;bio&#95;location:<br /><br />[User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) の location に、指定したキーワード（トークン化マッチを使用）またはフレーズが含まれるポストにマッチします。<br /><br />この location は正規化されていないユーザー生成の自由形式文字列であり、ポストの location（利用可能な場合）とは異なります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `user.location`                                                                       |
| bio&#95;name:                                                                          | PowerTrack                       | [User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) の name フィールドに指定したキーワード（トークン化マッチを使用）またはフレーズが含まれているポストにマッチします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `user.name`                                                                           |
| bounding&#95;box:                                                                      | PowerTrack<br /><br />Search     | *利用可能なエイリアス*: geo&#95;bounding&#95;box:<br /><br />ポストの正確な位置（long, lat が存在する場合）およびジオポリゴン（Place が定義された領域内に完全に含まれている場合）に対してマッチします。<br /><br />* west&#95;long と south&#95;lat はバウンディングボックスの南西端を表し、west&#95;long がその点の経度、south&#95;lat が緯度です。<br />* east&#95;long と north&#95;lat はバウンディングボックスの北東端を表し、east&#95;long がその点の経度、north&#95;lat が緯度です。<br />* バウンディングボックスの幅と高さは 25 マイル未満である必要があります。<br />* 経度は ±180 度の範囲です。<br />* 緯度は ±90 度の範囲です。<br />* すべての座標は十進度（decimal degrees）です。<br />* ルール引数は角括弧内に、スペース区切りで指定します。<br /><br />**注:** place（ポストのジオ情報）にマッチするオペレーターは、オリジナルのポストのみを対象とします。リツイートには place データは含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `place`（オリジナルのポストのみ）                                                                  |
| contains:                                                                              | PowerTrack                       | トークン化に関係なく、ポスト本文に指定した部分文字列を含むポストに対して部分文字列一致を行います。言い換えると、これは純粋な部分文字列一致であり、単語境界は考慮しません。<br /><br />空白や句読点を含む部分文字列に一致させるには、その部分文字列を二重引用符で囲んでください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `text`                                                                                |
| &lt;emoji&gt;                                                                          | PowerTrack<br /><br />Search     | ポスト本文内の絵文字にマッチします。<br /><br />これはトークン単位でのマッチであり、指定した絵文字はポスト本文のトークン化されたテキストと照合されます。トークン化は、句読点、記号／絵文字、および区切り文字に該当する Unicode 基本多言語面の文字に基づいて行われます。たとえば、「I like 🍕」というテキストのポストは、次のトークンに分割されます: I、like、🍕。これらのトークンが、ルールで使用した絵文字と比較されます。<br /><br />**注:** 絵文字にバリアントがある場合、その絵文字をルールに追加するには二重引用符で囲む必要があります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `text`                                                                                |
| followers&#95;count:                                                                   | PowerTrack                       | 著者のフォロワー件数が指定した範囲内にあるポストにマッチします。<br /><br />* 単一の数値（例: `followers_count:42`）は、指定した値以上の任意の数値にマッチします。<br />* 範囲（例: `followers_count:42..1337`）は、指定した範囲内の任意の数値にマッチします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `user.followers_count`                                                                |
| friends&#95;count:                                                                     | PowerTrack                       | *利用可能な別名*: following&#95;count:<br /><br />投稿者のfriends数（フォロー中のユーザー数）が指定した範囲内にあるポストにマッチします。<br /><br />* 単一の数値（例: `followers_count:42`）は、指定した値以上の任意の数値にマッチします。<br />* 範囲（例: `followers_count:42..1337`）は、指定した範囲内の任意の数値にマッチします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `user.friends_count`                                                                  |
| from:                                                                                  | PowerTrack<br /><br />Search     | 特定のユーザーによる任意のポストにマッチします。値には、ユーザー名（`@` 文字を除く）、またはユーザーの数値 ID（たとえば [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得したもの）を指定できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `user.id`, `user.id_str` (ユーザーIDを使用する場合)<br /><br />`user.screen_name` (ユーザー名を使用する場合) |
| has:geo                                                                                | PowerTrack<br /><br />Search     | X から提供される、ポスト固有の位置情報データを持つポストにマッチします。これは、「geo」緯度・経度座標、または対応する表示名、ジオポリゴン、その他のフィールドを含む X の [Place](https://dev.x.com/overview/api/places) 形式の「location」のいずれかです。<br /><br />単独のオペレーターとして使用することはできません。<br /><br />**注意:** place（ポストの位置情報）にマッチするオペレーターは、オリジナルポストからのマッチのみを含みます。リツイートには place データは含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `place`（オリジナルポストのみ）                                                                   |
| has:hashtags                                                                           | PowerTrack<br /><br />Search     | 1つ以上のハッシュタグを含むポストにマッチします。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `entities.hashtags`                                                                   |
| has:images                                                                             | PowerTrack<br /><br />Search     | 少なくとも 1 つの分類された画像 URL を含むポストにマッチします。<br /><br />単独ではオペレーターとして使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `entities.media`                                                                      |
| has:lang                                                                               | PowerTrack                       | 特定の言語であるとXによって分類されたポストにマッチします。<br /><br />ポストが分類されていない場合、このオペレーターではマッチしません。各ポストは現在1つの言語にしか分類されないため、複数の言語をAND条件で組み合わせても結果は返されません。<br /><br />単体ではオペレーターとして使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `lang`（値が `und` でない場合）                                                                |
| has:links                                                                              | PowerTrack<br /><br />Search     | このオペレーターは、ポスト本文にリンクを含むポストを対象とします。<br /><br />単独のオペレーターとしては使用できません。<br /><br />**注:** このオペレーターは、本文から直接リンクを抽出するのではなく、リンクを特定するために X のエンティティ抽出機能に依存します。エンティティに含まれる JSON 属性の詳細については、[X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `entities.urls`                                                                       |
| has:media                                                                              | PowerTrack<br /><br />Search     | *利用可能な別名*: has:media&#95;link<br /><br />少なくとも 1 つの分類済みメディア URL を含むポストに一致します。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `entities.media`                                                                      |
| has:mentions                                                                           | PowerTrack<br /><br />Search     | 他のXユーザーに言及しているポストにマッチします。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `entities.user_mentions`                                                              |
| has:profile&#95;geo                                                                    | PowerTrack<br /><br />Search     | *使用可能な別名*: has:derived&#95;user&#95;geo<br /><br />実際の値に関係なく、何らかの [Profile Geo](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#profile-geo) メタデータが付与されているポストに一致します。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `user.location`                                                                       |
| has:symbols                                                                            | PowerTrack<br /><br />Enterprise | キャッシュタグ記号（例：`$TWTR`）を含むポストにマッチします。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `entities.symbols`                                                                    |
| has:videos                                                                             | PowerTrack<br /><br />Search     | *利用可能なエイリアス*: has:video&#95;link<br /><br />少なくとも 1 つの分類済みメディアの URL を含むポストに一致します。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `entities.media`                                                                      |
| in&#95;reply&#95;to&#95;status&#95;id:                                                 | PowerTrack                       | *利用可能なエイリアス*: in&#95;reply&#95;to&#95;tweet&#95;id:<br /><br />指定したポストへの明示的な返信のみを配信します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 対象ポストの `id` および `id_str`                                                              |
| is:quote                                                                               | PowerTrack                       | ルールに一致する明示的な引用ポストのみを配信します。<br /><br />否定形（`-is:quote`）を指定すると、ルールに一致する引用ポストを配信から除外できます。<br /><br />単体のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `is_quote_status`（`true` の場合）                                                         |
| is:reply                                                                               | PowerTrack<br /><br />Search     | ルールに一致する返信のみを配信します。<br /><br />この演算子は否定形（`-is:reply`）にすることもでき、その場合は指定したルールに一致する返信を配信対象から除外します。<br /><br />PowerTrack では、この演算子は次の対象にマッチします。<br /><br />* 元のポストへの返信<br />* 引用ポスト内の返信<br />* リツイート内の返信<br /><br />  <br />Search API で使用する場合、この演算子は元のポストへの返信にはマッチしますが、引用ポスト内の返信およびリツイート内の返信は除外します。<br /><br />元のポストへの返信のみを配信するために、この演算子を `is:retweet` や `is:quote` と組み合わせて使用できます。<br /><br />Search API では、この演算子を単独では使用できません。<br /><br />**注意**: Premium では、この演算子は Sandbox 開発環境では利用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 返信を表す要素（例: `in_reply_to_status_id`）                                                   |
| is:retweet                                                                             | PowerTrack<br /><br />Search     | ルールに一致する明示的なリツイートのみを配信します。<br /><br />また、否定形（`-is:retweet`）を使用して、ルールに一致するリツイートを配信対象から除外し、オリジナルのコンテンツのみを配信することもできます。<br /><br />このオペレーターは、いわゆる正規のリツイート（「リツイート」ボタンを使って投稿されたリツイート）だけを対象とします。X のリツイート機能を使用していない引用ポストや編集されたポストは、このオペレーターではマッチしません。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | リツイートの要素（例：`retweeted_status`）                                                        |
| is:verified                                                                            | PowerTrack<br /><br />Search     | 投稿者がXによって認証されているポストのみを配信します。<br /><br />否定形で使用することで、投稿者が認証されているポストを配信対象から除外することもできます。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `user.verified`                                                                       |
| keyword                                                                                | PowerTrack<br /><br />Search     | ポスト本文内のキーワードにマッチします。<br /><br />これはトークン化に基づくマッチであり、指定したキーワード文字列は、ポスト本文をトークン化したテキストと照合されます。トークン化は、句読点、記号／絵文字、および区切り文字に相当する Unicode 基本多言語面の文字に基づいて行われます。たとえば、テキストが “I like coca-cola” のポストは、次のトークンに分割されます：`I`、`like`、`coca`、`cola`。これらのトークンが、ルールで使用したキーワード文字列と照合されます。句読点（例: coca-cola）、記号、または区切り文字を含む文字列にマッチさせるには、[exact phrase match](#exact-match) オペレーターを使用する必要があります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `text`                                                                                |
| lang:                                                                                  | PowerTrack<br /><br />Search     | X によって特定の言語であると分類されたポスト（そのポストが分類されている場合に限る）にマッチします。各ポストは 1 つの言語にのみ分類されるため、複数の言語を AND 条件で指定しても結果は返されません。<br /><br />**注:** 言語分類が行えなかった場合、返される値は `und`（未定義）になります。<br /><br />このオペレーターは、サポート対象の言語に対してのみマッチします。`und` を含むそれ以外の値を指定した場合、このオペレーターは無視されます（言い換えると、ポストはこのオペレーターによるフィルタリングは行われません）。以下のリストは、現在サポートされている言語と、それに対応する BCP 47 言語識別子を示します。<br /><br />`am` アムハラ語<br /><br />`hu` ハンガリー語<br /><br />`pt` ポルトガル語<br /><br />`ar` アラビア語<br /><br />`is` アイスランド語<br /><br />`ro` ルーマニア語<br /><br />`hy` アルメニア語<br /><br />`in` インドネシア語<br /><br />`ru` ロシア語<br /><br />`bn` ベンガル語<br /><br />`it` イタリア語<br /><br />`sr` セルビア語<br /><br />`bg` ブルガリア語<br /><br />`ja` 日本語<br /><br />`sd` シンド語<br /><br />`my` ビルマ語<br /><br />`kn` カンナダ語<br /><br />`si` シンハラ語<br /><br />`zh` 中国語<br /><br />`km` クメール語<br /><br />`sk` スロバキア語<br /><br />`cs` チェコ語<br /><br />`ko` 韓国語<br /><br />`sl` スロベニア語<br /><br />`da` デンマーク語<br /><br />`lo` ラオス語<br /><br />`ckb` ソラニー・クルド語<br /><br />`nl` オランダ語<br /><br />`lv` ラトビア語<br /><br />`es` スペイン語<br /><br />`en` 英語<br /><br />`lt` リトアニア語<br /><br />`sv` スウェーデン語<br /><br />`et` エストニア語<br /><br />`ml` マラヤーラム語<br /><br />`tl` タガログ語<br /><br />`fi` フィンランド語<br /><br />`dv` ディベヒ語（モルディブ語）<br /><br />`ta` タミル語<br /><br />`fr` フランス語<br /><br />`mr` マラーティー語<br /><br />`te` テルグ語<br /><br />`ka` ジョージア語<br /><br />`ne` ネパール語<br /><br />`th` タイ語<br /><br />`de` ドイツ語<br /><br />`no` ノルウェー語<br /><br />`bo` チベット語<br /><br />`el` ギリシャ語<br /><br />`or` オリヤー語<br /><br />`tr` トルコ語<br /><br />`gu` グジャラート語<br /><br />`pa` パンジャブ語<br /><br />`uk` ウクライナ語<br /><br />`ht` ハイチ語<br /><br />`ps` パシュトゥー語<br /><br />`ur` ウルドゥー語<br /><br />`iw` ヘブライ語<br /><br />`fa` ペルシア語<br /><br />`ug` ウイグル語<br /><br />`hi` ヒンディー語<br /><br />`pl` ポーランド語<br /><br />`vi` ベトナム語<br /><br />`cy` ウェールズ語 | `lang`（値が `und` の場合を除く）                                                               |
| listed&#95;count:                                                                      | PowerTrack                       | *利用可能な別名*: user&#95;in&#95;lists&#95;count:<br /><br />投稿者がX上のリストに追加された回数が指定した範囲内に収まっているポストにマッチします。<br /><br />* 単一の数値（例: `listed_count:42`）は、指定した値以上の任意の数値にマッチします。<br />* 範囲（例: `listed_count:42..1337`）は、指定した範囲内の任意の数値にマッチします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `user.listed_count`                                                                   |
| place&#95;country:                                                                     | PowerTrack<br /><br />Search     | タグ付けされた[place/location](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-geo-objects)に関連付けられた国コードが、指定された[ISO 2文字国コード](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)と一致するポストにマッチします。<br /><br />**注意:** place（ポストのジオ情報）にマッチするオペレーターは、オリジナルのポストのみを対象とします。リポストには place データは含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `place` (オリジナルのポストのみ)                                                                 |
| place:                                                                                 | PowerTrack<br /><br />Search     | 指定した位置情報または [X place ID](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) でタグ付けされたポストに一致します。複数語（スペースを含む）からなる場所名は引用符で囲む必要があります（例: `place:"San Francisco"`）<br /><br />**注:** place（ポストのジオ）に基づいてマッチングするオペレーターは、オリジナルのポストのみを対象とします。リポストには place データが含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `place`（元のポストのみ）                                                                      |
| point&#95;radius:                                                                      | PowerTrack<br /><br />Search     | **注:** place（ポストの位置情報）にマッチするオペレーターは、元のポストに対してのみマッチします。リツイートには place データが含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `place`（オリジナルのポストのみ）                                                                  |
| profile&#95;bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat] | PowerTrack                       | [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 内のユーザーの正確な Location（経度・緯度）に対して、Place が定義された領域内に完全に含まれている場合にマッチします。<br /><br />* west&#95;long south&#95;lat はバウンディングボックスの南西端を表し、west&#95;long がその点の経度、south&#95;lat が緯度です。<br />* east&#95;long と north&#95;lat はバウンディングボックスの北東端を表し、east&#95;long がその点の経度、north&#95;lat が緯度です。<br />* バウンディングボックスの幅と高さは 25mi 未満である必要があります。<br />* 経度は ±180 の範囲内です。<br />* 緯度は ±90 の範囲内です。<br />* すべての座標は 10 進表記の度数です。<br />* ルール引数は角括弧内に含め、スペース区切りで指定します。<br /><br />**Note:** place（ポストの位置情報）にマッチするオペレーターは、オリジナルのポストからの一致のみを含みます。リツイートには place データが含まれていません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `user.derived.locations.geo.coordinates`                                              |
| profile&#95;country:                                                                   | PowerTrack<br /><br />Search     | [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) の国コードに対して完全一致でマッチします。<br /><br />[ISO-3166-1-alpha-2 specification](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) に基づく、正規化された2文字の国コードのセットを使用します。<br /><br />仕様を簡潔にするために、address オブジェクトの country フィールド用オペレーターの代わりとして、このオペレーターが提供されています。<br /><br />**注:** place（ポストのジオ情報）でマッチングを行うオペレーターは、オリジナルのポストのみを対象とします。リツイートには place データが含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `user.derived.locations.country_code`                                                 |
| profile&#95;locality:                                                                  | PowerTrack<br /><br />Search     | [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) の Locality フィールドに対する完全一致です。<br /><br />これは文字列全体に対する完全一致です。<br /><br />バックスラッシュによる文字のエスケープは不要です。たとえばスラッシュを含むものにマッチさせる場合は、`one/two` を使用します。<br /><br />空白や句読点を含む部分文字列にマッチさせるには、`profile_locality:"Lower East Side"` のように二重引用符を使用します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `user.derived.locations.locality`                                                     |
| profile&#95;point&#95;radius:[lon lat radius]                                          | PowerTrack                       | ユーザーの [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) における正確な位置 (x,y) と照合します。<br /><br />* 半径に指定できる単位はマイル (mi) とキロメートル (km) です。<br />* 半径は 25mi 未満でなければなりません。<br />* 経度は ±180 の範囲です。<br />* 緯度は ±90 の範囲です。<br />* すべての座標は 10 進の度数で指定します。<br />* ルールの引数は角括弧内に記述し、スペース区切りにします。<br /><br />**注:** place（ポストのジオ情報）でマッチングを行うオペレーターは、オリジナルポストのみを対象にマッチングします。リツイートには place データが含まれません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `user.derived.locations.geo`                                                          |
| profile&#95;region:                                                                    | PowerTrack<br /><br />Search     | [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) の Region フィールド値に対する完全一致。<br /><br />これは文字列全体に対する完全一致です。<br /><br />バックスラッシュによる文字のエスケープは不要です。たとえばスラッシュを含む文字列にマッチさせる場合は、`one/two` を使用します。<br /><br />空白や句読点を含む部分文字列にマッチさせるには、`profile_locality:"New York"` のように二重引用符を使用します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user.derived.locations.region`                                                       |
| profile&#95;subregion:                                                                 | PowerTrack                       | [Profile Geo enrichment](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) の Subregion フィールドに対する完全一致です。<br /><br />これは文字列全体の完全一致です。<br /><br />バックスラッシュで文字をエスケープする必要はありません。たとえば、スラッシュを含むものにマッチさせる場合は `one/two` のように指定します。<br /><br />空白や句読点を含む部分文字列と一致させるには、`profile_locality:"Kings County"` のように二重引用符を使用してください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `user.derived.locations.sub_region`                                                   |
| &quot;keyword1 keyword2&quot;~N                                                        | PowerTrack<br /><br />Search     | 一般的に「近接演算子」と呼ばれ、キーワード同士の間隔が N トークン以内であるポストにマッチします。<br /><br />キーワードの順序が逆の場合は、その間隔が N-2 トークン以内でなければなりません。<br /><br />引用符内には任意の数のキーワードを指定できます。<br /><br />N は 6 を超えることはできません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `text`                                                                                |
| retweets&#95;of&#95;status&#95;id:                                                     | PowerTrack                       | *利用可能なエイリアス*: retweets&#95;of&#95;tweet&#95;id:<br /><br />指定した元のポストの明示的なリツイートのみを返します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `retweeted_status.id`, `retweeted_status.id_str`                                      |
| retweets&#95;of:                                                                       | PowerTrack<br /><br />Search     | *利用可能な別名*: retweets&#95;of&#95;user:<br /><br />指定したユーザーのリポストであるポストにマッチします。値には、ユーザー名（`@` 文字を除く）か、ユーザーの数値 ID（例えば [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイント経由で取得したもの）のいずれかを指定できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `retweeted_status.id`（存在する場合）                                                         |
| sample:                                                                                | PowerTrack                       | ルールに一致するポスト全体ではなく、そのうちからランダムに選ばれたパーセント分のサンプルを返します。パーセント値は 1 から 100 までの整数で指定する必要があります。<br /><br />このオペレーターはルール全体に適用され、OR で結合されたすべての条件をグループ化する必要があります。<br /><br />**注:** sample オペレーターはまず Firehose の範囲を X% にまで縮小し、その後にルール／フィルターがそのサンプル済みサブセットに適用されます。例えば `sample:10` を使用している場合、各ポストがサンプルに含まれる確率は 10% になります。<br /><br />**注:** サンプリングは決定論的であり、履歴データを取得した場合と同じデータサンプルをリアルタイムでも取得できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                                                                                       |
| source:                                                                                | PowerTrack                       | 指定されたソースアプリケーションによって生成されたポストすべてにマッチします。値には、アプリケーション名またはアプリケーションの URL のいずれか一方を指定する必要があります。<br /><br />単独のオペレーターとしては使用できません。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `source`                                                                              |
| statuses&#95;count:                                                                    | PowerTrack                       | *利用可能な別名*: tweets&#95;count:<br /><br />投稿者が投稿したステータス数が指定した範囲内にあるポストにマッチします。<br /><br />* 単一の数値（例: `statuses_count:42`）は、指定した値以上の任意の数値にマッチします。<br />* 範囲指定（例: `statuses_count:42..1337`）は、指定した範囲内の任意の数値にマッチします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `user``.statuses_count`                                                               |
| to:                                                                                    | PowerTrack<br /><br />Search     | 特定のユーザー宛ての返信であるポストにマッチします。値には、ユーザー名（`@` 文字を除く）または、例えば [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得したユーザーの数値 ID を指定できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `text`                                                                                |
| url:                                                                                   | PowerTrack<br /><br />Search     | 展開されたURLに対して、ポストごとにトークン化に基づくマッチングを行います。句読点や特殊文字を含むトークンやフレーズは、二重引用符（&quot;）で囲む必要があります（例: `url:"/developer"`）。<br /><br />一般的には推奨されませんが、このオペレーターは特定のプロトコルに対してマッチさせることもでき、その場合は二重引用符で囲みます（例: `url:"https://developer.x.com"`）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `entities.urls.expanded_url`                                                          |
| url&#95;contains:                                                                      | PowerTrack                       | 新しい[展開済みURLタイトルのメタデータエンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズマッチを行います。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `entities.urls.expanded_url`                                                          |
| url&#95;description:                                                                   | PowerTrack                       | *利用可能なエイリアス*: within&#95;url&#95;description:<br /><br />（新しい）[展開されたページ説明メタデータエンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズによるマッチングを行います。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `entities.urls.unwound.description`                                                   |
| url&#95;title:                                                                         | PowerTrack                       | *利用可能なエイリアス*: within&#95;url&#95;title:<br /><br />(新しい)[展開済み URL タイトルのメタデータエンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズの一致検索を行います。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `entities.urls.title`                                                                 |