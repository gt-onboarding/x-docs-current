---
title: レスポンスコードとエラー
sidebarTitle: レスポンスコード
keywords: ["レスポンスコード", "エラーコード", "HTTPステータスコード", "APIエラー", "エラー処理", "デバッグ", "エラーメッセージ", "ステータスコード"]
---

import { Button } from '/snippets/ja/button.mdx';

X API は、その場での理解とデバッグに役立つ、次のレスポンスコードおよびエラーコードを提供します。追加のコンテキストが必要な場合は、以下のデバッグガイドおよびエラーインデックスを参照してください。

成功したレスポンスは、200 番台の HTTP コードと、要求されたオブジェクトが返却・作成・更新・削除されたことに加えて、サーバーによるリクエストの解釈内容を表す JSON ベースのペイロードによって示されます。

エラーレスポンスは、200 番台以外の HTTP コードとともに返されます。異なるエラーコードは、エラー発生のさまざまな理由を示します。X API は、すべてのリクエストに対して適切な [HTTP ステータスコード](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) を返すよう設計されています。

<div id="x-api-v2-http-status-codes">
  ## X API v2 HTTP status codes
</div>

| Code | Text                  | Description                                                                                                                                                                                 | Troubleshooting tips                                                                                                                             |
| :--- | :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------- |
| 200  | OK                    | リクエストは成功しました。                                                                                                                                                                               |                                                                                                                                                  |
| 400  | Bad Request           | リクエストが不正であるか、その他の理由により処理できません。付随するエラーメッセージで詳細が説明されます。認証がない、またはクエリパラメータが不正なリクエストは不正とみなされ、このレスポンスが返されます。                                                                                      | JSON クエリの形式を再確認してください。たとえば、ルール内で完全一致やその他のオペレーターに関連する二重引用符を含む場合、JSON フォーマットの構造と区別できるように、バックスラッシュでエスケープする必要があることがあります。                             |
| 401  | Unauthorized          | リクエストの認証に問題があります。認証情報が欠落しているか、誤っている可能性があります。他の未定義の状況でも返されることがあります。                                                                                                                          | 正しい[認証方式](https://docs.x.com/resources/fundamentals/authentication/overview)を使用していること、および認証情報が正しいことを確認してください。                                    |
| 403  | Forbidden             | リクエストは理解されましたが、拒否されたか、アクセスが許可されていません。付随するエラーメッセージに理由が示されます。                                                                                                                                 | 使用しようとしているエンドポイントにアクセスできるよう、開発者アカウントに必要なアクセス権が含まれていることを確認してください。App を allowlist 登録する必要がある場合（例: Engagement API や Ads API）や、アクセスに申し込む必要がある場合もあります。 |
| 404  | Not Found             | 要求された URI が不正であるか、要求されたリソース（ユーザーなど）が存在しません。                                                                                                                                                 | 使用しているエンドポイントに対して、有効なパラメータと正しい URI を使用していることを確認してください。                                                                                           |
| 409  | Connection Exception  | ルールが 1 つも設定されていない filtered stream への接続を試みた場合に返されます。                                                                                                                                         | 接続先のストリームに、少なくとも 1 つのルールを作成していることを確認してください。filtered stream は、有効なルールに一致するポストのみを返します。ルールがない場合、ストリームはポストを一切返しません。                                   |
| 429  | Too Many Requests     | App の[レート制限](/ja/resources/fundamentals/rate-limits)または [Post cap](/ja/x-api/fundamentals/post-cap) を使い切ったため、リクエストを処理できない場合に返されます。[Rate Limiting](/ja/resources/fundamentals/rate-limits) を参照してください。 | 使用しているエンドポイントで、一定時間内に許可されているリクエスト数を確認してください。時間枠がリセットされるまで待ってください。リクエストの間隔を空けてレート制限に達しないようにするか、利用可能な次のデータプランにアップグレードすることを検討してください。                |
| 500  | Internal Server Error | 何らかの障害が発生しています。これは通常、一時的なエラーです。たとえば、高負荷の状況やエンドポイントに一時的な問題が発生している場合などです。                                                                                                                     | X API の[ステータスページ](/ja/status)や[開発者コミュニティフォーラム](https://devcommunity.x.com/)を確認し、他のユーザーにも同様の問題が発生していないか確認するか、しばらく待ってから再試行してください。                     |
| 501  | Unimplemented         | X API がこのエンドポイントに対応しておらず、リクエストを処理できません。                                                                                                                                                     |                                                                                                                                                  |
| 503  | Service Unavailable   | X のサーバーは稼働していますが、リクエスト過多により処理できません。後でもう一度試してください。                                                                                                                                           | X API の[ステータスページ](/ja/status)や[開発者コミュニティフォーラム](https://devcommunity.x.com/)を確認し、他のユーザーにも同様の問題が発生していないか確認するか、しばらく待ってから再試行してください。                     |

リクエスト中にエラーが発生した場合、問題の診断に役立つよう、レスポンスボディにはエラーに関する詳細情報が返されます。`type` フィールド（URI）は問題の種類を示し、追加のフィールドが問題の詳細を提供します。これらのレスポンスボディでは、`type`、`title`、`detail` フィールドは常に返されます（下表参照）。以下の例のようなその他のフィールドは、エラーの種類に応じて異なります。

```json
{
  "client_id": "101010101",
  "required_enrollment": "Standard Basic",
  "registration_url": "https://developer.twitter.com/en/account",
  "title": "Client Forbidden",
  "detail": "このリクエストは、要求されたエンドポイントに登録されている承認済みの開発者アカウントを使用して行う必要があります。詳細については、ドキュメントをご覧ください。",
  "reason": "client-not-enrolled",
  "type": "https://api.x.com/2/problems/client-forbidden"
}
```

<div id="partial-errors">
  ## 部分的なエラー
</div>

一部のケースでは、200 ステータスコードを返したレスポンスの中に、上で説明したエラーが含まれている場合があります。このようなケースでは、エンドポイントは返せるデータは返しつつ、返せなかった内容についての詳細なエラー情報もあわせて返すように設計されています。

例えば、[Posts lookup endpoint](/ja/x-api/posts/lookup/introduction) では、X の [developer App](/ja/resources/fundamentals/developer-apps#overview) から複数の ID をリクエストできます。これらのうち一部のポストは利用可能だが 1 つが削除されているような場合、利用可能なポストはレスポンスの `data` フィールド内に返されます。さらに、どのリクエスト済みポストを返せなかったかを示す `errors` フィールドがペイロード内に含まれます。問題の診断を容易にするため、このフォーマットはリクエスト全体が失敗した場合のエラーと同じ形式になっています。

<div id="error-information">
  ### エラー情報
</div>

各問題タイプは、発生した問題の性質を示します。想定される問題の一覧は、[API 仕様](https://api.x.com/2/openapi.json) にも記載されています。

X API は、すべてのリクエストに対して適切な [HTTP ステータスコード](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes) を返そうとします。

| Title | Type | Description |
| :--- | :--- | :--- |
| 一般的な問題 | `about:blank` | HTTP ステータスコードで提供される情報以外に追加情報のない、一般的な問題です。 |
| 無効なリクエストの問題 | `https://api.X.com/2/problems/invalid-request` | このリクエストが無効であることを示す問題です。リクエストが POST ボディを伴う場合、内容が有効な JSON であり、[OpenAPI 仕様](https://api.x.com/2/openapi.json) に準拠していることを確認してください。 |
| リソースが見つからない問題 | `https://api.X.com/2/problems/resource-not-found` | 指定されたポスト、ユーザーなどが存在しないことを示す問題です。 |
| リソースへの認可がない問題 | `https://api.X.com/2/problems/not-authorized-for-resource` | 特定のポスト、ユーザーなどを閲覧する権限がないことを示す問題です。 |
| クライアントが禁止されている問題 | `https://api.X.com/2/problems/client-forbidden` | クライアントがこのリクエストを実行することを禁止されていることを示す問題です。 |
| 許可されていないリソースの問題 | `https://api.X.com/2/problems/disallowed-resource` | 要求されたリソースがこの API のポリシーに反していることを示す問題です。 |
| サポートされていない認証の問題 | `https://api.X.com/2/problems/unsupported-authentication` | 使用された認証方式がサポートされていないことを示す問題です。 |
| 利用上限超過の問題 | `https://api.X.com/2/problems/usage-capped` | 利用上限を超過したことを示す問題です。 |
| 接続例外の問題 | `https://api.X.com/2/problems/streaming-connection` | 接続に何らかの問題があることを示す問題です。 |
| クライアント切断の問題 | `https://api.X.com/2/problems/client-disconnected` | クライアントが切断されています。 |
| 運用上の切断の問題 | `https://api.X.com/2/problems/operational-disconnect` | 運用上の理由により切断されたことを示す問題です。 |
| ルール上限の問題 | `https://api.X.com/2/problems/rule-cap` | ルールの最大数を超過しています。 |
| ルール長の問題 | `https://api.X.com/2/problems/rule-length` | アクセスレベルに基づき、クエリまたはルールで許可されている最大文字数を超過しています。[access levels](/ja/x-api/getting-started/about-x-api#x-api-access-levels-and-versions) を参照してください。 |
| 無効なルールの問題 | `https://api.X.com/2/problems/invalid-rules` | 送信したルールが無効です。 |
| 重複ルールの問題 | `https://api.X.com/2/problems/duplicate-rules` | 送信したルールが重複しています。 |

<div id="troubleshooting-tips">
  ## トラブルシューティングのヒント
</div>

<Accordion title="コードのデバッグ">
  アプリケーションを構築していると、ときどきエラーや予期しない問題に遭遇することは珍しくありません。以下はコードをデバッグする際のヒントです。

  まず、問題を小さな部分に分解して、どこに原因があるかを特定します。たとえば、REST またはストリーミングのエンドポイントを統合している場合、問題は次のいずれかにある可能性があります。

  * エンドポイントには適切な[認証](/ja/resources/fundamentals/authentication/overview)が必要です。
  * エンドポイントには有効なパラメータとヘッダーが必要です。フィルタリングルールは、正しいオペレーターと適切な[構文](/ja/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#building-rules-and-queries)を使用して構築されている必要があります。
  * エンドポイントの URI が正しいこと、REST エンドポイントの場合は正しい HTTP メソッドが使用されていることが必要です。
  * 取得しようとしているデータやリソースにアクセスする権限がない場合があります（たとえば、非公開データは認証されたユーザーのみが利用可能です）。
  * 現在のデータパッケージでは、特定のエンドポイントと特定のレート制限しか利用できない場合があります。詳細については、[developer portal](https://developer.x.com/en/portal/products) を確認してください。
  * コード内でエンドポイントを統合するためにサードパーティライブラリを使用しており、そのライブラリ側に問題がある可能性があります。
  * コードがエンドポイントからのレスポンスを正しくパースできていない可能性があります。

  表示されるエラーメッセージを確認してください。これにより、問題の内容について有力な手がかりが得られるはずです。[エラーおよびレスポンスコードのセクション](#x-api-http-status-codes)にある表を使用して、各エラーコードに特化したトラブルシューティングのヒントを参照してください。

  REST エンドポイントの場合、[Postman](https://www.postman.com/) や [Insomnia](https://insomnia.rest/) などの REST クライアントを使用して、上記の (1)〜(5) のステップを検証できます（[&quot;Getting started with Postman&quot;](/ja/tutorials/postman-getting-started) ガイドを参照してください）。REST クライアントでのリクエストが 200 の成功ステータスコードを返す場合、問題はエンドポイントリクエスト自体ではなく、コードまたは使用しているライブラリ側にあると考えられます。

  ストリーミングエンドポイントの場合、cURL（URL 構文を使用してリクエストを送受信するコマンドラインツール）を使用して、問題がエンドポイントへのリクエスト（上記 (1)〜(5) のステップ）にあるのか、コード自体（上記 (6)〜(7) のステップ）にあるのかを確認できます。
</Accordion>

<Accordion title="認証に関する問題">
  * エンドポイントに必要な適切な[認証方法](/ja/resources/fundamentals/authentication/overview)を使用しているか確認してください。これはエンドポイントの API リファレンスページから確認できます。
  * 認証情報が正しいことを確認してください。[Apps セクション](https://developer.x.com/en/portal/projects-and-apps)（developer ダッシュボードの「Details」内）で、アプリのキーとトークンを確認または再生成できます。
  * `oauth_nonce`、`oauth_signature`、`oauth_timestamp` を付与して、OAuth 1.0a リクエストを正しく[認可](/ja/resources/fundamentals/authentication/oauth-1-0a/authorizing-a-request)していることを確認してください。
  * 問題が解決しない場合は、OAuth ライブラリ、[Postman](https://www.postman.com/) や [Insomnia](https://insomnia.rest/) といった REST クライアント、または [xurl](https://github.com/xdevplatform/xurl) の利用を検討してください。

  上記すべてについての詳細情報は、[認証に関するガイド](/ja/resources/fundamentals/authentication/overview)を参照してください。
</Accordion>

<Accordion title="レート制限とポスト上限に関する問題">
  エンドポイントのレート制限に達した場合、またはポスト上限に達した場合、429 エラーが返されることがあります。

  特定の「Too Many Requests」エラーが返された場合は、そのエンドポイントのレート制限に達したことを意味します。つまり、指定された時間内に、そのエンドポイントに対して許可されている最大リクエスト数を超えています。

  レート制限はアプリ単位およびユーザー単位で設定されている点に注意してください。

  * **X アプリレベル** は、OAuth 2.0 アプリ専用フローを使用する際に許可されるリクエスト数を示し、レート制限はアプリ全体に対してグローバルに決定されます。たとえば、あるメソッドでレート制限ウィンドウあたり 15 件のリクエストが許可されている場合、そのウィンドウごとにあなたの X アプリに代わって 15 件のリクエストを行うことができます。この制限はユーザーレベルの制限とは完全に独立して扱われます。詳細については、[OAuth 2.0 App-Only](/ja/resources/fundamentals/authentication/oauth-2-0/application-only) に関するガイドをご覧ください。
  * **ユーザーコンテキストレベル** は、OAuth 1.0a User Context または OAuth 2.0 Authorization Code with PKCE を使用する際に、ユーザーごとのアクセストークンごとに実行できるリクエスト数を示します。たとえば、あるメソッドでレート制限ウィンドウあたり 15 件のリクエストが許可されている場合、そのウィンドウごと・ユーザーのアクセストークンごとに 15 件のリクエストが許可されます。ユーザーのアクセストークンを取得する方法については、[OAuth 1.0a](/ja/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens) と [OAuth 2.0](/ja/resources/fundamentals/authentication/oauth-2-0/user-access-token) に関するガイドをご覧ください。

  まずは、使用しているエンドポイントのレート制限を確認してください。この情報は、エンドポイントの API リファレンスページおよび新しい developer portal のダッシュボードで確認できます。

  レート制限に関する追加情報として、HTTP ヘッダーを使用して特定のレート制限に対するアプリの現在の状況を把握する方法、レート制限による 429 エラーコードからの復旧方法、そもそもレート制限にかからないようにするためのヒントなどについては、以下のドキュメントを参照してください。

  * [v2 エンドポイントのレート制限](/ja/x-api/fundamentals/rate-limits)

  特定の &quot;Usage cap exceeded: Monthly product cap&quot; エラーを受け取った場合は、あなたのアクセスレベルにおけるポスト上限に達したことを意味します。これらの[ポスト上限](/ja/x-api/fundamentals/post-cap)についての詳細は、ドキュメントページに詳しく記載されています。
</Accordion>

<Accordion title="ポストが取得できない場合の問題">
  ポストが返されるはずなのに、エンドポイントから返ってこなかった場合は、以下の手順に従ってください。

  * 使用している[オペレーター](/ja/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#enterprise-operators)および[構文](/ja/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#building-rules-and-queries)が正しいかどうか、ルールを確認してください。構文が正しく使われていることを確認するために、ルールをより小さな節に分解して検証してください。
  * ポストを送信したアカウントが、ポスト作成時点で[保護されたアカウント](https://help.twitter.com/en/safety-and-security/public-and-protected-tweets)であった場合、そのポストは返されません。これは、リクエスト時点でアカウントが公開状態であっても同様です。通常は、[X Advanced Search](https://x.com/search-advanced) を使ってこれを確認できます。X Advanced Search の機能を使ってもポストが表示されない場合、そのポストはエンドポイントから返されないと想定すべきです。

  以下の手順はストリーミングエンドポイントにのみ適用されます。

  * ポストが送信されたとき、ストリームに接続していましたか？ポストオブジェクトで配信されるタイムスタンプは UTC 時刻を示していることを忘れないでください。ポスト送信時に切断が発生していた場合は、取りこぼしたデータを補完するために利用できる[リカバリーおよび冗長化機能](/ja/x-api/posts/filtered-stream/integrate/recovery-and-redundancy-features#recovery-and-redundancy)を確認してください。
  * ポストが送信されたとき、そのルールは有効になっていましたか？ポストオブジェクトで配信されるタイムスタンプは UTC 時刻を示していることを忘れないでください。
</Accordion>

<Accordion title="バッファフルによる切断の問題">
  ストリームがこちらからのデータ配信速度についていけず、アプリがストリームからデータを十分な速度で消費できていない場合、次のいずれかのエラーが発生することがあります。

  ```
  This stream has been disconnected because your client was unable to keep up with us.
  ```

  ```
  This stream has been disconnected for operational reasons.
  ```

  一定時間までは配信の遅れを許容しており、当社側では各ストリームごとに一時的なステージングバッファ量を設けています。しかし、追いつけない場合は、その時点の最新の状態で再接続できるよう、切断を行います。なお、バッファフル切断時点でバッファ内にあるデータについては、データ損失が発生する可能性がありますのでご注意ください。

  これらは、データ量が大きく急増した際に発生する場合があります。一般的には、処理プロセスとは別に、データを迅速に消費するためのバッファ用プロセスを用意することを推奨します。

  v1.1 エンドポイントを利用している Enterprise 顧客の方は、このような切断を防ぐためにアプリを最適化する方法について、[接続](/ja/x-api/enterprise-gnip-2.0/powertrack-api#disconnections-explained)に関する記事や、ストリーミングデータの消費に関する[こちら](https://developer.x.com/en/docs/tutorials/consuming-streaming-data)および[こちら](/ja/x-api/enterprise-gnip-2.0/powertrack-api#planning-for-high-volume-social-data-events)の記事を参照してください。

  切断によって取り逃がしたポストを取得するために利用できるツールがいくつかあり、代表的なものを以下に示します。なお、これらのツールは、Enterprise レベルのアクセス権で利用する v1.1 エンドポイントでのみ利用可能です。

  * [**Redundant Connections**](/ja/x-api/enterprise-gnip-2.0/powertrack-api#recovery-and-redundancy-features) - 複数の接続を使用し、複数サーバーからストリームを消費することで、いずれかが切断された場合でもデータの取り逃しを防ぎます。
  * [**Replay**](/ja/x-api/enterprise-gnip-2.0/powertrack-api#recovery-and-redundancy-features) - 別のストリームを利用して、過去 5 日以内のデータを復元します。
  * [**Backfill**](/ja/x-api/enterprise-gnip-2.0/powertrack-api#recovery-and-redundancy-features) - 5 分以内に再接続し、中断した位置から再開します。
  * **Historical PowerTrack** - X の全アーカイブからデータを復元します。
</Accordion>

<div id="get-help">
  ## サポートを受ける
</div>

X コミュニティフォーラムでは、X デベロッパープラットフォームに関する技術的な質問を投稿できます。ディスカッションフォーラムとして、他の開発者による質問や、X API の利用に関連するさまざまなトピックに関する技術情報を見つけることができます。

フォーラムで質問に回答したり、会話に参加したりして、ぜひディスカッションに加わってください。X の従業員もサポートを提供するために参加しています。

<Button href="https://devcommunity.x.com/">
  X コミュニティフォーラム
</Button>

<div id="before-you-post-a-question">
  ### 質問を投稿する前に
</div>

* 問題に関連する情報を、X 開発者向けドキュメントで検索する
* 他の開発者による類似の質問を、コミュニティフォーラムで検索する
* コミュニティフォーラムのガイドラインを確認する

<div id="when-you-post-a-question-make-sure-to-include-the-following-information">
  ### 質問を投稿する際は、次の情報を必ず含めてください
</div>

* 問題の説明
* 実行している API コールの内容（可能であればヘッダーも含めてください）
* X から返されたレスポンス（エラーメッセージがあれば含めてください）
* 本来期待していた結果
* 問題の切り分け・解決のために実施した手順の一覧
* 問題を再現するために必要な手順の一覧
* 該当する場合は、問題が発生した期間
* 該当する場合は、App ID、Post ID など
* 関連するコードサンプルまたはスクリーンショット

1 件のポストにつき、扱うトピック／質問は 1 つのみにしてください。

機能追加のリクエストやフィードバックがある場合は、[X Developer Platform Feedback Form](https://t.co/devfeedback) から送信してください。

App の凍結などポリシー関連の問題については、[Policy support](https://help.twitter.com/forms/platform) にお問い合わせください。

ログインやアカウントサポートなど、X のご利用に関する問題については、[X Help Desk](https://help.twitter.com/en/contact-us) をご利用ください。