---
title: PIN ベースの認可
sidebarTitle: PIN ベース OAuth
keywords: ["PIN ベース OAuth", "PIN OAuth", "OAuth PIN", "PIN 認可", "OAuth 1.0a PIN", "デスクトップ OAuth"]
---

import { Button } from "/snippets/ja/button.mdx";

<div id="pin-based-authorization">
  ### PIN ベース認可
</div>

PIN ベースの OAuth フローは [3-legged OAuth](/ja/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens) プロセスの一種であり、認可後にユーザーをリダイレクトするための Web ブラウザにアクセスできない、またはそれを組み込めないアプリケーション向けです。該当するアプリケーションの例としては、コマンドラインアプリケーション、組み込みシステム、ゲーム機、特定の種類のモバイルアプリなどがあります。

PIN ベースの OAuth フローは、`oauth_callback` を `oob` に設定した `request_token` をアプリが取得することで開始されます。`oob` という用語は out-of-band OAuth を意味します。ユーザーは引き続き X にアクセスしてアプリにログインまたはアプリを認可しますが、アクセスを承認してもアプリケーションに自動的にリダイレクトされることはありません。その代わりに、数値の PIN コードが表示され、アプリケーションに戻ってこの値を入力するよう指示されます。

<Note>
  **注:** PIN ベースの認可を使用する場合でも、X アプリ設定内の `callback_url` は必須です。
</Note>

 

<div id="implementing-the-pin-based-oauth-flow">
  #### PIN ベースの OAuth フローの実装
</div>

PIN ベースのフローは、[3-legged authorization](/ja/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens)（および [Sign in with X](/ja/resources/fundamentals/authentication#log-in-with-x)）と同じ方法で実装しますが、次の点が異なります。

1. [POST oauth/request&#95;token](/ja/resources/fundamentals/authentication/api-reference#post-oauth-request-token) 呼び出し時に、`oauth_callback` の値を `oob` に設定する必要があります。

2. ユーザーが [GET oauth/authenticate](/ja/resources/fundamentals/authentication/api-reference#get-oauth-authenticate) または [GET oauth/authorize URL](/ja/resources/fundamentals/authentication/api-reference#get-oauth-authorize) のいずれかを使用してあなたのアプリを承認するために X にリダイレクトされた後、ユーザーは `callback_url` にリダイレクトされず、その代わりに、X が生成した約 7 桁の PIN と、その PIN をあなたのアプリケーションに入力するよう指示する画面が表示されます。

3. ユーザーはこの PIN をあなたのアプリケーションに入力し、アプリケーションはこの PIN 番号を `oauth_verifier` として [POST oauth/access&#95;token](/ja/resources/fundamentals/authentication/api-reference#post-oauth-access-token) に渡し、access&#95;token を取得します。

<Note>
  **Note:** PIN 番号は再利用できません。また、取得した `access_token` は、そのユーザーとしてアプリケーションから行うリクエストに使用する必要があります。
</Note>