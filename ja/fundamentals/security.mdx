---
title: セキュリティ
icon: lock
keywords: ["セキュリティ", "API セキュリティ", "開発者向けセキュリティ", "安全なコーディング", "OAuth セキュリティ", "API キーのセキュリティ", "トークンのセキュリティ", "XSS", "CSRF", "SQL injection", "暗号化", "TLS", "脆弱性の報告", "セキュリティのベストプラクティス"]
---

私たちは、プライバシーは特権ではなく権利であり、当社の基盤に組み込まれていると考えています。X Developer Platform を利用し、開発者ポリシーを遵守することで、あなたは X 上の公共の会話にこのプラットフォームが役立ち、私たちのプライバシーへの取り組みが守られるようにするうえで、重要な役割を担います。

あなた自身とあなたのアプリの利用者のデータを保護するために、安全性を意識して開発することの重要性を改めてお伝えしたいと考えています。セキュリティ侵害の脅威から守る責任はあなたにあり、X を利用する人々を保護する責任は、あなたと私たちが共有しています。このページでは、安全なアプリケーションを構築し、データとアクセスを可能な限り安全に保つための考え方や期待事項について説明します。

<Note>X Developer Platform で利用可能なセキュリティ技術（[authentication](/ja/resources/fundamentals/authentication)、TLS、[app permissions](/ja/resources/fundamentals/developer-apps#app-permissions) など）に加え、X ユーザーの観点からの [サードパーティアプリケーションとセッションの利用](https://help.x.com/en/managing-your-account/connect-or-revoke-access-to-third-party-apps) についても把握しておいてください。</Note>

<div id="reporting-security-issues">
  ## セキュリティ問題の報告
</div>

X Developer Platform のユーザーは、セキュリティインシデントが発生したと最初に疑いを持った時点から 48 時間以内に、[X の脆弱性報告プログラム](https://hackerone.com/twitter) を通じて X に通知しなければなりません。

<div id="security-best-practices">
  ## セキュリティのベストプラクティス
</div>

X 開発者プラットフォーム上で構築する場合も、インターネット上のその他の環境で作業する場合も、これらを念頭に置いてください。

<div id="security-by-design">
  ### セキュリティ・バイ・デザイン
</div>

セキュリティ専門家を雇い、脅威モデルの監査やペネトレーションテストを実施することを検討してください。優れたセキュリティ企業であれば、問題を洗い出すために深く踏み込んで調査します。X がどのようにこの考え方を採用してきたかについては、[こちらのブログ記事](https://blog.x.com/en_us/topics/company/2019/privacy_data_protection.html)をご覧ください。

また、X はすべてのパートナーに対し、次の事項を順守する責任を負うよう求めています。

* コードを安全なリポジトリ内で管理すること。
* システム開発ライフサイクル（SDLC）全体を通じてリスク分析を実施すること。
* SDLC の全期間を通じて、セキュリティ上の問題が特定され、軽減されていることを確保すること。
* SDLC プロセス全体を通じて、環境が分離されていることを確保すること。
* すべてのテスト不具合が修正され、再テストが行われ、その対応が完了していることを確保すること。

<div id="monitor-and-get-alerted">
  ### 監視とアラートの活用
</div>

Webアプリに問題が起きているかもしれないと感じたとき、どのようにして確実に把握できますか？しっかりとログを記録し、重大な例外やエラーが発生した際には通知されるようにしておきましょう。また、重要な統計情報をまとめたダッシュボードを用意しておくと、何か問題が起きていないかをひと目で確認できます。

<div id="create-a-reporting-channel">
  ### 報告用チャネルを作成する
</div>

ユーザーがアプリで発生した可能性のあるセキュリティ問題について、簡単に連絡できるようにしてください。X のユーザーやデータに影響を与える問題が発見された場合には、[この問題を X に報告する](#report)責任も負っています。セキュリティインシデントが発生した場合に備えて、影響を受けたユーザーに通知するためのアクションプランやプロセスをあらかじめ用意しておきましょう。

<div id="adequate-testing">
  ### 十分なテスト
</div>

エンドツーエンドテストを網羅的に行い、権限のないアクセスなどのセキュリティシナリオにおいて想定される失敗ケースを含めるよう、常に最新の状態に保ってください。攻撃者の立場になって考え、攻撃者によるXのデータや正規の権限で利用できる機能への不正アクセスをブロックできることを検証するシステムテストを用意してください。

<div id="securing-api-keys-and-tokens">
  ### APIキーとトークンの保護
</div>

X プラットフォームの開発者であれば、（ユーザーがあなたの開発者アプリを承認していることを前提に）自分のデータおよび X に保存されているユーザーデータにプログラムからアクセスできます。すべての API リクエストは、開発者アプリのキーとシークレット、そして場合によっては承認ユーザーの[アクセストークン](/ja/resources/fundamentals/authentication)を用いて、OAuth による[認証](/ja/resources/fundamentals/authentication)を行う必要があります。これらの認証情報を安全に保つ責任はあなたにあります。

推奨されるベストプラクティスの一部を以下に示します。

* パスワード／トークンのローテーション（定期的な更新）を設定する。
* 必要に応じて常に機密データを暗号化し、処理の早い段階では復号しないようにする。
* ユーザーのアクセストークンを暗号化されたストレージに保存する。
* 侵害された可能性がある場合は、キーとトークンを[再生成](/ja/resources/fundamentals/authentication#regenerate-api-keys-and-tokens)または[無効化](/ja/resources/fundamentals/authentication#post-oauth2-invalidate-token)する。

X 向けの OAuth を使ったデバッグや実装に関する詳細な議論については、コミュニティフォーラムの[Security カテゴリ](https://devcommunity.x.com/c/oauth/12)を参照してください。

<div id="input-validation">
  ### 入力の検証
</div>

ユーザーが常に有効で信頼できるデータを提供してくれると想定しないでください。X API のリクエストに含まれる可能性のある、ユーザーからのすべてのデータをサニタイズしてください。アプリケーションで受け入れる入力の種類を許可リスト方式で明示的に定義し、許可リストに含まれないものはすべて破棄してください。

<div id="encrypted-communication">
  ### 暗号化された通信
</div>

X では、すべての API リクエストは TLS を用いて行う必要があります。可能な限り、開発者ご自身が運用するサーバーとの通信も暗号化してください。

<div id="exposed-debugging-information">
  ### デバッグ情報の露出
</div>

デバッグ画面やログを通じて、機密性の高い X のデータや認証情報が外部に漏洩していないことを必ず確認してください。アプリケーションの設定が正しく行われていない場合、一部の Web フレームワークではデバッグ情報に容易にアクセスできてしまいます。デスクトップおよびモバイル開発では、デバッグフラグやシンボルを有効にしたビルドを誤ってリリースしてしまうこともあります。これらの設定を検査するためのビルドチェックを、デプロイ／ビルドプロセスに組み込んでください。さらに、レポート目的でスタックトレースやクラッシュダンプを共有する場合は、非公開の X ユーザーのデータがマスクされている（削除されている）ことを確認してください。

<div id="unfiltered-input-unescaped-output">
  ### フィルタされていない入力、エスケープされていない出力
</div>

入力バリデーションで覚えておきやすい考え方として、FIEO（Filter Input, Escape Output）があります。

アプリケーションの外部から入ってくるものはすべてフィルタしてください。これには、X API のデータ、Cookie データ、ユーザーが入力したフォームの内容、URL パラメータ、データベースから取得したデータなどが含まれます。アプリケーションから送信されるすべての出力はエスケープしてください。これには、データベースサーバーに送信される SQL、ユーザーのブラウザに送信する HTML、他システムに送信される JSON 出力、シェルプログラムに送信されるコマンドなどが含まれます。

<div id="cross-site-scripting-xss">
  ### クロスサイトスクリプティング (XSS)
</div>

[XSS](https://owasp.org/) 攻撃は、多くの指標において、ウェブ上で最も一般的なセキュリティ問題の一種です。攻撃者が自分の JavaScript コードをアプリケーション内で実行できるようになると、さまざまな不正行為が可能になります。信頼できないユーザーから提供されたデータを保存し、表示するあらゆる場所では、検証、サニタイズ、HTML エスケープを行う必要があります。これを正しく行うのは難しく、ハッカーには [XSS 攻撃を成功させる多くの手法](https://www.owasp.org/index.php/Types_of_Cross-Site_Scripting) が存在します。あなたが使用している言語やウェブ開発フレームワークには、おそらくクロスサイトスクリプティング対策として広く使われ、十分にテストされた仕組みが用意されているはずなので、必ずそれを活用してください。

<div id="sql-injection">
  ### SQLインジェクション
</div>

アプリケーションでデータベースを利用している場合は、[SQL injection](http://en.wikipedia.org/wiki/SQL_injection) について理解しておく必要があります。入力を受け付けるあらゆる箇所は、攻撃者が入力フィールドから抜け出してデータベースに侵入しようとする潜在的な攻撃対象となり得ます。SQLインジェクションに対して体系的に防御できるデータベースライブラリを使用してください。そのアプローチから外れて独自のSQLを書く場合は、この種の攻撃に対して脆弱になっていないことを確認するため、厳密なテストを書いてください。SQLインジェクションから防御する主な方法は、SQL文を構築する前にエスケープ処理を行うことと、パラメータ化された入力を使用してSQL文を生成することの2つです。後者の方法の方がプログラマのミスが起きにくいため、推奨されます。

<div id="cross-site-request-forgery-csrf">
  ### クロスサイトリクエストフォージェリ（CSRF）
</div>

あなたのアプリケーションへのリクエストが、本当にあなたのアプリケーションから送信されているものだと確信できていますか？[CSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery) 攻撃は、この点が曖昧であることを悪用し、あなたのサイトにログインしているユーザーに気付かれないように、何らかの操作を行う URL を開かせます。開発者アプリの場合、これは攻撃者があなたのアプリを利用して、ユーザーに望まれないポストを投稿させたり、スパムアカウントをフォローさせたりすることを意味します。

CSRF への最も徹底した対処方法は、すべてのフォームにランダムなトークンを含め、そのトークンを信頼できる場所に保存しておくことです。フォームに正しいトークンが含まれていなければ、エラーとします。最新の Web フレームワークには、これを体系的に処理する仕組みが備わっており、運が良ければデフォルトで有効になっている場合もあります。簡単な予防策として（しかし、決してこれだけで十分というわけではありません）、データを作成・変更・削除するあらゆる操作には、POST リクエストを必須とするようにしてください。

<div id="lack-of-rate-limiting">
  ### レート制限がない場合
</div>

潜在的なスパマーや攻撃者の行為を遅らせるため、適切な場面では CAPTCHA を使用してください。

***

<Info>
  X 自体に直接影響するセキュリティ上の問題を発見した場合は、[脆弱性に対するバグバウンティプログラム](https://hackerone.com/twitter)をご利用いただけます。
</Info>