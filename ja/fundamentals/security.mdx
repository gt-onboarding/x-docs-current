---
title: セキュリティ
icon: lock
keywords: ["security", "API security", "developer security", "secure coding", "OAuth security", "API keys security", "token security", "XSS", "CSRF", "SQL injection", "encryption", "TLS", "vulnerability reporting", "security best practices"]
---

私たちは、プライバシーは特権ではなく権利であり、それが当社の基盤に組み込まれていると考えています。X の開発者プラットフォームを利用し、開発者ポリシーを順守することで、X 上のパブリックな会話にこのプラットフォームが貢献し、プライバシーへの私たちの取り組みが守られるようにするうえで、あなたは重要な役割を担っています。

あなた自身とあなたのアプリのユーザーのデータの両方を保護するために、安全性を確保した設計・実装の重要性を改めてお伝えします。セキュリティ侵害の脅威から守る責任はあなたにあり、X を利用する人々を守る責任は、私たちとあなたが共有しています。このページでは、安全なアプリケーションの構築およびデータとアクセスを可能な限り安全に保つことに関して期待される事項を説明します。

<Note>X Developer Platform で利用可能なセキュリティ技術（[authentication](/ja/resources/fundamentals/authentication)、TLS、[app permissions](/ja/resources/fundamentals/developer-apps#app-permissions) など）に加え、X ユーザーの観点から見た [サードパーティアプリケーションおよびセッションの利用](https://help.x.com/en/managing-your-account/connect-or-revoke-access-to-third-party-apps) についても理解しておいてください。</Note>

<div id="reporting-security-issues">
  ## セキュリティ問題の報告
</div>

X Developer Platform の利用者は、セキュリティインシデントの発生を最初に疑った時点から48時間以内に、[X の脆弱性報告プログラム](https://hackerone.com/twitter) を通じて X に通知する必要があります。

<div id="security-best-practices">
  ## セキュリティのベストプラクティス
</div>

X 開発者プラットフォームやインターネット上のあらゆる場面で開発を行う際には、常にこれらを念頭に置いてください。

<div id="security-by-design">
  ### セキュリティ・バイ・デザイン
</div>

セキュリティの専門家を雇い、脅威モデルの監査やペネトレーションテストの実施を検討してください。優れたセキュリティ企業であれば、問題を洗い出すために徹底的に掘り下げて調査します。X がどのようにこの考え方を採用しているかの詳細は、[こちらのブログ記事](https://blog.x.com/en_us/topics/company/2019/privacy_data_protection.html)を参照してください。

加えて、X はすべてのパートナーに対して、次の事項を遵守することを求めています。

* コードを安全なリポジトリ内で管理すること。
* システム開発ライフサイクル（SDLC）全体を通じてリスク分析を実施すること。
* SDLC 全体を通じてセキュリティ上の問題を特定し、軽減すること。
* SDLC プロセスの全工程で環境を分離すること。
* すべてのテスト欠陥を修正し、再テストを行い、クローズすること。

<div id="monitor-and-get-alerted">
  ### 監視とアラート
</div>

Webアプリに問題が起きているかもしれないと思ったとき、どのようにして確実に把握しますか？ 必ず適切なログを記録し、重大な例外やエラーが発生した際には通知されるようにしておきましょう。主要な指標のダッシュボードを用意しておくと、何か問題が発生していないかを一目で確認できるようになります。

<div id="create-a-reporting-channel">
  ### 報告用の窓口を用意する
</div>

ユーザーがあなたのアプリの利用中に経験した可能性のあるセキュリティ問題について、簡単に連絡できるようにしておきましょう。X のユーザーやデータに影響する問題が発見された場合は、[その問題を X に報告する](#report)責任もあります。セキュリティインシデントが発生した場合に備え、影響を受けたユーザーへ通知するための行動計画や手順もあらかじめ用意しておいてください。

<div id="adequate-testing">
  ### 十分なテスト
</div>

エンドツーエンドテストが網羅的であり、権限のないアクセスなどのセキュリティシナリオにおける想定される失敗ケースを含むよう最新の状態になっていることを確認してください。攻撃者の視点に立ち、攻撃者がXのデータや本来許可されている機能に不正アクセスしようとするのをブロックできていることを検証するシステムテストを用意してください。

<div id="securing-api-keys-and-tokens">
  ### API のキーとトークンを保護する
</div>

X プラットフォーム上の開発者は、自身のデータと、開発者アプリを承認したユーザーのデータの両方にプログラムからアクセスできます。すべての API リクエストは、開発者アプリのキーとシークレット、そして場合によっては承認ユーザーの [アクセストークン](/ja/resources/fundamentals/authentication) を用いた OAuth によって[認証](/ja/resources/fundamentals/authentication)されなければなりません。これらの認証情報を安全に管理する責任は開発者自身にあります。

推奨されるベストプラクティスには、次のようなものがあります。

* パスワード／トークンのローテーション（定期的な更新）を運用する。
* 必要に応じて常に機密データを暗号化し、処理の早い段階で復号しすぎないようにする。
* ユーザーのアクセストークンを暗号化されたストアに保存する。
* 侵害された可能性があると思われる場合は、キーとトークンを[再生成](/ja/resources/fundamentals/authentication#regenerate-api-keys-and-tokens)または[無効化](/ja/resources/fundamentals/authentication#post-oauth2-invalidate-token)する。

X 向けに OAuth を用いてデバッグや開発を行う際の詳しい情報については、コミュニティフォーラムの [Security カテゴリ](https://devcommunity.x.com/c/oauth/12)を参照してください。

<div id="input-validation">
  ### 入力バリデーション
</div>

ユーザーが常に有効で信頼できるデータを提供してくれると想定してはいけません。X API リクエストに含まれる可能性のあるユーザーからのデータは、すべてサニタイズしてください。アプリケーションで受け入れ可能な入力の種類を許可リスト（allowlist）として定義し、それ以外のものはすべて破棄してください。

<div id="encrypted-communication">
  ### 暗号化通信
</div>

X では、すべての API リクエストを TLS 経由で行う必要があります。ご自身が運用するサーバーとの通信についても、可能な限り暗号化するようにしてください。

<div id="exposed-debugging-information">
  ### 公開されているデバッグ情報
</div>

デバッグ用の画面やログを通じて、機密性の高い X のデータや認証情報が外部に漏えいしないよう、必ず確認してください。いくつかの Web フレームワークでは、アプリケーションが正しく構成されていないと、デバッグ情報に容易にアクセスできてしまいます。デスクトップやモバイルの開発では、デバッグ用のフラグやシンボルを有効にしたまま、誤ってビルドをリリースしてしまうこともあります。これらの設定を検査する仕組みを、デプロイ／ビルドプロセスに組み込んでください。さらに、レポートのためにスタックトレースやクラッシュダンプを共有する場合には、X の非公開ユーザーのデータが適切にマスク／削除されていることを必ず確認してください。

<div id="unfiltered-input-unescaped-output">
  ### フィルタされていない入力、エスケープされていない出力
</div>

入力バリデーションの覚えやすい考え方の 1 つに、FIEO (Filter Input, Escape Output) があります。

アプリケーションの外部から来るあらゆるものをフィルタリングしてください。これには、X API のデータ、Cookie データ、ユーザーが入力したフォームの値、URL パラメータ、データベースから取得したデータなどが含まれます。アプリケーションから送信されるすべての出力はエスケープしてください。これには、データベースサーバーに送信する SQL、ユーザーのブラウザに送信する HTML、他のシステムに送信する JSON 出力、シェルプログラムに渡すコマンドなどが含まれます。

<div id="cross-site-scripting-xss">
  ### クロスサイトスクリプティング (XSS)
</div>

[XSS](https://owasp.org/) 攻撃は、多くの指標において、ウェブ上でもっとも一般的なセキュリティ問題の一種です。攻撃者が自分の JavaScript コードをあなたのアプリに埋め込むことができてしまうと、さまざまな悪意ある行為が可能になります。信頼できないユーザー提供のデータを保存し表示するあらゆる場所で、検証・サニタイズ・HTML エスケープを行う必要があります。これを正しく行うのは難しく、ハッカーには [XSS 攻撃を成立させる多くの手法](https://www.owasp.org/index.php/Types_of_Cross-Site_Scripting) が存在します。あなたの使用しているプログラミング言語やウェブ開発フレームワークには、おそらくクロスサイトスクリプティング対策として広く使われ、十分にテストされた仕組みが用意されていますので、必ずそれを活用してください。

<div id="sql-injection">
  ### SQLインジェクション
</div>

アプリケーションでデータベースを利用している場合は、[SQL injection](http://en.wikipedia.org/wiki/SQL_injection) について把握しておく必要があります。入力を受け付けるあらゆる箇所が、攻撃者が入力フィールドから「抜け出して」データベースに侵入しようとする潜在的な標的になります。SQLインジェクションに体系的に対処しているデータベースライブラリを使用してください。そのアプローチから外れて独自のSQLを書く場合は、この種の攻撃に対する脆弱性を生んでいないことを確認するために、徹底したテストを書くようにしてください。SQLインジェクションに対する主な防御手法は2つあり、SQL文を構築する前に入力をエスケープ処理する方法と、パラメータ化された入力を使ってSQL文を生成する方法です。後者の方がプログラマのミスが起こりにくいため推奨されます。

<div id="cross-site-request-forgery-csrf">
  ### クロスサイトリクエストフォージェリ（CSRF）
</div>

あなたのアプリケーションへのリクエストが、本当にあなたのアプリケーションからのものだと言い切れますか？[CSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery) 攻撃は、この不確実性を悪用し、サイトにログインしているユーザーに対して、ユーザーが気付かないうちに操作を実行する URL を開かせます。開発者アプリの場合、攻撃者があなたのアプリを悪用して、ユーザーに望ましくないポストを強制的に行わせたり、スパムアカウントをフォローさせたりする可能性があります。

CSRF に対処する最も徹底的な方法は、すべてのフォームにランダムなトークンを含め、そのトークンを信頼できる場所に保存しておくことです。フォームから送信されたトークンが正しくなければ、エラーを返します。最新の Web フレームワークにはこれを体系的に処理する仕組みがあり、運が良ければデフォルトで実装されている場合もあります。簡単な予防策のひとつとして（ただし、講じるべき対策はこれだけではありません）、データを作成・変更・削除するあらゆる操作は `POST` リクエストを必須とするようにします。

<div id="lack-of-rate-limiting">
  ### レート制限がない場合
</div>

スパマーや攻撃者になり得る相手の行動を遅らせるため、必要に応じて CAPTCHA を使用してください。

***

<Info>
  X 自体に直接影響するセキュリティ上の問題を発見した場合は、[脆弱性に関するバグ報奨金プログラム](https://hackerone.com/twitter)をご利用いただけます。
</Info>