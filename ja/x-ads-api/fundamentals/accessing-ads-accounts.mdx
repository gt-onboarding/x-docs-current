---
title: 広告アカウントへのアクセス
keywords: ["広告アカウント", "広告用アカウント", "広告アカウントへのアクセス", "アカウントアクセス", "広告アカウント管理", "アカウント階層"]
---

<div id="user-accounts-vs-ad-accounts">
  # ユーザーアカウントと広告アカウント
</div>

Ads API を利用する際には、広告アカウントと X ユーザーアカウントの 2 種類のアカウントが関わります。Ads API のドキュメントでは、「account」という用語は通常、広告アカウントを指します。

* 広告アカウントは **business.x.com** 上で登録され、API では `account_id` によって識別されます。広告アカウントは支払い元と直接リンクし、1 つ以上の X ユーザーアカウントからのコンテンツを「プロモーション可能ユーザー」として利用します。各広告アカウントは、1 つ以上の X ユーザーアカウントに権限を付与できます。広告アカウント、または「現在のアカウント」は、実行されるほぼすべての URL において、インラインの `:account_id` パラメータとして指定されます。
* X ユーザーアカウント（@AdsAPI など）は、Ads API 内では `user_id` によって識別されます。これらのアカウントを 1 つ以上、1 つの広告アカウントに関連付けることができます。API でリクエストを行う認証済み X ユーザーアカウントは「現在のユーザー」と呼ばれます。現在のユーザーがアクセス権を持つ広告アカウントの一覧は、[GET accounts](/ja/x-ads-api/campaign-management#accounts) で取得できます。「プロモーション可能ユーザー」とは、特定の広告アカウントによってプロモーションできる X ハンドルです。詳細については、[Obtaining Ads Account Access](/ja/x-ads-api/introduction) を参照してください。

<div id="methods-for-ad-account-access">
  ## 広告アカウントへアクセスする方法
</div>

広告主のアカウントに対して Ads API リクエストを行う方法は 2 つあります。

1. 広告主の代理としてリクエストを行う（**推奨**）
2. 複数アカウントをサポートする [Agency](https://business.x.com/en/blog/agencies-manage-multiple-Twitter-Ads-accounts.html) など、広告主のアカウントへのアクセス権が付与された自分のアカウントを使ってリクエストを行う

本ドキュメントでは、これらのオプションの違いを簡潔に説明します。他のリソース（[複数ユーザーによるログインに関する FAQ](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html) など）と併せて参照してください。 

[リクエストの認可](/ja/resources/fundamentals/authentication#authorizing-a-request#authorizing-a-request) で説明しているとおり、Ads API へのすべてのリクエストには、[OAuth 1.0a](/ja/resources/fundamentals/authentication) による Authorization ヘッダーが必要であり、その際に使用するアクセストークンは [3-legged](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)[OAuth](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) フローを通じて取得します。アプリケーションでは、[アクセストークンを取得する](/ja/resources/fundamentals/authentication#oauth-1-0a-2) ために、ウェブベースの OAuth フローを実装する必要があります。Ads API 開発者は、X 広告主にログイン認証情報の共有を求めてはなりません。

デフォルトでは、各 [X 開発者アプリ](/ja/resources/fundamentals/developer-apps) には、そのアプリケーションを所有するアカウントに対して Ads API リクエストを行うために使用できる静的な **アクセストークン** が含まれています。これらの認証情報は、3-legged や [PIN ベースの OAuth](/ja/resources/fundamentals/authentication#pin-based-authorization) フローを必要としない単一アカウントのユースケースに最適です。他の X 広告アカウントへアクセスしない場合は、以下の手順ではなく、これらの [シングルユーザー](/ja/resources/fundamentals/authentication#oauth-1-0a-2) 認証情報を使用してください。

<div id="levels-of-access">
  ## アクセス権限のレベル
</div>

<div id="app-level-permissions">
  ### アプリレベルの権限
</div>

各ユーザーには、[Ads API への申請](/ja/x-ads-api/getting-started/step-by-step-guide) 時にリクエストした内容に応じたアクセスレベルが付与されます。

* **Conversion Only**: ユーザーは、[Mobile](/ja/x-ads-api/measurement/mobile-conversions) および [Web Conversion](/ja/x-ads-api/measurement/web-conversions) エンドポイントへの [read &amp; write](/ja/resources/fundamentals/developer-apps) アクセス権を持ちます。
* **Standard Access**: ユーザーは、[Analytics](/ja/x-ads-api/analytics)、[Campaign Management](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/overview)、[Creatives](https://developer.x.com/en/docs/twitter-ads-api/creatives/overview)、[Custom Audiences](https://developer.x.com/en/docs/twitter-ads-api/audiences/overview)、および [Conversion](/ja/x-ads-api/measurement/web-conversions) エンドポイントへの [read &amp; write](/ja/resources/fundamentals/developer-apps) アクセス権を持ちます。

**Note:** 2023 年 7 月以前にアクセスを申請した Ads API 開発者は、異なるアクセスレベルや権限を持っている場合があり、OAuth トークンが最大 5 個に制限されている可能性があります。既存アプリケーションで追加のエンドポイントへのアクセスを有効化したり、トークン上限を引き上げたりする方法については、[アクセスの拡張](/ja/x-ads-api/getting-started/increasing-access) に関するガイドを参照してください。

<div id="ad-account-level-permissions">
  ### 広告アカウントレベルの権限
</div>

Ads アカウントにアクセスできる各ユーザーには、特定のアカウントレベルの権限が付与されます。**Account administrator**、**Ad manager**、**Campaign analyst**、**Organic analyst**、**Creative Manager** のいずれかです。アカウントレベルの権限に関する最新のドキュメントについては **business.x.com** を参照してください。アプリケーションは、[Authenticated User Access](/ja/x-ads-api/campaign-management#authenticated-user-access) API エンドポイントを介して現在認証されているユーザーの権限を取得し、そのユーザーがどの API エンドポイントおよび Ads 機能にアクセスできるかを判断する必要があります。

**注:** [Conversion API](/ja/x-ads-api/measurement/web-conversions) で使用されるユーザートークンは、**Account administrator** または **Ad manager** のアカウントレベル権限を持つユーザーのものである必要があります。                                                                                                                                              

<div id="methods-of-obtaining-access-tokens">
  ## アクセストークンの取得方法
</div>

<div id="1-obtain-an-advertisers-user-access-token">
  ### 1. 広告主（ユーザー）のアクセストークンを取得する
</div>

広告主の**アクセストークン**を取得する方法は 2 通りあります。最も一般的な方法は、Web UI 内から直接実行する [3-legged OAuth フロー](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) です。広告主が利用できる公開 UI を持たないアプリケーションは、[PIN ベース](/ja/resources/fundamentals/authentication#pin-based-authorization) の OAuth プロセスを実装できます。ユーザーが 3-legged フローを完了すると、あなたのアプリケーションは API を介してそのユーザーの Ads アカウントにリクエストを行うための認証情報を取得できます。

OAuth フローを通じてユーザーの認証情報を取得する方法は、広告主アカウントへのアクセスを得る手段として、ほとんどの Ads API 開発者に対して**強く推奨**している方法です。これにより、ユーザーに代わって API を呼び出し、そのユーザーとしてアクションを実行できます。これらのトークンには有効期限はありませんが、ユーザーがいつでも取り消すことができます。

<div id="2-obtain-your-developer-access-token">
  ### 2. （Developer）アクセストークンを取得する
</div>

この方法では、広告主が business.x.com の X UI を通じて、[あなたの @username（または複数の @username）に対するアクセス権を付与する](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html)必要があります。あなたのアカウントに対して 3-legged OAuth フローで取得された **アクセストークン** は、広告主の X Ads アカウントにアクセスできるようになります。

これにより、広告主の OAuth トークンではなく、ご自身の @username に紐づく OAuth トークンを使って API を呼び出すことができます。このオプションにおける重要な点は、あなたの @username にポストの委任/作成権限が付与されている場合にのみ、Promoted-Only ポストを作成できることです。

アカウント上の `FULL` プロモート可能ユーザーの代わりに Promoted-Only ポストを作成できるようにするには、このフローでポストを作成する権限も付与されている必要があります。これにより、[GET accounts/:account&#95;id/authenticated&#95;user&#95;access](/ja/x-ads-api/campaign-management#accounts) エンドポイントでの `TWEET_COMPOSER` 権限を通じてアクセスできるようになります。

<div id="differences-between-these-methods">
  ## これらの方法の違い
</div>

|     |     |     |
| :--- | :--- | :--- |
|     | 広告主(ユーザー)のOAuthトークン | (開発者)のOAuthトークン  <br /> (@usernameを別アカウントに追加) |
| 広告アカウントへのアクセス | ✔   | ✔   |
| ユーザーに代わってポストを作成 | ✔   | ✔*  |
| キャンペーンの管理 | ✔   | ✔   |
| 分析データへのアクセス | ✔   | ✔   |
| ユーザーに代わってカードを作成 | ✔   | ✔   |
| 開発者によるX広告UIを介した  <br />アクセス |     | ✔   |
| [レート制限](/ja/x-api/enterprise-gnip-2.0/fundamentals/rate-limits) | 広告主ごとに個別 | 広告主アカウントごとに個別 |

<Note>
  **注:** 詳細については、上記の**[(開発者)アクセストークンの取得](/ja/x-ads-api/fundamentals/accessing-ads-accounts#2-obtain-your-developer-access-token)**セクションを参照してください。
</Note>

<div id="sample-use-case">
  ## ユースケースの例
</div>

<div id="advertisers-access-token-via-oauth-3-legged-web-flow">
  ### 広告主のアクセストークン（OAuth 3-legged Web フロー経由）
</div>

標準的なフローは Web ベースで、[3-legged authorization](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) OAuth フローを使用します。ここに示しているスクリーンショットは、[https://github.com/xdevplatform/twauth-web](https://github.com/xdevplatform/twauth-web) でソースを確認できるサンプルの一部です。

アプリケーションの処理の中でどこかのタイミングで、アプリケーションを認可するために X にリダイレクトする必要があります。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-2.png" alt="image0" />
</Frame>

リクエストトークンを含めて X にリダイレクトすると、ユーザーはアプリケーションを認可するよう求められます。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-3.png" alt="image1" />
</Frame>

ユーザーがアプリケーションを認可すると、リクエストトークンを生成した際に指定した callback URL にユーザーがリダイレクトされます。これを使用して、このユーザー用の永続的なアクセストークンを取得し、ローカルに保存します。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-4.png" alt="image" />
</Frame>