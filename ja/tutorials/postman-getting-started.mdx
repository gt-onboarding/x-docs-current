---
title: Postman を使い始める
description: "このチュートリアルでは、Postman の概要と、すばやくセットアップする方法について説明します。"
mode: wide
keywords: ["Postman", "Postman tutorial", "API testing", "REST client", "Postman collection", "API explorer", "testing API"]
---

<div id="introduction">
  ## はじめに
</div>

Postman は、グラフィカルユーザーインターフェースから API に対してリクエストを送信できるデスクトップおよびウェブアプリケーションです。API の機能を試したり、自分のアプリで発生した問題のトラブルシューティングを行ったりする際には、X API、X Ads API、Labs のエンドポイントとあわせて Postman を使用することを推奨します。 

現在、次の 2 つの Postman コレクションを利用できます。

<CardGroup cols={2}>
  <Card title="X API v2 コレクション" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400" horizontal />

  <Card title="X Ads API コレクション" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87" horizontal />
</CardGroup>

<div id="prerequisites">
  ### 前提条件
</div>

X の Postman コレクションの利用を開始する前に、使用したい X の開発者プラットフォーム上のツールに対して、適切なアクセス権と認証情報を取得していることを確認する必要があります。アクセスの取得方法については、[「はじめに」ページ](/ja/resources/platform-overview)で詳しく説明しています。

[開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)を取得し、[開発者アプリ](/ja/resources/fundamentals/developer-apps)を設定して、[認証](/ja/resources/fundamentals/authentication)用のキーとトークンを取得し、利用する予定の特定の API へのリクエストを行えるよう環境を正しく構成できていれば、以下の手順に従って開始できます。
 

<div id="getting-started-with-xs-postman-collections">
  ## X の Postman コレクションを使い始める
</div>

<div id="step-one-add-one-of-the-x-postman-collections-to-your-account">
  ### ステップ1：X の Postman コレクションをアカウントに追加する
</div>

Postman 内で使用したい特定のエンドポイントを一つひとつ自分で設定することもできますが、その作業はすべてこちらで済ませてあり、すぐに使える関連 API のコレクションを用意しています。先ほどの「Postman collections」セクションにあるいずれかのリンクをクリックすると、選択した API に関連するすべてのエンドポイントを含むコレクションが Postman アプリに追加されます。これらのコレクションは [Postman API network](https://explore.postman.com/) からも利用できます。各エンドポイントには、利用可能なパラメータ、レスポンス例、認証タイプがあらかじめ設定されているため、自分の認証情報とパラメータ値を追加するだけで、すぐに機能を試し始めることができます。

この例では、X の [API v2 コレクション](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400) を使用します。 
 

<div id="step-two-add-your-keys-and-tokens-as-environmental-variables">
  ### Step two: 環境変数としてキーとトークンを追加する
</div>

コレクションを自分の Postman インスタンスに追加すると、自動的に「X API v2」という名前の environment（環境）が追加されます。ここにキーとトークンを追加する必要があります。このステップでは、開発者アプリから取得したキーとトークンを「X API v2」environment に追加する手順を説明します。 

「X API v2」environment にキーとトークンを追加するには、Postman 画面右上にある「manage environments」ボタンをクリックします。 
 

<Frame>
  <img src="/images/using-postman-1.png.twimg.1920.png" alt="この画像では、Postman コンソール内で「manage environments」ボタンがハイライトされています。" />
</Frame>

environment の一覧から「X API v2」をクリックします。 

次に、Apps ダッシュボードで生成したそれぞれのキーとトークン用に、テーブルに変数を追加します。テーブルは次のような形になります。

| VARIABLE | INITIAL VALUE | CURRENT VALUE |
| :--- | :--- | :--- |
| consumer&#95;key | `QAktM6W6DF6F7XXXXXX` | `QAktM6W6DF6F7XXXXXX` |
| consumer&#95;secret | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` |
| access&#95;token | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` |
| token&#95;secret | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` |
| bearer&#95;token | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` |

上記のテーブルで使用しているキーとトークンは架空のものであり、リクエストで使用しても動作しないことに注意してください。 

認証情報を変数として追加し、X API v2 environment が選択されていることを確認できたら、X API v2 コレクションへのリクエストを送る準備が整います。これは、各エンドポイントの Authorization タブが、この environment から変数を自動的に継承するように設定されているためです。 

Postman で User Access Tokens を使用する場合は、XXXX をスキップして、その方法に関する追加の詳細を参照してください。

<div id="step-three-select-an-endpoint">
  ### ステップ3：エンドポイントを選択する
</div>

次のステップでは、コレクションからエンドポイントを選択し、リクエストの作成を開始します。画面右側のナビゲーションからエンドポイントを選択できます。以下のように表示されます。

<Frame>
  <img src="/images/using-postman-2.png.twimg.1920.png" alt="この画像では、「X API v2」セクション内の「Post Lookup」ドロップダウンの下で「Single Posts」リクエストが選択されている様子が表示されています。" />
</Frame>

この例では、X API v2 &gt; Post Lookup &gt; Single Post エンドポイントを使用します。 

<div id="step-four-add-values-to-the-params-tab">
  #### ステップ4：「Params」タブに値を追加する
</div>

次のステップでは、「Params」タブに移動します。そこには、各パラメータの役割を説明する説明文と、リクエストで指定できるすべての候補値の一覧が付いた、非アクティブなパラメータのセットが表示されているはずです。 

この例では、`expansions` と `tweet.fields` のクエリパラメータを有効にし、次の値を追加します。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `tweet.fields` | `created_at,attachments` |
| expansions | author&#95;id |

クエリパラメータを追加するだけでなく、必須の Path Variable である `id` も追加する必要があります。このエンドポイントはポストを返すので、値として有効なポストIDを指定する必要があります。

ポストIDは、x.com にアクセスして任意のポストをクリックし、そのURLを確認することで取得できます。たとえば、次のURLのポストIDは `1228393702244134912` です。

`https://x.com/XDevelopers/status/1228393702244134912`

「Params」タブで、すべてのクエリパラメータを通り過ぎるまで下へスクロールし、「Path Variables」セクションを表示します。ここで、使用したいポストIDを `id` キーの値として追加します。

このステップの内容をすべて正しく入力できていれば、「Params」タブは次のようになっているはずです。

<Frame>
  <img src="/images/using-postman-3.png.twimg.1920.png" alt="この画像は、このページ前半の手順に基づいて入力された「Params」テーブルを表示しています。" />
</Frame>

<div id="step-five-send-your-request-and-review-your-response">
  #### ステップ5: リクエストを送信し、レスポンスを確認する
</div>

リクエストの設定がすべて完了したら、「Send」ボタンをクリックします。 

すべて正しく設定されていれば、次のペイロードが返されます。

```json
{
    "data": {
        "author_id": "2244994945",
        "text": "開発者はバレンタインカードに何と書いたでしょうか？\n  \nwhile(true) {\n    I = Love(You);  \n}",
        "id": "1228393702244134912",
        "created_at": "2020-02-14T19:00:55.000Z"
    },
    "includes": {
        "users": [
            {
                "username": "XDevelopers",
                "name": "Developers",
                "id": "2244994945"
            }
        ]
    }
}
```

<div id="generating-a-user-access-token-with-postman">
  ### Postman でユーザー用アクセストークンを生成する：
</div>

<div id="using-oauth-10a-to-generate-a-user-access-token">
  #### OAuth 1.0a を使用してユーザーアクセストークンを生成する
</div>

[OAuth1.0a flow test collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) で使用されている 3 ステップのプロセスを確認します。

<div id="using-oauth-20-to-generate-a-user-access-token">
  #### OAuth 2.0 を使用してユーザーアクセストークンを生成する
</div>

Postman で OAuth 2.0 のユーザーアクセストークンを生成したい場合、X の [API v2 Postman collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) と組み合わせて使用できる OAuth 2.0 アクセストークンを生成できます。 

ワークスペース内のコレクションをクリックし、「Auth」タブに移動して、タイプに「OAuth 2.0」を選択します。次に、「Configure New Token」という見出しの下にある「Configuration Options」に移動します。「Grant Type」を「Authorization Code (With PKCE)」に更新できます。

Callback URL を、アプリに関連付けられている Callback URL と一致するように更新する必要があります。さらに、次のパラメータも更新する必要があります。

* Auth URL -  https://x.com/i/oauth2/authorize
* Access Token URL -  https://api.x.com/2/oauth2/token
* Client ID - Dev Portal の OAuth 2.0 Client ID
* Client Secret - confidential client を使用している場合
* Scope - 接続したいエンドポイントに合わせたスコープ。例: “tweet.read users.read” 
* Callback URL（redirect URL とも呼ばれます）。これは、アプリの認証設定に登録されている値と一致している必要があります。
* State - state

準備ができたら、「Get New Access Token」をクリックしてアクセストークンを生成できます。「問題が発生しました」と表示されるダイアログボックスが表示された場合は、ログインするために「戻る」ボタンを押す必要があるかもしれません。ダイアログボックス内の「Authorize app」と書かれた箇所をクリックして、アカウントへのアクセスをアプリに許可する必要があります。

アプリを承認すると、Postman に戻り、トークンを確認して「Use Token」ボタンを選択し、認可されたユーザーに代わってリクエストを送信できるようになります。

これで Postman コレクションを使用する準備が整いました。

<div id="whats-next">
  ## 次のステップ
</div>

Postman で「Code」と書かれたボタンをクリックすると、先ほど作成したリクエストを Python、Node、Ruby などお好みの言語のコードに変換できるため、実装を始める際に役立ちます。Postman には参考になる[優れたドキュメント](https://learning.getpostman.com/)が用意されています。また、エンドポイントとの連携をより迅速に進めるための[サンプルコードを GitHub 上](https://github.com/xdevplatform)にも用意しています。