---
title: Postman を使い始める
description: "このチュートリアルでは、Postman の概要と、すばやくセットアップする方法を説明します。"
mode: wide
keywords: ["Postman", "Postman チュートリアル", "API テスト", "REST クライアント", "Postman コレクション", "API エクスプローラー", "API のテスト"]
---

<div id="introduction">
  ## はじめに
</div>

Postman は、グラフィカルユーザーインターフェイスから API にリクエストを送信できるデスクトップおよびウェブアプリケーションです。API の機能を確認したり、アプリケーションの問題をトラブルシューティングしたりする際には、X API、X Ads API、Labs エンドポイントとあわせて Postman を使用することを推奨します。 

現在、利用可能な Postman コレクションは 2 つあります。

<CardGroup cols={2}>
  <Card title="X API v2 コレクション" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400" horizontal />

  <Card title="X Ads API コレクション" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87" horizontal />
</CardGroup>

<div id="prerequisites">
  ### 前提条件
</div>

X の Postman コレクションを使い始める前に、利用したい X 開発者プラットフォーム上のツールに対して、適切なアクセス権と認証情報を保有していることを確認する必要があります。アクセスの取得方法については、[「はじめに」ページ](/ja/resources/platform-overview)をご覧ください。 

[開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)を取得し、[開発者アプリ](/ja/resources/fundamentals/developer-apps)を設定し、[認証](/ja/resources/fundamentals/authentication)用のキーとトークン一式を取得し、さらに利用予定の特定の API にリクエストを送信できるよう環境を適切にセットアップしたら、以下の手順に従って作業を開始できます。
 

<div id="getting-started-with-xs-postman-collections">
  ## X の Postman コレクションの始め方
</div>

<div id="step-one-add-one-of-the-x-postman-collections-to-your-account">
  ### ステップ1：X の Postman コレクションのいずれかをアカウントに追加する
</div>

利用したい各エンドポイントを Postman 内で一から構築することもできますが、その作業はすべてこちらで済ませてあり、すぐに使える関連 API のコレクションを用意しています。先ほどの「Postman collections」セクションにあるリンクのいずれかをクリックすると、選択した API に関連付けられているすべてのエンドポイントを含むコレクションが Postman アプリに追加されます。これらのコレクションは [Postman API Network](https://explore.postman.com/) からも利用できます。各エンドポイントには、利用可能なパラメータ、レスポンス例、認証タイプがあらかじめ設定されているので、クレデンシャルとパラメータ値を追加するだけで機能を使い始めることができます。

この例では、X の [API v2 collection](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400) を利用します。 
 

<div id="step-two-add-your-keys-and-tokens-as-environmental-variables">
  ### Step two: 環境変数としてキーとトークンを追加する
</div>

コレクションを Postman インスタンスに追加すると、自動的に「X API v2」という環境が追加されます。この環境にキーとトークンを追加する必要があります。このステップでは、開発者アプリから取得したキーとトークンを「X API v2」環境に追加する手順を説明します。 

「X API v2」環境にキーとトークンを追加するには、Postman 右上にある「manage environments」ボタンをクリックします。場合によっては、右上の設定ボタンをクリックする必要があります。 
 

<Frame>
  <img src="/images/using-postman-1.png.twimg.1920.png" alt="この画像は、Postman コンソール内で「manage environments」ボタンがハイライトされている様子を示しています。" />
</Frame>

環境の一覧から「X API v2」をクリックします。 

次に、Apps ダッシュボードで生成したそれぞれのキーとトークンについて、テーブルに変数として追加します。テーブルは次のようになります。

| VARIABLE | INITIAL VALUE | CURRENT VALUE |
| :--- | :--- | :--- |
| consumer&#95;key | `QAktM6W6DF6F7XXXXXX` | `QAktM6W6DF6F7XXXXXX` |
| consumer&#95;secret | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` |
| access&#95;token | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` |
| token&#95;secret | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` |
| bearer&#95;token | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` |

上記のテーブルで使用されているキーとトークンは架空のものであり、リクエストに使用しても機能しないことに注意してください。 

認証情報を変数として追加し、「X API v2」環境が選択されていることを確認したら、X API v2 コレクションへのリクエストを送信する準備は完了です。これは、各エンドポイントの Authorization タブが、この環境から変数を自動的に継承するように設定されているためです。 

ユーザーアクセストークンと併用して Postman を使用する場合は、XXXX までスキップして、その方法に関する追加の詳細を参照してください。

<div id="step-three-select-an-endpoint">
  ### ステップ3：エンドポイントを選択する
</div>

次のステップでは、コレクションからエンドポイントを選択し、リクエストの作成を開始します。画面右側のナビゲーションからエンドポイントを選択できます。次のように表示されます。

<Frame>
  <img src="/images/using-postman-2.png.twimg.1920.png" alt="この画像は、「X API v2」セクションの「Post Lookup」ドロップダウン内で「Single Posts」リクエストが選択されている状態を示しています。" />
</Frame>

この例では、X API v2 &gt; Post Lookup &gt; Single Post エンドポイントを使用します。 

<div id="step-four-add-values-to-the-params-tab">
  #### ステップ4：Paramsタブに値を追加する
</div>

次のステップでは、Params タブに移動します。ここには、各パラメータの役割を説明する説明文付きの非アクティブなパラメータの一覧と、リクエストで指定できるすべての候補値が表示されているはずです。 

この例では、`expansions` と `tweet.fields` のクエリパラメータを有効にし、次の値を追加します。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `tweet.fields` | `created_at,attachments` |
| expansions | author&#95;id |

クエリパラメータの追加に加えて、必須の Path Variable である id も追加する必要があります。このエンドポイントはポストを返すため、値として有効なポストIDを指定する必要があります。

ポストIDは、x.com にアクセスして任意のポストをクリックし、その URL を確認することで見つけることができます。たとえば、次の URL のポストIDは `1228393702244134912` です。

`https://x.com/XDevelopers/status/1228393702244134912`

Params タブで、すべてのクエリパラメータの一覧をスクロールして、「Path Variables」セクションが表示されるところまで進みます。ここで、使用したいポストIDを id キーの値として追加します。

このステップの入力がすべて正しければ、Params タブは次のように表示されます。

<Frame>
  <img src="/images/using-postman-3.png.twimg.1920.png" alt="この画像は、このページの前半で説明した手順に基づいて入力された「Params」テーブルを示しています。" />
</Frame>

<div id="step-five-send-your-request-and-review-your-response">
  #### ステップ5：リクエストを送信してレスポンスを確認する
</div>

リクエストの設定がすべて完了したら、「Send」ボタンをクリックします。

すべてが正しく設定されていれば、次のペイロードを受信します。

```json
{
    "data": {
        "author_id": "2244994945",
        "text": "開発者はバレンタインカードに何と書いたでしょうか？\n  \nwhile(true) {\n    I = Love(You);  \n}",
        "id": "1228393702244134912",
        "created_at": "2020-02-14T19:00:55.000Z"
    },
    "includes": {
        "users": [
            {
                "username": "XDevelopers",
                "name": "Developers",
                "id": "2244994945"
            }
        ]
    }
}
```

<div id="generating-a-user-access-token-with-postman">
  ### Postman を使用してユーザーアクセストークンを生成する:
</div>

<div id="using-oauth-10a-to-generate-a-user-access-token">
  #### OAuth 1.0a を使用してユーザーアクセストークンを生成する
</div>

[OAuth 1.0a flow test collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) で使用されている 3 ステップのプロセスを確認してください。

<div id="using-oauth-20-to-generate-a-user-access-token">
  #### OAuth 2.0 を使用してユーザーアクセストークンを生成する
</div>

Postman で OAuth 2.0 のユーザーアクセストークンを生成したい場合は、X の [API v2 Postman collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) と組み合わせて使用する OAuth 2.0 アクセストークンを生成できます。 

ワークスペース内のコレクションをクリックし、「Auth」タブを開いて、Type を「OAuth 2.0」に設定します。次に、「Configure New Token」という見出しの下にある「Configuration Options」に移動します。ここで「Grant Type」を「Authorization Code (With PKCE)」に更新できます。

Callback URL を、アプリに関連付けられている Callback URL と一致するように更新する必要があります。加えて、次のパラメーターも更新する必要があります。

* Auth URL -  https://x.com/i/oauth2/authorize
* Access Token URL -  https://api.x.com/2/oauth2/token
* Client ID - Dev Portal の OAuth 2.0 Client ID
* Client Secret - 機密クライアントを使用している場合に指定
* Scope - 接続したいエンドポイントに対応するスコープ。例: “tweet.read users.read” 
* Callback URL（リダイレクト URL とも呼ばれます）。これは、アプリの認証設定に登録されている値と一致している必要があります。
* State - state

準備ができたら、「Get New Access Token」をクリックしてアクセストークンを生成します。「問題が発生しました」などのダイアログボックスが表示された場合は、ログインするためにブラウザの戻るボタンを押す必要があるかもしれません。ダイアログボックス内の「Authorize app」をクリックして、アプリにアカウントへのアクセス権を付与して承認する必要があります。

アプリを承認すると、Postman に戻り、トークンを確認して「Use Token」ボタンを選択し、認可されたユーザーに代わってリクエストの送信を開始できます。

これで Postman collection を使用する準備が整いました。

<div id="whats-next">
  ## 次のステップ
</div>

Postman で「Code」と表示されているボタンをクリックすると、先ほど作成したリクエストを Python、Node、Ruby など、任意の言語のコードに変換できるため、スムーズに開発を始められます。Postman には参考になる[充実したドキュメント](https://learning.getpostman.com/)があります。エンドポイントとの統合をより迅速に進めるのに役立つ[GitHub 上のサンプルコード](https://github.com/xdevplatform)も用意しています。