---
title: "规则和过滤：Enterprise"
keywords: ["Enterprise 规则", "GNIP 规则", "Enterprise 过滤", "PowerTrack 规则", "Enterprise 查询", "Enterprise 过滤规则"]
---

<div id="getting-started-with-enterprise-rules-and-queries">
  ## 开始使用 Enterprise 规则和查询
</div>

使用 Enterprise 运算符的产品会根据你设置的过滤规则向你提供社交数据。规则由一个或多个“子句”组成，子句可以是关键词、精确短语，或众多 Enterprise 运算符之一。在开始使用 Enterprise 运算符构建规则之前，请务必查看下面描述的语法，浏览可用运算符列表，并理解构建规则时的相关限制。你还应确保理解规则在逻辑评估方面的细节，参见“[运算顺序](#orderofoperations)”一节。

多个子句可以通过 “AND” 和 “OR” 逻辑进行组合。

**请注意：** “AND” 逻辑通过在子句之间使用空格来表示，而 “OR” 逻辑通过使用大写的 `OR` 来表示。 

每条规则最长可以包含 2,048 个字符，对正向子句（你希望匹配或进行过滤的内容）和负向子句（你希望排除且不进行匹配的内容）的数量没有限制。
 

<div id="building-rules-and-queries">
  ### 构建规则和查询
</div>

**关键词匹配**

关键词匹配类似于搜索界面中的查询。例如，下面的 Enterprise 运算符规则会匹配正文中包含术语 &quot;social&quot; 的活动。

`social`

**通过空格进行 AND 连接**

添加另一个关键词等同于增加一个额外的匹配条件。例如，这条规则只会匹配文本中同时包含 &quot;social&quot; 和 &quot;media&quot; 的活动，顺序不限——*在术语之间加入空格相当于布尔 AND 逻辑*。如果你在规则中显式包含 AND，该规则会被 rules 端点拒绝。

`social media`

**通过大写 OR 进行 OR 连接**

很多场景实际上需要布尔 OR 逻辑，这也很容易实现。*请注意，OR 运算符必须为大写，小写 “or” 会被视为普通关键词。*

`social OR data`

**取反关键词**

还有一些场景需要排除包含某些关键词的结果（布尔 NOT 逻辑）。例如，包含 “happy” 的活动，但排除文本中包含 “birthday” 的任何活动。

`social -personality`

**使用括号进行分组**

这些逻辑类型可以通过括号分组进行组合，并扩展为更加复杂的查询。

`(social OR data) (academic OR research) -personality -information -university`

不过这只是开始——虽然上述示例仅依赖于对关键词的简单分词匹配，Enterprise 产品还提供运算符，用于对文本执行不同类型的匹配。

**精确匹配**

`"social media research"`

**子串匹配**

`contains:info`

**邻近匹配**

`"social media research"~3`

此外，其他运算符还允许你在除文本以外的社交数据的独特属性上进行过滤。 

**发布帖子的用户**

`from:XDeveloeprs`

**以美国科罗拉多州博尔德市 Pearl St. 为中心 10 英里范围内的带地理标签的帖子**

`point_radius:[-105.27346517 40.01924738 10.0mi]`

**综合运用**

这些可以按照上述相同类型的逻辑与文本过滤组合使用。

`(social OR data) (academic OR research OR "social media research") point_radius:[-105.27346517 40.01924738 10.0mi] lang:en -personality -information -university`

<div id="boolean-syntax">
  ### 布尔语法
</div>

上一节中的示例使用了多种类型的布尔逻辑和分组。请参阅下表，了解每种语法和要求的更多详细信息。

|     |     |     |
| :--- | :--- | :--- |
| **逻辑类型** | **运算符语法** | 说明 |
| AND | social data | 在两个运算符之间使用空格，会在它们之间产生 AND 逻辑。  <br />  <br />匹配同时包含这两个关键词（&quot;social&quot;、&quot;data&quot;）的活动。  <br />  <br />**不要在规则中显式使用 AND，只使用空格。显式的 AND 会被当作普通关键词处理。** |
| OR  | social OR data | 要对两个运算符进行 OR 连接，请在它们之间插入全大写的 OR，并在其两侧保留空格。  <br />  <br />匹配包含任一关键词（&quot;social&quot; 或 &quot;data&quot;）的活动。  <br />  <br />请注意，如果你在单个规则中同时使用 OR 和 AND 功能，你应当理解我们在“[运算顺序](#OrderOfOperations)”一节中描述的运算顺序，并考虑按照下文所述使用括号将未取反的运算符分组在一起，以确保规则按预期运行。  <br />  <br />你必须在规则中使用大写的 &quot;OR&quot;。小写的 &quot;or&quot; 将被当作普通关键词处理。 |
| NOT | social data  <br />-apple -android -phone | 在运算符或一组运算符前面直接插入一个 `-` 字符。  <br />  <br />上述示例规则匹配包含关键词 &quot;social&quot; 的活动，但会排除那些包含关键词 &quot;data&quot; 的活动。  <br />  <br />当规则会请求“firehose 中除取反部分之外的所有内容”时，不允许使用取反的 OR。比如，`apple OR -ipad` 是无效的，因为它会匹配所有除提及 &quot;ipad&quot; 之外的活动。 |
| 分组 | (social OR data) -XDeveloeprs -api | 用括号将多个运算符括起来可以创建一个功能性“分组”。<br /><br />分组可以像单个子句一样，通过空格（AND）或 OR 与其他子句连接。不过，请注意，最佳实践是不通过对整个分组应用取反符号 - 来把多个取反运算符分到一起。相反，你应当对每个单独的运算符逐一取反，并通过空格（AND）把它们串联起来。<br /><br />例如，与其使用 -(iphone OR imac OR macbook)，不如使用如下形式：-iphone -imac -macbook  <br />  <br />在单个规则中同时使用 AND 和 OR 功能时，分组尤为重要，因为规则的评估依赖特定的运算顺序。详见下文。 |

**请注意：** 运算符可以是正向的，也可以是负向的。

**正向运算符** 定义你希望在结果中**包含**的内容。例如，`has:hashtags` 运算符表示“我想要包含话题标签的活动”。

**负向运算符** 定义你希望从结果中**排除**的内容，并通过上文描述的布尔 NOT 逻辑创建。例如，`-has:hashtags` 表示“排除任何包含话题标签的活动，即使它们在其他方面符合我的规则。”

Premium 运算符产品在正向和负向子句的数量上没有限制，但规则的最大长度限制为 2,048 个字符。
 

<div id="order-of-operations">
  #### 运算顺序
</div>

在单个规则中同时使用 AND 和 OR 逻辑时，以下运算顺序将决定规则如何被解析。

1. 优先解析由 AND 逻辑连接的运算符
2. 然后再应用由 OR 逻辑连接的运算符

**示例：**

* `apple OR iphone ipad` 将被解析为 `apple OR (iphone ipad)`
* `ipad iphone OR android` 将被解析为 `(iphone ipad) OR android`

为消除不确定性并确保规则按预期被解析，请在合适的位置使用括号将词项分组。例如：

* `(apple OR iphone) ipad`
* `iphone (ipad OR android)`

<div id="punctuation-diacritics-and-case-sensitivity">
  #### 标点符号、变音符号和大小写敏感性
</div>

如果你在 Enterprise 运算符中指定带有重音或变音符号的关键词或话题标签规则，则只会匹配帖子文本中同样带有这些重音或变音符号的内容（话题标签或关键词）。例如，包含关键词 `Diacr**í**tica` 或话题标签 `#cumplea**ñ**os` 的规则会匹配 &quot;Diacr**í**tica&quot; 或 &quot;#cumplea**ñ**os&quot;，但不会匹配不含重音或变音符号的 &quot;Diacritica&quot; 或 &quot;#cumpleanos&quot;（缺少重音符号 **í** 或字母 **eñe**）。

带有重音或变音符号的字符与普通字符一视同仁，不会被视为词边界。比如，规则 cumplea**ñ**os 只会匹配包含单词 cumpleaños 的活动，不会匹配包含 cumplea、cumplean 或 os 的活动。

所有运算符的评估都不区分大小写。比如，规则 `Cat` 会匹配以下所有内容：&quot;cat&quot;、&quot;CAT&quot;、&quot;Cat&quot;。

<div id="powertrack-rule-tags">
  #### PowerTrack 规则标签
</div>

如我们 “[Matching rules](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#matching-rules)” 页面中所述，每条规则在创建时都可以带有一个标签。这些标签本身不会影响过滤，但可用于在你的应用中对规则进行逻辑分组。每条规则只能有一个标签，且长度最多为 255 个字符。通过 API 创建规则时，应在 JSON 格式的规则中一并包含这些标签，具体如我们的 “Matching rules” 页面中所述。

<div id="putting-rules-in-json-format">
  #### 以 JSON 格式编写规则
</div>

要通过 API 向流中添加或删除规则，这些规则必须使用 JSON 格式。基本上，这需要将每条规则放入以下结构中：

`{"value":"insert_rule_here"}`

**包含双引号的规则**

如果规则中包含与精确匹配或其他运算符相关的双引号字符（`"`），则必须使用反斜杠对其进行转义，以将它们与 JSON 格式本身的结构区分开来。

`"social data" @XDevelopers`

使用 JSON 格式的规则为：

`{"value":"\"social data\" @XDevelopers"}`

**包含双引号字符串字面量的规则**

要在精确匹配中包含一个作为字符串字面量的双引号字符，必须进行双重转义。例如，对于一条匹配精确短语 &quot;Toys “R” Us&quot; 的规则（包括围绕 &quot;R&quot; 的双引号），其纯文本表示形式如下所示：

`"Toys \"R\" Us"`

将其转换为 JSON 格式时，应使用以下结构：

`{"value":"\"Toys \\\"R\\\" Us\""}`

**带有标签的规则**

要在规则中包含一个可选标签，如上所述，只需在规则中附加一个额外的 `tag` 字段，与规则的 `value` 一起使用。

`{"value":"\"social data\" @XDevelopers","tag":"RULE-TAG-01"}`

**API 请求的格式**

通过 API 向流中添加或删除规则时，多个 JSON 格式的规则应使用逗号分隔，并包含在一个 JSON “rules” 数组中，如下所示：

`{"rules":[{"value":"from:XDevelopers"},{"value":"\social data\" @XDevelopers","tag":"RULE-TAG-01"}]}`

<div id="operators-that-match-quote-tweets">
  #### 匹配引用帖子（Quote Tweet）的运算符
</div>

当使用 [PowerTrack API](/zh/x-api/enterprise-gnip-2.0/powertrack-api) 和 Historical PowerTrack API 时，以下运算符会匹配被引用的原始帖子和新的引用帖子（Quote Tweet）中的内容。

而当你使用 [Search API](/zh/x-api/enterprise-gnip-2.0/fundamentals/search-api) 时，这些运算符只会匹配引用帖子（Quote Tweet）本身的内容，不会匹配任何来自被引用原始帖子的内容。

* `Keywords`
* `Phrases`
* `Proximity`
* `#hashtags`
* `@mentions`
* `$cashtags`
* `url:`
* `url_contains:`
* `has:links`
* `has:mentions`
* `has:hashtags`
* `has:media`
* `has:symbols`
* `is:quote`
* `is:reply`

<div id="enterprise-operators">
  ## Enterprise 运算符
</div>

以下是 PowerTrack 和 Historical PowerTrack 中可用的运算符。其中一部分也适用于 30-Day 和 Full-Archive 搜索 API。请参阅 [此表格](/zh/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product)，查看各产品可用运算符列表。 

| 运算符                                    | 描述                                                                                                                                                                                                                                                                                   |
| :------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| keyword                                | 在帖子正文或 URL 中匹配关键词。关键词必须以数字（0-9）或任意非标点字符开头。<br />关键词匹配采用分词方式，这意味着关键词会与帖子正文的分词文本进行匹配。<br />对于包含标点符号的字符串（例如 &quot;coca-cola&quot;），请使用带引号的 &quot;精确短语匹配&quot;。<br />*示例*：`(social OR pizza OR wildfire) -planet`                                                                        |
| emoji                                  | 在帖子正文中匹配表情符号，基于标点符号、符号/表情符号以及分隔符字符进行令牌化匹配。<br />如果某个表情符号存在变体，请使用引号进行精确匹配。<br />*示例*：`(🍕 OR 💜 OR 🐢) -🤖`                                                                                                                                                                           |
| &quot;精确短语匹配&quot;                     | 在 Post 正文中匹配完全相同的短语。标点符号会被当作空白字符处理。<br />*示例*：`("social media" OR "developer.x.com" OR "wildfire911" OR "coca-cola") -"planet earth"`                                                                                                                                                |
| #                                      | 匹配包含指定话题标签的任何帖子。这是精确匹配，这意味着 `#2016` 会匹配包含 `#2016` 的帖子，但不会匹配包含 `#2016election` 的帖子。<br />*示例*：`(#social OR #pizza OR #2016election) -#planet`                                                                                                                                         |
| @                                      | 匹配任何提到指定用户名的帖子。<br />*示例*：`(@XDevelopers OR @api OR @twittereng) -@jack`                                                                                                                                                                                                             |
| &quot;keyword1 keyword2&quot;~N        | 接近度运算符，用于匹配关键词之间相距不超过 N 个 token 的帖子。<br />当关键词以相反顺序出现时，它们之间最多只能相隔 N-2 个 token。N 不能大于 6。<br />*示例*：`"social media"~5 OR "API"~3`                                                                                                                                                      |
| contains:                              | 对指定子字符串进行匹配，返回在正文中包含该子字符串的帖子，忽略分词方式。<br />对于包含空格或标点符号的子字符串，请使用双引号。<br />*示例*：`(contains:social OR contains:"wikipedia.com") -contains:"buy now"`                                                                                                                                     |
| from:                                  | 根据 X 数字账号 ID 或用户名（不包含 `@`）匹配来自特定用户的任何帖子。<br />*示例*：`(from:2244994945 OR from:api OR from:twittereng) -from:jack`                                                                                                                                                                     |
| to:                                    | 匹配任何回复特定用户的帖子，该用户可通过 X 数字账户 ID 或用户名（不含 `@`）指定。<br />*示例*：`(to:2244994945 OR to:api OR to:twittereng) -to:jack`                                                                                                                                                                       |
| url:                                   | 对帖子中展开后的 URL 执行基于分词的关键词/短语匹配。<br />*示例*：`@XDevelopers url:"developer.x.com"`                                                                                                                                                                                                         |
| url&#95;title:                         | 对展开后 URL 的 HTML 标题元数据执行关键字/短语匹配。<br />*仅在 PowerTrack 和 Historical PowerTrack 中可用。*                                                                                                                                                                                                   |
| url&#95;description:                   | 对扩展的页面描述元数据执行关键字/短语匹配。<br />*仅适用于 PowerTrack 和 Historical PowerTrack。*                                                                                                                                                                                                               |
| url&#95;contains:                      | 匹配 URL 中包含指定短语或关键词的帖子。<br />将包含标点符号的搜索词用引号括起来。<br />*示例*：`(url_contains:"developer.x.com" OR url_contains:wildfire) -url_contains:reddit`                                                                                                                                            |
| bio:                                   | 匹配帖子中用户个人简介里的关键字或短语。这是在 [User object](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 的 `description` 字段中的基于分词的匹配。<br />*示例*：`(bio:engineer OR bio:"wordpress.com" OR bio:🚀) -bio:troll`<br />*注意：* 仅在 PowerTrack 和 Historical PowerTrack 中可用。 |
| bio&#95;name:                          | 匹配帖子中用户简介名称里的关键词。这是在 [User object](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 中用户“name”字段内进行的分词匹配。<br />*注意：*仅在 PowerTrack 和 Historical PowerTrack 中可用。                                                                                    |
| bio&#95;location:                      | 匹配 User 对象中 location 字段包含指定关键词或短语的帖子。<br />此运算符执行分词匹配，类似于对消息正文应用的常规关键词规则。<br />该 location 字段是 [User object](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 的一部分，表示账号的「home」所在地。<br />*注意：* 仅在 PowerTrack 和 Historical PowerTrack 中可用。          |
| statuses&#95;count:                    | 当作者发布的状态数量在指定范围内时，会匹配这些帖子。<br />如果只指定一个数值，则会匹配所有大于或等于该数值的情况。<br />可以指定一个范围，以匹配该范围内的任意数值（例如，`statuses_count:1000..10000`）。<br />*示例：* `to:api statuses_count:10`<br />*注意：* 仅可与 PowerTrack 和 Historical PowerTrack 搭配使用。                                                              |
| followers&#95;count:                   | 当作者的关注者数在给定范围内时，会匹配这些帖子。<br />如果只指定一个数字，则匹配任何大于或等于该数字的值。<br />可以指定一个范围来匹配该范围内的任意数字（例如，`followers_count:1000..10000`）。<br />*注意：* 仅适用于 PowerTrack 和 Historical PowerTrack。                                                                                                            |
| friends&#95;count:                     | 当作者的关注数（其关注的用户数量）在给定范围内时，会匹配这些帖子。<br />如果只指定了一个数字，则会匹配所有大于或等于该数字的值。<br />可以指定一个范围，以匹配该范围内的任何数值（例如，`friends_count:1000..10000`）。<br />*注意：* 仅适用于 PowerTrack 和 Historical PowerTrack。                                                                                                  |
| listed&#95;count:                      | 当作者在 X 中被加入列表的次数处于指定范围内时，会匹配这些帖子。<br />如果只指定了一个数字，则匹配所有大于或等于该数字的情况。<br />可以指定一个范围，以匹配该范围内的任意数字（例如，`listed_count:10..100`）。<br />*注意：* 仅适用于 PowerTrack 和 Historical PowerTrack。                                                                                                       |
| $                                      | 匹配任何包含指定“cashtag”实体的帖子。<br />*示例*：`($TWTR OR $TSLA OR $BRK.A) -$F`<br />*注意：*cashtag 运算符依赖于 X 的“symbols”实体抽取功能来匹配 cashtag，而不是直接从正文中抽取。                                                                                                                                               |
| retweets&#95;of:                       | 匹配对指定用户帖子所做的转发。<br />同时接受用户名和数值型 X 账号 ID（不是帖子状态 ID）。<br />*示例*：`(retweets_of:2244994945 OR retweets_of:api OR retweets_of:twittereng) -retweets_of:jack`                                                                                                                             |
| retweets&#95;of&#95;status&#95;id:     | 仅返回对指定帖子进行的显式转发。请使用原始帖子的 ID，而不是转发帖子的 ID。<br />*示例*：`retweets_of_status_id:1293593516040269825`<br />*注意：*仅适用于 PowerTrack 和 Historical PowerTrack。                                                                                                                                    |
| in&#95;reply&#95;to&#95;status&#95;id: | 仅返回对指定帖子 的显式回复。<br />*示例*：`in_reply_to_status_id:1293593516040269825`<br />*注意：*仅适用于 PowerTrack 和 Historical PowerTrack。                                                                                                                                                             |
| sample:                                | 返回与规则匹配的帖子中的一个随机样本。样本百分比必须是 1 到 100 之间的整数。<br />此运算符会先将匹配范围缩小到 X%，然后再对该抽样子集应用规则/过滤条件。<br />*示例：* `#happybirthday sample:5`<br />`"happy birthday"~5 sample:80`<br />*注意：* 仅适用于 PowerTrack 和 Historical PowerTrack。                                                                   |
| source:                                | 匹配由指定来源应用生成的任意帖子。该值可以是应用名称或应用的 URL。<br />*示例：* `#happybirthday source:"X for iPhone"`<br />`"This is a test X from my TestingApp" source:MyTestAppName`<br />*注意：* source 运算符会在帖子的 source 属性上进行搜索，且不能单独使用。                                                                           |
| lang:                                  | 匹配被 X 归类为特定语言的帖子。当前每个帖子只会被归类为一种语言，因此同时匹配多种语言将不会返回任何结果。*不建议单独使用。*                                                                                                                                                                                                                     |

下面的列表展示了当前支持的语言及其对应的 BCP 47 语言标识符：

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| 阿姆哈拉语: am | 德语: de | 马拉雅拉姆语: ml | 斯洛伐克语: sk |
| 阿拉伯语: ar | 希腊语: el | 迪维希语（马尔代夫语）: dv | 斯洛文尼亚语: sl |
| 亚美尼亚语: hy | 古吉拉特语: gu | 马拉地语: mr | 索拉尼库尔德语: ckb |
| 巴斯克语: eu | 海地克里奥尔语: ht | 尼泊尔语: ne | 西班牙语: es |
| 孟加拉语: bn | 希伯来语: iw | 挪威语: no | 瑞典语: sv |
| 波斯尼亚语: bs | 印地语: hi | 奥里亚语: or | 他加禄语: tl |
| 保加利亚语: bg | 拉丁化印地语: hi-Latn | 旁遮普语: pa | 泰米尔语: ta |
| 缅甸语: my | 匈牙利语: hu | 普什图语: ps | 泰卢固语: te |
| 克罗地亚语: hr | 冰岛语: is | 波斯语: fa | 泰语: th |
| 加泰罗尼亚语: ca | 印度尼西亚语: in | 波兰语: pl | 藏语: bo |
| 捷克语: cs | 意大利语: it | 葡萄牙语: pt | 繁体中文: zh-TW |
| 丹麦语: da | 日语: ja | 罗马尼亚语: ro | 土耳其语: tr |
| 荷兰语: nl | 卡纳达语: kn | 俄语: ru | 乌克兰语: uk |
| 英语: en | 高棉语: km | 塞尔维亚语: sr | 乌尔都语: ur |
| 爱沙尼亚语: et | 韩语: ko | 简体中文: zh-CN | 维吾尔语: ug |
| 芬兰语: fi | 老挝语: lo | 信德语: sd | 越南语: vi |
| 法语: fr | 拉脱维亚语: lv | 僧伽罗语: si | 威尔士语: cy |
| 格鲁吉亚语: ka | 立陶宛语: lt |     |

示例：

(@XDevelopers OR to:XDevelopers) lang:es

**注意：** 语言运算符会匹配由 X 确定并设置为 Post 的 `lang` 属性的特定帖子语言。有关 X Entities JSON 属性的更多信息，请参见[此处](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)。如果无法为某条帖子进行语言分类，该帖子的 `lang` 将被设置为 “und”（未定义）。

| 运算符                                                                        | 说明                                                                                                                                                                                                                                                                                                                                                      |
| :------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| place                                                                      | 匹配标记了指定位置或 X 地点 ID 的帖子。<br />包含多个单词的地点名称应使用引号括起来。<br />*示例：* `(place:London OR place:"Great Britain") -place:USA`<br />`place:fd70c22040963ac7`<br />**注意：**有关如何获取 X 地点 ID，请参阅 [GET geo/search](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) 公共 API 端点。<br />**注意：**不会匹配转发或引用帖子，因为转发的地点信息是附加到原始帖子上的。 |
| place&#95;country                                                          | 匹配那些其被标记的地点/位置所关联的国家代码与给定 ISO alpha-2 字符代码一致的帖子。<br />*示例：* `place_country:GB OR place_country:AU OR place_country:CA`<br />**注意：** 不会匹配转发或引用帖子，因为转发的地点附加在原始帖子上。<br />有效的 ISO 代码：[ISO 3166-1 alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)。                                                                                                 |
| point&#95;radius:[lon lat radius]                                          | 匹配帖子精确位置 (x, y) 或定义半径内的 “Place” 地理多边形区域。<br />* 半径：&lt; 25mi<br />* 支持的单位：mi、km<br />* 经度：±180<br />* 纬度：±90<br />坐标以十进制度表示。<br />参数使用方括号括起，并以空格分隔。<br />*示例：* `point_radius:[-105.27346517 40.01924738 0.5mi]`<br />*示例：* `point_radius:[2.355128 48.861118 16km]`<br />**注意：** 不会匹配转发或引用转发的帖子。                                                        |
| bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat] | 匹配精确位置，或完全位于边界框内的“Place”地理多边形。<br />参数使用方括号包裹，并以空格分隔。<br />坐标：十进制度（经度 ±180，纬度 ±90）。<br />边界框的宽度和高度都必须小于 25 英里（25mi）。<br />*示例：* `bounding_box:[-105.301758 39.964069 -105.178505 40.09455]`<br />**注意：** 不会匹配转发或引用转发的帖子。                                                                                                                                |
| profile&#95;country                                                        | 匹配作者个人资料中地理位置的国家代码与指定的 ISO-3166-1-alpha-2 两字母代码相同的帖子。                                                                                                                                                                                                                                                                                                   |
| profile&#95;region                                                         | 在作者个人资料的地理富集信息中，对 “region” 字段进行匹配，要求为完整字符串的精确匹配。<br />对于包含空格或标点符号的子字符串，请使用双引号。<br />*示例：* `profile_region:"New York"`                                                                                                                                                                                                                                   |
| profile&#95;locality                                                       | 在作者的 profile 地理富化信息中匹配 “locality” 字段，要求对完整字符串进行精确匹配。<br />对于包含空格或标点符号的子字符串，请使用双引号。<br />*示例：* `profile_locality:"San Francisco"`                                                                                                                                                                                                                        |
| profile&#95;subregion                                                      | 在作者个人资料的地理富集数据中匹配 “subRegion” 字段，包括特定县或大都会区域。<br />进行完整字符串的精确匹配。<br />*示例：* `profile_subregion:"Santa Clara County"`                                                                                                                                                                                                                                    |
| has:geo                                                                    | 匹配包含来自 X 的、针对帖子提供的地理位置信息的帖子，包括带有纬度和经度的 “geo” 数据，或带有显示名称和地理多边形的 “Place” 位置信息。<br />**注意：** 对于 Search API，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                    |
| has:profile&#95;geo                                                        | 匹配带有任意 Profile Geo 元数据的帖子，不论其具体值。<br />可用别名：`has:derived_user_geo`。<br />**注意：**在 Search API 中，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                             |
| has:links                                                                  | 匹配在有效负载的 &quot;text&quot; 对象中包含链接或被引用媒体的帖子，其中包括附带媒体的帖子和引用帖子（Quote Tweets）。<br />**注意：** 在使用 Search API 时，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                   |
| is:retweet                                                                 | 仅返回显式转发。可以取反以排除转发，仅返回原创内容。<br />此运算符仅匹配真正的转发，不匹配引用帖子。<br />**注意：**在 Search API 中，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                                           |
| is:reply                                                                   | 仅返回显式回复。可取反以排除回复。<br />PowerTrack 会匹配对原始帖子的回复、引用帖子中的回复，以及转发中的回复。<br />Search API 仅匹配对原始帖子的回复。<br />*示例：* `@XDevelopers -is:reply`                                                                                                                                                                                                                       |
| is:quote                                                                   | 仅返回引用帖子或引用了其他帖子的帖子。<br />可使用否定形式以排除引用帖子。<br />*示例：* `@XDevelopers is:quote`                                                                                                                                                                                                                                                                             |
| is:verified                                                                | 仅返回来自“已认证”作者的帖子。可以取反以排除来自已认证作者的帖子。<br />*示例：* `@XDevelopers is:verified`                                                                                                                                                                                                                                                                                |
| has:mentions                                                               | 匹配提到其他 X 用户的帖子。<br />**注意：** 在 Search API 中使用时，必须与非 `is:` 或 `has:` 运算符组合。                                                                                                                                                                                                                                                                               |
| has:hashtags                                                               | 匹配包含话题标签的帖子。<br />**注意：** 在使用 Search API 时，必须与非 `is:` 或 `has:` 类型的运算符组合使用。                                                                                                                                                                                                                                                                              |
| has:media                                                                  | 匹配包含由 X 分类为媒体的 URL 的帖子（例如，pic.x.com）。<br />可用别名：`has:media_link`。<br />**注意：**在使用 Search API 时，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                             |
| has:images                                                                 | 匹配包含媒体 URL 的帖子（例如 pic.x.com）。<br />**注意：**在 Search API 中使用时，必须与非 `is:` 或 `has:` 的运算符组合使用。                                                                                                                                                                                                                                                               |
| has:videos                                                                 | 匹配包含上传到 X 的原生 X 视频的帖子。<br />可用别名：`has:video_link`。<br />此运算符不会匹配来自 YouTube、Periscope 或其他视频托管网站的视频。<br />**注意：**与 Search API 搭配使用时，必须与至少一个非 `is:` 或 `has:` 运算符组合。                                                                                                                                                                                        |
| has:symbols                                                                | 匹配包含股票代码标记的帖子（例如，$TWTR）。<br />**注意：** 对于 Search API，必须与非 `is:` 或 `has:` 运算符组合使用。                                                                                                                                                                                                                                                                        |

<div id="operators-by-product">
  ## 各产品支持的运算符
</div>

<div id="rules-and-filtering-enterprise">
  ### 规则与过滤：Enterprise
</div>

所有 Enterprise 运算符均可用于 PowerTrack 和 Historical PowerTrack API。不过，如本页所示，只有一部分运算符可用于 Enterprise Search API。

深蓝色标签标明了各个 Enterprise 产品中支持哪些运算符：

PowerTrack Search

| 运算符                                                                                    | 产品                               | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 匹配的载荷字段                                                                    |
| :------------------------------------------------------------------------------------- | :------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------- |
| &quot;精确短语匹配&quot;                                                                     | PowerTrack<br /><br />Search     | 在 Post 正文中匹配完全相同的短语。<br /><br />可转换为搜索运算符的组件会被视为单词。换句话说：<br /><br />* `"#hashtag"` 将匹配 `hashtag`，但不会匹配 `#hashtag`（要匹配实际的 hashtag，请使用不带引号的 [hashtag operator](#hashtag-operator)）<br />* `"$TWTR"` 将匹配单词 `TWTR`，但不会匹配 cashtag `$TWTR`（要匹配实际的 cashtag，请使用不带引号的 [cashtag operator](#cashtag-operator)）<br /><br />**注意：** 在 30 Day Search 和 Full Archive Search（Enterprise 和 Premium）中，标点符号不会被分词，而是被视为空白字符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `text`                                                                     |
| @                                                                                      | PowerTrack<br /><br />Search     | 匹配任何提及给定用户名的帖子。该值可以是用户名（不包含 `@` 字符），也可以是用户的数字 ID（例如可以通过 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 端点获取）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `entities.user_mentions`                                                   |
| #                                                                                      | PowerTrack<br /><br />Search     | 匹配包含指定话题标签的任意帖子。<br /><br />此运算符执行精确匹配。例如，规则 `#1989` 将匹配包含完全相同话题标签 `#1989` 的帖子，但不会匹配包含话题标签 `#TaylorSwift1989` 的帖子。<br /><br />**注意：**此运算符依赖 X 的实体抽取功能来匹配话题标签，而不是直接从正文中抽取话题标签。有关实体中 JSON 属性的更多详细信息，请参阅 [X Entities](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `entities.hashtags`                                                        |
| $                                                                                      | PowerTrack<br /><br />Search     | 匹配任何包含指定 cashtag（其中该标记的首字符为 `$`）的帖子。<br /><br />**注意：**此运算符依赖 X 的实体提取来匹配链接，而不是直接从正文中解析链接。有关实体中 JSON 属性的详细信息，请参阅 [X Entities](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `entities.symbols`                                                         |
| bio:                                                                                   | PowerTrack                       | *可用别名*: user&#95;bio:<br /><br />在帖子的用户个人简介中匹配关键词（使用分词匹配）或短语。使用双引号来匹配短语。换句话说：<br /><br />* `bio:software engineer` 将匹配由用户发布的帖子：这些用户的个人简介中包含单词 `software`，且帖子中包含关键词 `engineer`<br />* `bio:"software engineer"` 将匹配任何由个人简介中包含短语 `software engineer` 的用户发布的帖子                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user``.description`                                                       |
| bio&#95;location:                                                                      | PowerTrack                       | *可用别名*: user&#95;bio&#95;location:<br /><br />匹配 [User object](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 的 location 字段中包含指定关键词（使用分词匹配）或短语的帖子。<br /><br />此 location 是一个未规范化、由用户生成的自由文本字符串，与帖子的 location（如果可用）不同。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user.location`                                                            |
| bio&#95;name:                                                                          | PowerTrack                       | 匹配名称中包含指定关键词（基于分词匹配）或短语的 [User object](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) 所属帖子。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `user.name`                                                                |
| bounding&#95;box:                                                                      | PowerTrack<br /><br />Search     | *可用别名*: geo&#95;bounding&#95;box:<br /><br />根据帖子（如存在）的精确位置（经度、纬度）以及地理多边形进行匹配（当 Place 完全位于定义的区域内时）。<br /><br />* west&#95;long 和 south&#95;lat 表示边界框的西南角，其中 west&#95;long 是该点的经度，south&#95;lat 是纬度。<br />* east&#95;long 和 north&#95;lat 表示边界框的东北角，其中 east&#95;long 是该点的经度，north&#95;lat 是纬度。<br />* 边界框的宽度和高度必须小于 25 英里<br />* 经度范围为 ±180<br />* 纬度范围为 ±90<br />* 所有坐标均为十进制度数。<br />* 规则参数放在方括号内，并以空格分隔。<br /><br />**注意：** 在 place（帖子地理位置）上进行匹配的运算符仅会匹配原始帖子。转发不包含任何 place 数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `place`（仅限原始帖子）                                                            |
| contains:                                                                              | PowerTrack                       | 对子串进行匹配，返回正文中包含给定子串的帖子，与分词无关。换句话说，这是纯粹的子串匹配，不考虑单词边界。<br /><br />对于包含空白字符或标点符号的子串，请使用双引号进行匹配。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `text`                                                                     |
| &lt;emoji&gt;                                                                          | PowerTrack<br /><br />Search     | 在帖子正文中匹配一个 emoji。<br /><br />这是一种基于分词的匹配方式，因此你的 emoji 会与帖子正文的分词文本进行匹配。分词基于标点符号、符号/emoji，以及分隔符等 Unicode 基本平面字符。例如，文本为 “I like 🍕” 的帖子会被拆分成以下分词：I、like、🍕。这些分词随后会与规则中使用的 emoji 进行比较。<br /><br />**注意：** 如果某个 emoji 存在变体，你必须使用双引号将其添加到规则中。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `text`                                                                     |
| followers&#95;count:                                                                   | PowerTrack                       | 当作者的关注者数量在给定范围内时匹配帖子。<br /><br />* 单个数字（例如 `followers_count:42`）会匹配任何大于或等于指定值的数字。<br />* 一个范围（例如 `followers_count:42..1337`）会匹配给定范围内的任何数字。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `user.followers_count`                                                     |
| friends&#95;count:                                                                     | PowerTrack                       | *可用别名*：following&#95;count:<br /><br />当作者的好友数量（即他们所关注的用户数）落在给定范围内时，匹配帖子。<br /><br />* 单个数字（例如 `followers_count:42`）将匹配任何大于或等于指定值的数字。<br />* 一个范围（例如 `followers_count:42..1337`）将匹配给定范围内的任何数字。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `user.friends_count`                                                       |
| from:                                                                                  | PowerTrack<br /><br />Search     | 匹配特定用户发布的任意帖子。取值可以是用户名（不包含 `@` 字符），或该用户的数字 ID（例如可通过 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 端点获取）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `user.id`, `user.id_str`（如果使用用户 ID）<br /><br />`user.screen_name`（如果使用用户名） |
| has:geo                                                                                | PowerTrack<br /><br />Search     | 匹配具有由 X 提供的、帖子级地理位置信息的帖子。该信息可以是 “geo” 经纬度坐标，或者是以 X [Place](https://dev.x.com/overview/api/places) 形式提供的 “location”，包括对应的显示名称、地理多边形以及其他字段。<br /><br />不能作为独立运算符单独使用。<br /><br />**注意：** 基于 place（帖子地理信息）进行匹配的运算符只会匹配原创帖子。转发的帖子不包含任何 place 数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `place`（仅原始帖子）                                                             |
| has:hashtags                                                                           | PowerTrack<br /><br />Search     | 匹配包含至少一个话题标签的帖子。<br /><br />不能单独使用该运算符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `entities.hashtags`                                                        |
| has:images                                                                             | PowerTrack<br /><br />Search     | 匹配至少包含一个已被分类的图片 URL 的帖子。<br /><br />不能作为独立运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `entities.media`                                                           |
| has:lang                                                                               | PowerTrack                       | 匹配已被 X 归类为特定语言的帖子。<br /><br />如果某条帖子尚未被归类为任何语言，则该运算符不会匹配。目前每条帖子只会被归类为一种语言，因此使用 AND 将多个语言条件组合在一起将不会返回任何结果。<br /><br />不能作为独立运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `lang`，且其值不为 `und`                                                         |
| has:links                                                                              | PowerTrack<br /><br />Search     | 此运算符用于匹配正文中包含链接的帖子。<br /><br />不能作为独立运算符单独使用。<br /><br />**注意：**此运算符依赖 X 的实体提取来匹配链接，而不是直接从正文中提取链接。有关实体中 JSON 属性的更多详细信息，请参阅 [X Entities](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `entities.urls`                                                            |
| has:media                                                                              | PowerTrack<br /><br />Search     | *可用别名*：has:media&#95;link<br /><br />匹配至少包含一个已被分类为媒体的 URL 的帖子。<br /><br />不能作为独立运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `entities.media`                                                           |
| has:mentions                                                                           | PowerTrack<br /><br />Search     | 匹配提及其他 X 用户的帖子。<br /><br />不能单独使用该运算符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `entities.user_mentions`                                                   |
| has:profile&#95;geo                                                                    | PowerTrack<br /><br />Search     | *可用别名*: has:derived&#95;user&#95;geo<br /><br />匹配具有任何 [Profile Geo](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#profile-geo) 元数据的帖子，不论其具体值为何。<br /><br />不能单独作为运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `user.location`                                                            |
| has:symbols                                                                            | PowerTrack<br /><br />Enterprise | 匹配包含股票代码标签（如 `$TWTR`）的帖子。<br /><br />不能单独作为运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `entities.symbols`                                                         |
| has:videos                                                                             | PowerTrack<br /><br />Search     | *可用别名*: has:video&#95;link<br /><br />匹配包含至少一个被归类为媒体的 URL 的帖子。<br /><br />不能单独作为一个运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `entities.media`                                                           |
| in&#95;reply&#95;to&#95;status&#95;id:                                                 | PowerTrack                       | *可用别名*：in&#95;reply&#95;to&#95;tweet&#95;id:<br /><br />仅投递对指定帖子所作的直接回复。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 目标帖子的 `id` 和 `id_str`                                                      |
| is:quote                                                                               | PowerTrack                       | 仅投递符合规则的显式引用帖子。<br /><br />也可以使用其否定形式（`-is:quote`），从投递中排除符合规则的引用帖子。<br /><br />不能单独使用该运算符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `is_quote_status`（当值为 `true` 时）                                            |
| is:reply                                                                               | PowerTrack<br /><br />Search     | 仅投放符合规则的回复。<br /><br />也可以使用其否定形式（`-is:reply`）来排除符合指定规则的回复的投放。<br /><br />在 PowerTrack 中，此运算符会匹配：<br /><br />* 对原始帖子的回复<br />* 引用帖子中的回复<br />* 转发中的回复<br /><br />  <br />与 Search API 一起使用时，此运算符会匹配对原始帖子的回复，但会排除引用帖子中的回复以及转发中的回复。<br /><br />您可以将此运算符与 `is:retweet` 和 `is:quote` 组合使用，仅投放对原始帖子的回复。<br /><br />在 Search API 中不能将其作为独立运算符使用。<br /><br />**注意**：在 Premium 产品中，此运算符在 Sandbox 开发环境中不可用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 回复元素，例如 `in_reply_to_status_id`                                            |
| is:retweet                                                                             | PowerTrack<br /><br />Search     | 仅投放符合规则的显式转发内容。<br /><br />也可以取反（`-is:retweet`），以在投放时排除符合规则的转发，只投放原始内容。<br /><br />此运算符仅查找真实转发（即通过转发按钮发布的转发）。不使用 X 转发功能的引用帖子和被修改的帖子不会被此运算符匹配。<br /><br />不能作为独立运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 转发元素，例如 `retweeted_status`                                                 |
| is:verified                                                                            | PowerTrack<br /><br />Search     | 仅返回作者已通过 X 认证的帖子。<br /><br />也可以取反以排除作者已通过认证的帖子。<br /><br />此运算符不能单独使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `user.verified`                                                            |
| keyword                                                                                | PowerTrack<br /><br />Search     | 在帖子正文中匹配关键字。<br /><br />这是基于分词的匹配，这意味着你的关键字字符串会与帖子正文分词后的文本进行匹配。分词基于标点符号、符号/emoji，以及分隔符类的 Unicode 基本平面字符。例如，文本为 “I like coca-cola” 的帖子会被拆分为以下词元：`I`、`like`、`coca`、`cola`。然后这些词元会与你在规则中使用的关键字字符串进行比较。若要匹配包含标点符号（例如 coca-cola）、符号或分隔符字符的字符串，必须使用[精确短语匹配](#exact-match)运算符。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `text`                                                                     |
| lang:                                                                                  | PowerTrack<br /><br />Search     | 匹配那些已被 X 分类为特定语言的帖子（如果且仅当该帖子已被分类）。每条帖子只会被分类为一种语言，因此使用 AND 运算符将多个语言组合在一起将不会返回任何结果。<br /><br />**注意：**如果无法进行语言分类，则返回结果为 `und`（表示未定义）。<br /><br />此运算符只会匹配受支持的语言。提供任何其他值（包括 `und`）都会导致该运算符被忽略（换句话说，帖子不会根据此运算符被过滤）。下方列表列出了当前支持的语言及其对应的 BCP 47 语言标识符：<br /><br />`am` 阿姆哈拉语<br /><br />`hu` 匈牙利语<br /><br />`pt` 葡萄牙语<br /><br />`ar` 阿拉伯语<br /><br />`is` 冰岛语<br /><br />`ro` 罗马尼亚语<br /><br />`hy` 亚美尼亚语<br /><br />`in` 印度尼西亚语<br /><br />`ru` 俄语<br /><br />`bn` 孟加拉语<br /><br />`it` 意大利语<br /><br />`sr` 塞尔维亚语<br /><br />`bg` 保加利亚语<br /><br />`ja` 日语<br /><br />`sd` 信德语<br /><br />`my` 缅甸语<br /><br />`kn` 卡纳达语<br /><br />`si` 僧伽罗语<br /><br />`zh` 中文<br /><br />`km` 高棉语<br /><br />`sk` 斯洛伐克语<br /><br />`cs` 捷克语<br /><br />`ko` 韩语<br /><br />`sl` 斯洛文尼亚语<br /><br />`da` 丹麦语<br /><br />`lo` 老挝语<br /><br />`ckb` 索拉尼库尔德语<br /><br />`nl` 荷兰语<br /><br />`lv` 拉脱维亚语<br /><br />`es` 西班牙语<br /><br />`en` 英语<br /><br />`lt` 立陶宛语<br /><br />`sv` 瑞典语<br /><br />`et` 爱沙尼亚语<br /><br />`ml` 马拉雅拉姆语<br /><br />`tl` 他加禄语<br /><br />`fi` 芬兰语<br /><br />`dv` 马尔代夫语<br /><br />`ta` 泰米尔语<br /><br />`fr` 法语<br /><br />`mr` 马拉地语<br /><br />`te` 泰卢固语<br /><br />`ka` 格鲁吉亚语<br /><br />`ne` 尼泊尔语<br /><br />`th` 泰语<br /><br />`de` 德语<br /><br />`no` 挪威语<br /><br />`bo` 藏语<br /><br />`el` 希腊语<br /><br />`or` 奥里亚语<br /><br />`tr` 土耳其语<br /><br />`gu` 古吉拉特语<br /><br />`pa` 旁遮普语<br /><br />`uk` 乌克兰语<br /><br />`ht` 海地语<br /><br />`ps` 普什图语<br /><br />`ur` 乌尔都语<br /><br />`iw` 希伯来语<br /><br />`fa` 波斯语<br /><br />`ug` 维吾尔语<br /><br />`hi` 印地语<br /><br />`pl` 波兰语<br /><br />`vi` 越南语<br /><br />`cy` 威尔士语 | `lang`（当其值不是 `und` 时）                                                      |
| listed&#95;count:                                                                      | PowerTrack                       | *可用别名*：user&#95;in&#95;lists&#95;count:<br /><br />当作者在 X 上被加入列表的次数落在给定范围内时，将匹配这些帖子。<br /><br />* 单个数字（例如 `listed_count:42`）将匹配任何大于或等于指定值的数字。<br />* 一个范围（例如 `listed_count:42..1337`）将匹配给定范围内的任何数字。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `user.listed_count`                                                        |
| place&#95;country:                                                                     | PowerTrack<br /><br />Search     | 匹配其关联的已标记[地点/位置](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-geo-objects)的国家代码与指定的 [ISO Alpha-2 两字母代码](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)相同的帖子。<br /><br />**注意：** 基于 place（帖子地理信息）进行匹配的运算符只会匹配原创帖子。转发帖子不包含任何位置信息。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `place`（仅适用于原始帖子）                                                          |
| place:                                                                                 | PowerTrack<br /><br />Search     | 匹配带有指定位置或 [X place ID](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) 标记的帖子。包含多个词的地点名称应放在引号中（例如 `place:"San Francisco"`）<br /><br />**注意：** 匹配 place（帖子地理位置）的运算符只会返回原始帖子的匹配结果。转帖不包含任何地点数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `place`（仅限原始帖子）                                                            |
| point&#95;radius:                                                                      | PowerTrack<br /><br />Search     | **注意：** 基于 place（帖子地理信息）进行匹配的运算符只会匹配原始帖子。转发帖子不包含任何位置数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `place`（仅原始帖子）                                                             |
| profile&#95;bounding&#95;box:[west&#95;long south&#95;lat east&#95;long north&#95;lat] | PowerTrack                       | 匹配 [Profile Geo enrichment](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中用户的精确 Location（经度、纬度），前提是该 Place 完全位于所定义的区域内。<br /><br />* west&#95;long south&#95;lat 表示边界框的西南角，其中 west-long 是该点的经度，south&#95;lat 是该点的纬度。<br />* east&#95;long 和 north&#95;lat 表示边界框的东北角，其中 east&#95;long 是该点的经度，north&#95;lat 是该点的纬度。<br />* 边界框的宽度和高度必须小于 25 英里<br />* 经度范围为 ±180<br />* 纬度范围为 ±90<br />* 所有坐标均为十进制度数。<br />* 规则参数包含在方括号内，并以空格分隔。<br /><br />**注意：** 匹配 place（Post geo）的运算符只会匹配原始帖子。转发帖子（Retweets）不包含任何 place 数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user.derived.locations.geo.coordinates`                                   |
| profile&#95;country:                                                                   | PowerTrack<br /><br />Search     | 对 [Profile Geo enrichment](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中的国家代码进行精确匹配。<br /><br />使用基于 [ISO-3166-1-alpha-2 specification](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) 的标准化两位字母国家代码集合。<br /><br />为简洁起见，提供此运算符以替代针对 address 对象中 country 字段的运算符。<br /><br />**注意：**针对 place（帖子地理信息）进行匹配的运算符只会包含来自原始帖子的匹配结果。转帖不包含任何 place 数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user.derived.locations.country_code`                                      |
| profile&#95;locality:                                                                  | PowerTrack<br /><br />Search     | 与 [Profile Geo enrichment](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中的 Locality 字段精确匹配。<br /><br />这是对整个字符串的精确匹配。<br /><br />不必对字符使用反斜杠进行转义。例如，如果要匹配带有斜杠的内容，使用 `one/two`。<br /><br />使用双引号来匹配包含空格或标点符号的子字符串，例如：`profile_locality:"Lower East Side"`。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `user.derived.locations.locality`                                          |
| profile&#95;point&#95;radius:[lon lat radius]                                          | PowerTrack                       | 与用户的 [Profile Geo enrichment](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中的精确位置 (x,y) 匹配。<br /><br />* 支持的半径单位为英里 (mi) 和千米 (km)。<br />* 半径必须小于 25 mi。<br />* 经度范围为 ±180<br />* 纬度范围为 ±90<br />* 所有坐标均为十进制度数。<br />* 规则参数包含在方括号中，并以空格分隔。<br /><br />**注意：** 基于 place（帖子地理位置）进行匹配的运算符只会匹配原创帖子。转发帖子不包含任何 place 数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `user.derived.locations.geo`                                               |
| profile&#95;region:                                                                    | PowerTrack<br /><br />Search     | 对 [Profile Geo enrichment](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中 Region 字段的精确匹配。<br /><br />这是对整个字符串的精确匹配。<br /><br />不需要使用反斜杠来转义字符。例如，如果要匹配带有斜杠的内容，使用 `one/two`。<br /><br />使用双引号来匹配包含空格或标点符号的子字符串，例如 `profile_locality:"New York"`。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `user.derived.locations.region`                                            |
| profile&#95;subregion:                                                                 | PowerTrack                       | 对 [Profile Geo 数据增强](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments) 中 Subregion 字段的精确匹配。<br /><br />这是对整个字符串的精确匹配。<br /><br />不需要使用反斜杠对字符进行转义。例如，如果要匹配包含斜杠的内容，请使用 `one/two`。<br /><br />对于包含空格或标点符号的子字符串，使用双引号进行匹配，例如 `profile_locality:"Kings County"`。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `user.derived.locations.sub_region`                                        |
| &quot;keyword1 keyword2&quot;~N                                                        | PowerTrack<br /><br />Search     | 通常称为“邻近运算符（proximity operator）”，用于匹配关键词之间距离不超过 N 个 token 的帖子。<br /><br />如果关键词的顺序相反，则它们之间的距离不能超过 N-2 个 token。<br /><br />引号中可以包含任意多个关键词。<br /><br />N 不能大于 6。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `text`                                                                     |
| retweets&#95;of&#95;status&#95;id:                                                     | PowerTrack                       | *可用别名*: retweets&#95;of&#95;tweet&#95;id:<br /><br />仅传送对指定原始帖子进行的显式 Retweet。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `retweeted_status.id`, `retweeted_status.id_str`                           |
| retweets&#95;of:                                                                       | PowerTrack<br /><br />Search     | *可用别名*: retweets&#95;of&#95;user:<br /><br />匹配所有转发指定用户帖子（Retweet）的帖子。该值可以是用户名（不含 `@` 字符）或该用户的数字 ID（例如可通过 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 端点获取）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `retweeted_status.id`（如果存在）                                                |
| sample:                                                                                | PowerTrack                       | 返回与规则匹配的帖子中的一个随机百分比样本，而不是返回所有匹配的帖子。百分比值必须是 1 到 100 之间的整数。<br /><br />此运算符作用于整条规则，并要求所有用 OR 连接的条件进行分组。<br /><br />**注意：** `sample` 运算符首先将 firehose 的范围缩小到 X%，然后再将规则/过滤条件应用于该抽样子集。例如，如果你使用 `sample:10`，每条帖子有 10% 的机会被包含在样本中。<br /><br />**注意：** 抽样是确定性的，因此你在实时中获得的样本数据与事后按历史方式拉取数据时获得的样本数据相同。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                            |
| source:                                                                                | PowerTrack                       | 匹配任意由指定来源应用生成的帖子。该值必须是该应用的名称或该应用的 URL。<br /><br />不能单独作为运算符使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `source`                                                                   |
| statuses&#95;count:                                                                    | PowerTrack                       | *可用别名*：tweets&#95;count:<br /><br />当作者发布的状态数量在给定范围内时，会匹配相关的帖子。<br /><br />* 单个数字（例如 `statuses_count:42`）将匹配任何大于或等于该数值的数量。<br />* 一个范围（例如 `statuses_count:42..1337`）将匹配该范围内的任何数量。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `user``.statuses_count`                                                    |
| to:                                                                                    | PowerTrack<br /><br />Search     | 匹配任何回复特定用户的帖子。该值可以是用户名（不包含 `@` 字符），也可以是用户的数字 ID（例如可通过 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 端点获取）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `text`                                                                     |
| url:                                                                                   | PowerTrack<br /><br />Search     | 对 Post 的展开 URL 执行分词匹配。包含标点或特殊字符的标记（token）和短语应使用双引号括起来（例如 `url:"/developer"`）。<br /><br />虽然一般不推荐这样做，但该运算符也可以匹配用双引号括起来的特定协议（例如 `url:"https://developer.x.com"`）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `entities.urls.expanded_url`                                               |
| url&#95;contains:                                                                      | PowerTrack                       | 在（新的）[扩展 URL 标题元数据富化](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)上执行关键字或短语匹配。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `entities.urls.expanded_url`                                               |
| url&#95;description:                                                                   | PowerTrack                       | *可用别名*：within&#95;url&#95;description:<br /><br />在（新的）[扩展页面描述元数据增强](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)上进行关键词/短语匹配。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `entities.urls.unwound.description`                                        |
| url&#95;title:                                                                         | PowerTrack                       | *可用别名*：within&#95;url&#95;title:<br /><br />对（新的）[展开 URL 标题的元数据扩展](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)执行关键字/短语匹配。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `entities.urls.title`                                                      |