---
title: 编辑帖子
keywords: ["编辑帖子 enterprise", "enterprise 编辑帖子", "编辑帖子 enterprise", "帖子编辑 enterprise", "编辑元数据 enterprise"]
---

Enterprise 端点已更新，以提供已编辑帖子的元数据。&#95;Edit Posts&#95; 功能最初于 2022 年 9 月 1 日在 X 员工中引入进行测试。从该日期开始，符合条件的帖子在 30 分钟内最多可编辑 5 次。*自 2022 年 9 月 29 日起创建的所有帖子对象* 都包含帖子编辑元数据，即使该帖子从未被编辑。每次编辑帖子时，都会创建一个新的帖子 ID。可以通过将这些 ID 串联在一起（从原始 ID 开始）来描述帖子的编辑历史。此外，如果编辑链中的任意一个帖子被删除，该链中的所有帖子也都会被删除。

这些元数据会自动包含在响应中。无需在请求中添加任何参数即可将可用的编辑历史作为帖子对象的一部分返回。

通过这些新的元数据，开发者可以获知：

* 帖子在创建时是否符合编辑条件。某些帖子（例如包含投票的帖子或已计划发送的帖子）无法被编辑。
* 帖子可在 30 分钟内编辑，且最多可以编辑 5 次。对于可编辑的帖子，你可以查看是否仍有剩余编辑时间以及还可以编辑多少次。
* 你当前查看的是否是帖子的已编辑版本。在大多数情况下，除非通过帖子 ID 请求特定的历史版本，否则 API 将返回帖子的最新版本。

在根级别新增了三个帖子属性：

* **edit&#95;history** - 提供与该帖子编辑历史相关联的所有帖子 ID。&quot;initial&#95;tweet&#95;id&quot; 属性表示原始帖子，而 &quot;edit&#95;tweet&#95;ids&quot; 属性是一个数组，包含与其编辑历史相关联的所有 ID。如果该帖子没有被编辑过，此数组将只包含一个 ID。

```
"edit_history": {
    "initial\_tweet\_id": "1283764123"
    "edit\_tweet\_ids": \["1283764123"\]
  }
```

* **edit&#95;controls** - 提供属性，用于指示 30 分钟编辑窗口何时结束，以及还剩余多少次可编辑机会。

```
"edit_controls": {  
     "editable\_until\_ms": 1660155761384
     "edits_remaining": 3   
  }
```

* **editable** - 指示帖子在创建时是否可以编辑。 

&quot;editable&quot;: true

大多数帖子都可以编辑。但是，以下类型的帖子不可以编辑： 

* 帖子为推广内容
* 帖子包含投票
* 帖子是对非本人创建线程的回复
* 帖子是转推（请注意，引用帖子可以编辑）
* 帖子是 nullcast（不推送分发）
* 社区帖子
* Superfollow 帖子
* 协作帖子

**未编辑帖子的示例属性**

下面的 JSON 突出显示了在添加帖子编辑功能之后发布的帖子所包含的编辑元数据。此示例针对的是没有编辑历史的帖子。 

请注意，`"edit_tweet_ids"` 数组中只有一个 ID。

```
{
  "created_at": "Wed Aug 16 18:29:02 +0000 2022",
  "id": 1557433858676740098,
  "id_str": "1557433858676740098",
  "text": "I wonder if I will every use teh edit button",
  "edit_history": {
    "initial_tweet_id": "1557433858676740098",
    "edit_tweet_ids": ["1557433858676740098"]
  },
  "edit_controls": {
    "editable_until_ms": 1660155761384,
    "edits_remaining": 5
  },
  "editable": true
}
```

**已编辑帖子示例属性**

下面的 JSON 突出显示了在引入编辑帖子功能之后发布的帖子所包含的编辑元数据。此示例展示的是一条仅被编辑过一次的帖子。 

请注意，`"edit_tweet_ids"` 数组中包含两个 ID，一个对应原始帖子，另一个对应已编辑后的更新版本。

```
{
  "created_at": "Wed Aug 16 18:35:42 +0000 2022",
  "id": 1557445923210514432,
  "id_str": "1557445923210514432",
  "text": "I wonder if I will ever use the edit button",
  "edit_history": {
    "initial_tweet_id": "1557433858676740098",
    "edit_tweet_ids": ["1557433858676740098", "1557445923210514432"]
  },
  "edit_controls": {
    "editable_until_ms": 1660155761384,
    "edits_remaining": 4
  },
  "editable": true
}
```

**合规支持**

[Compliance Firehose](/zh/x-api/enterprise-gnip-2.0/fundamentals/firehouse) 和 v2 的 [batch compliance endpoint](/zh/x-api/compliance/batch-compliance/introduction) 均已更新，以提供帖子编辑功能支持：

在 Compliance Firehose 中新增了一种名为 &quot;tweet&#95;edit&quot; 的事件类型。

```
{
  "tweet_edit": {
    "id": <tweetId>,
    "initial_tweet_id": <tweetId>,
    "edit_tweet_ids": [<tweetId1>, <tweetId2>, <tweetId3> ...],
    "timestamp_ms": "<timestampMsStr>"
  }
}
```
