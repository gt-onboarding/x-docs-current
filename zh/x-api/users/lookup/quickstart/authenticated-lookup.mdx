---
title: 已认证用户查询
sidebarTitle: 已认证用户查询
keywords: ["已认证用户查询快速入门", "获取已认证用户信息快速入门", "me 端点快速入门", "已认证用户查询教程"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-authenticated-user-lookup-endpoint">
  ## 开始使用已验证用户查找端点
</div>

本快速入门指南将帮助你使用 Postman 向已验证用户查找端点发出你的第一个请求。

如果你想查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。

<Note>
  ### 前提条件

  要完成本指南，你需要拥有一组用于对请求进行身份验证的[密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access)并通过审批。
  * 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)以及关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 前往你的 App 的“Keys and tokens”页面生成所需的凭证。请务必将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-an-authenticated-user-lookup-request">
  ### 构建已认证用户查询请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 步骤一：选择一个工具或库
</div>

有多种不同的工具、代码示例和库可以用来向此端点发起请求，但在这里我们将使用 Postman 工具来简化流程。

要将 X API v2 的 Postman 集合加载到你的 Postman 环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，进入“Authenticated User Lookup”文件夹，并选择“Lookup an Authenticated User”。

<div id="step-two-authenticate-your-request">
  #### 步骤二：对请求进行身份验证
</div>

要正确地向 X API 发起请求，你需要先验证自己是否具有相应的权限。对于这个端点，你必须使用 [OAuth 1.0a User Context](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 来对请求进行身份验证。

在本示例中，我们将使用 OAuth 1.0a User Context。

你必须将自己的密钥和令牌（具体包括 API Key、API Secret Key、OAuth 1.0a 用户 Access Token 和 OAuth 1.0a 用户 Access Token Secret）添加到 Postman 中。你可以在 Postman 右上角选择名为“X API v2”的环境，然后将你的密钥和令牌添加到“initial value”和“current value”字段中（点击环境下拉菜单旁边的眼睛图标）来完成此操作。

如果配置正确，这些变量会自动填充到请求的 Authorization 选项卡中。
 

<div id="step-three-determine-which-user-fields-you-want-to-retrieve">
  ##### 步骤三：确定你要检索哪些用户字段
</div>

如果你在完成步骤三后点击 &quot;Send&quot; 按钮，你的响应中将返回默认的 [user 对象](/zh/x-api/fundamentals/data-dictionary#user) 字段：id、name 和 username。

如果你希望在 id、name 和 username 之外接收更多字段，你必须在请求中通过 [field](/zh/x-api/fundamentals/fields) 和/或 [expansion](/zh/x-api/fundamentals/expansions) 参数来指定这些字段。

在这个练习中，我们将从不同对象中请求三组附加字段：

1. 主 user 对象中的附加 user.created&#95;at 字段。

2. 对返回的用户，其关联的置顶帖子对象的默认字段：id 和 text。

3. 关联 Post 对象中的附加 tweet.created&#95;at 字段。

在 Postman 中，导航到 &quot;Params&quot; 选项卡，并在 &quot;Query Params&quot; 表中添加以下键值对：

|              |                               |                                                                   |
| :----------- | :---------------------------- | :---------------------------------------------------------------- |
| **Key**      | **Value**                     | **Returned fields**                                               |
| user.fields  | created&#95;at                | user.created&#95;at                                               |
| expansions   | pinned&#95;tweet&#95;id       | includes.tweets.id,  <br />includes.tweets.text                   |
| tweet.fields | created&#95;at, author&#95;id | includes.tweets.created&#95;at, includes&#95;tweets.author&#95;id |

现在你应该会在 &quot;Send&quot; 按钮旁边看到一个类似的 URL：

```
      https://api.x.com/2/users/me?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```
