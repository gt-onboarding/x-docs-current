---
title: 管理静音
sidebarTitle: 管理静音
keywords: ["管理静音快速入门", "将用户静音快速入门", "管理静音教程", "静音指南", "静音快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-mutes-endpoints">
  ## 开始使用静音管理端点
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向静音管理端点发出第一个请求。

如果你希望查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。

<Note>
  **先决条件**

  要完成本指南，你需要拥有一组用于对请求进行认证的 [密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access) 并通过审核。
  * 在开发者门户中创建一个 [项目](/zh/resources/fundamentals/projects) 以及一个关联的 [开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 前往你的应用的“Keys and tokens”页面生成所需的凭证。请务必将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-manage-mutes-request">
  ### 创建管理静音请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 第一步：从工具或库开始
</div>

有多种不同的工具、代码示例和库可以用来向此端点发起请求，但在这里我们将使用 Postman 工具来简化流程。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，进入 “Mutes” 文件夹，并选择 “Mute a user’s ID”。
 

<div id="step-two-authenticate-your-request">
  #### 步骤二：对请求进行认证
</div>

要正确地向 X API 发起请求，你需要验证自己是否具有相应权限。对于此端点，你必须使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 对请求进行认证。

在此示例中，我们将使用 OAuth 1.0a 用户上下文。

你必须将你的密钥和令牌——具体来说是 API Key、API Secret Key、OAuth 1.0a 用户访问令牌（Access Token）以及 OAuth 1.0a 用户访问令牌密钥（Access Token Secret）——添加到 Postman 中。你可以在 Postman 右上角选择名为“X API v2”的环境（environment），然后将你的密钥和令牌添加到“initial value”和“current value”字段中（点击环境下拉菜单旁边的眼睛图标即可编辑）。

如果你已正确完成上述配置，这些变量会在该请求的 Authorization 选项卡中自动被引用。
 

<div id="step-three-specify-who-is-going-to-mute-whom">
  #### 步骤三：指定谁要屏蔽谁
</div>

manage mutes 端点需要两个 ID：一个是用户 ID（希望屏蔽或取消屏蔽其他用户的用户），另一个是目标用户 ID（将被屏蔽或取消屏蔽的用户）。用户的 ID 必须与进行身份验证的用户 ID 相对应，这意味着在对请求进行身份验证时，你必须传递与该用户 ID 关联的访问令牌。在这种情况下，你可以指定属于你自己账号的 ID。你可以通过两种方式找到你的 ID：

1. 使用按用户名查询的 [user lookup](/zh/x-api/users/lookup/introduction) 端点，你可以传入用户名并在响应中获取 id 字段。
2. 查看你的访问令牌，你会发现其中的数字部分就是你的用户 ID。

目标 ID 可以是任何有效的用户 ID。在 Postman 中，切换到 “Params” 选项卡，在 `id` 路径变量的 “Value” 列中输入你的 ID。然后切换到 “Body” 选项卡，将你希望屏蔽的用户的 ID 作为 target&#95;user&#95;id 参数的值输入。务必不要在任何 ID 前后包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 已认证用户 ID |
| target&#95;user&#95;id | 你希望屏蔽的用户 ID |

<div id="step-four-make-your-request-and-review-your-response">
  #### 步骤四：发送请求并查看响应
</div>

完成所有设置后，点击 “Send” 按钮，你将会收到与下面示例类似的响应：

```
      { "data": { "muting": true } }
```

如果你收到 `"muting": true`，则说明该 id 对应的用户已成功将 `target_user_id` 静音。

要对同一用户取消静音，可以使用名为 “Unmute a user ID” 的请求，它同样位于加载到 Postman 中的 X API v2 集合的 “Mutes” 文件夹中。`source_user_id` 应为你的用户 ID，`target_user_id` 应为要取消静音的用户 ID。你不需要把这些内容写在 JSON body 中，因此需要确保为 `source_user_id` 和 `target_user_id` 添加所需的查询参数（query params）。

在成功取消静音后，你将会收到类似于以下示例的响应：

```
      { "data": { "muting": false } }
```
