---
title: 静音查询
sidebarTitle: 静音查询
keywords: ["静音查询迁移", "v1.1 到 v2 静音查询", "迁移静音查询", "标准版到 v2 静音查询", "静音迁移"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="mutes-lookup-standard-v11-compared-to-x-api-v2">
  ### 静音查找：标准 v1.1 与 X API v2 对比
</div>

如果你一直在使用标准 v1.1 的 [GET mutes/users/ids](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-mutes-users-ids) 和 [GET mutes/users/list](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-mutes-users-list) 端点，本指南旨在帮助你了解标准 v1.1 与 X API v2 静音查找端点之间的相同点和不同点。

* **相同点**
  * 认证
* **不同点**
  * 端点 URL

  * 单个请求的用户数量限制

  * 应用和项目的要求

  * 响应数据格式

  * 请求参数

<div id="similarities">
  #### 相似之处
</div>

**认证**

标准 v1.1 和 X API v2 的 mutes 查询端点都使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2)。因此，如果你之前使用的是标准 v1.1 的某个 mutes 查询端点，在迁移到 X API v2 版本时，可以继续使用相同的认证方式。 

<div id="differences">
  #### 差异
</div>

**Endpoint URL**

* 标准 v1.1 端点：
  * GET https://api.x.com/1.1/mutes/users/ids.json
    （指定用户已静音的用户 ID 列表）
  * GET https://api.x.com/1.1/mutes/users/lists.json
    （被指定用户静音的用户列表）
* X API v2 端点：
  * GET https://api.x.com/2/users/:id/muting
    （被指定用户 ID 静音的用户列表）
     

**每次请求的用户数量限制**

标准 v1.1 端点最多允许每次请求返回 5000 个用户。新的 v2 端点最多允许每次请求返回 1000 个用户。要返回完整的 1000 个用户，你需要在查询参数中传入 max&#95;results=1000；然后可以在下一次请求中，将响应载荷中返回的 next&#95;token 作为 pagination&#95;token 查询参数传入。
 

**应用和项目要求**

在使用 X API v2 端点对请求进行认证时，你必须使用与某个 [developer App](/zh/resources/fundamentals/developer-apps) 关联的 [Project](/zh/resources/fundamentals/developer-apps) 的凭证。所有 X API v1.1 端点都可以使用独立 App 或与项目关联的 App 的凭证。

**响应数据格式**

标准 v1.1 与 X API v2 版本的端点之间的一个主要差异，是你如何选择在载荷中返回哪些字段。

对于标准端点，你默认会收到许多响应字段，然后可以选择使用参数来指定应在载荷中返回哪些字段或字段集合。

X API v2 版本默认只返回用户的 id、name 和 username 字段。要请求任何额外的字段或对象，你需要使用 [fields](/zh/x-api/fundamentals/fields) 和 [expansions](/zh/x-api/fundamentals/expansions) 参数。你从此端点请求的任何用户字段，都会返回在主用户对象中。任何扩展的 Post 对象及其字段，会返回在响应中的 includes 对象内。然后，你可以通过匹配用户对象与扩展的 Post 对象中出现的 ID，将任意扩展对象关联回用户对象。 

我们建议你在各自的指南中进一步了解这些新参数，或阅读我们的[如何使用 fields 和 expansions](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) 指南。 

我们还整理了一份 [数据格式迁移指南](/zh/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2)，帮助你将标准 v1.1 字段映射到较新的 v2 字段。该指南还会为你提供在 v2 请求中需要传入的具体 expansion 和 field 参数，以返回特定字段。 
 

除了请求某些字段的方式发生变化之外，X API v2 还为 API 返回的对象引入了新的 JSON 设计，包括 [Post](/zh/x-api/fundamentals/data-dictionary#tweet) 和 [user](/zh/x-api/fundamentals/data-dictionary#user) 对象。

* 在 JSON 根级别，标准端点会在 statuses 数组中返回 Post 对象，而 X API v2 会返回 data 数组。 
* X API v2 的 JSON 不再引用转推和引用的“statuses”，而是引用转推和引用的帖子。许多旧版和已弃用字段（例如 contributors 和 user.translator&#95;type）将被移除。 
* X API v2 不再在 Post 对象中使用 favorites、在 user 对象中使用 favourites，而是统一使用 like 这个术语。 
* X 采用的约定是：没有值的 JSON 字段（例如值为 null）不会写入载荷。只有在具有非 null 值时，Post 和 user 的属性才会被包含。 
   

我们还在 [Post 对象](/zh/x-api/fundamentals/data-dictionary#tweet) 中引入了一组新字段，包括：

* 一个 [conversation&#95;id](/zh/x-api/fundamentals/conversation-id) 字段
* 两个新的 [annotations](/zh/x-api/fundamentals/post-annotations) 字段，包括 context 和 entities
* 若干新的 [metrics](/zh/x-api/fundamentals/metrics) 字段 
* 一个新的 reply&#95;setting 字段，用于指示哪些用户可以回复某条帖子

**请求参数**

以下标准 v1.1 请求参数在 X API v2 中具有对应项：

| **Standard** | **X API v2** |
| :--- | :--- |
| stringify&#95;ids | 无对应项 |
| cursor | pagination&#95;token |
| skip&#95;status | 无对应项 |

在 X API v2 中也**不**支持一组标准 v1.1 的 Mutes 查询请求参数：

| Standard | 说明 |
| :--- | :--- |
| include&#95;entities | 此参数用于从 Post 负载中移除 `entities` 节点。现在改为通过字段和扩展字段功能来实现该目的。 |