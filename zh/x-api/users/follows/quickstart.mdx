---
title: 快速入门
sidebarTitle: 快速入门
keywords: ["关注快速入门", "管理关注快速入门", "管理关注快速入门", "关注教程", "关注指南", "关注关系管理快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## 开始使用管理关注关系端点
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向管理关注关系端点发送你的第一个请求。

如果你希望查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。 

<Note>
  ### 前提条件

  要完成本指南，你需要准备一组用于对请求进行身份验证的 [密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access) 并获得批准。
  * 在开发者门户中创建一个 [项目](/zh/resources/fundamentals/projects) 以及一个关联的 [开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 前往你的 App 的 “Keys and tokens” 页面生成所需的凭证。请确保将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### 构建管理关注请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 步骤一：从工具或库入手
</div>

有多种不同的工具、代码示例和库可以用来向该端点发送请求，但在这里我们将使用 Postman 来简化这个过程。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，进入 “Follows” 文件夹，并选择 “Follow a user ID”。
 

<div id="step-two-authenticate-your-request">
  #### 步骤二：为请求进行身份验证
</div>

要正确向 X API 发起请求，你需要验证自己是否具有相应权限。对于这个端点，你必须使用 [OAuth 1.0a User Context](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 对请求进行身份验证。

在本示例中，我们将使用 OAuth 1.0a User Context。

你必须将你的密钥和令牌——具体来说是 API Key、API Secret Key、OAuth 1.0a 用户 Access Token，以及 OAuth 1.0a 用户 Access Token Secret——添加到 Postman 中。你可以在 Postman 右上角选择名为“X API v2”的环境（environment），并将你的密钥和令牌添加到 “initial value” 和 “current value” 字段中（通过点击环境下拉菜单旁边的眼睛图标来完成）。

如果你已正确完成上述操作，这些变量会自动被填充到该请求的 Authorization 选项卡中。
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### 步骤三：指定谁将关注谁
</div>

Manage follows 端点需要两个 ID：一个是源用户（希望关注或取消关注另一位用户的用户）的 ID，另一个是目标用户（将被关注或被取消关注的用户）的 ID。源用户的 ID 必须与正在进行身份验证的用户的用户 ID 相对应。在本例中，你可以指定你自己的用户 ID。你可以通过两种方式找到你的 ID：

1. 使用 [user lookup by username](/zh/x-api/users/user-lookup-by-id) 端点，你可以传入用户名并获得响应中的 id 字段。 
2. 查看你的访问令牌，其中的数字部分就是你的用户 ID。
    

目标 ID 可以是任意有效的用户 ID。例如，@XDevelopers 的用户 ID 是 2244994945。

在 Postman 中，转到 &quot;Params&quot; 选项卡，在 id 路径变量的 &quot;Value&quot; 列中输入你的 ID。然后转到 &quot;Body&quot; 选项卡，将 2244994945（@XDevelopers 的用户 ID）作为 target&#95;user&#95;id 参数的值输入。请务必确保在任何 ID 前后都不要包含空格。

|     |     |
| :--- | :--- |
| **键** | **值** |
| `id` | （你的用户 ID） |
| target&#95;user&#95;id | 2244994945 |

如果你点击 &quot;Send&quot; 按钮，你将会收到一个包含当前关系状态的响应对象：

* 如果你收到 `"following": true`，则表示该 id 已成功关注 target&#95;user&#95;id。
* 如果你收到 `"pending": true`，则表示 target&#95;user&#95;id 是受保护的帐号，必须接受你的关注请求。

####

步骤四：发送请求并查看响应

在完成所有设置后，点击「Send」按钮，然后你就会收到如下响应：

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

类似地，如果你想要取消关注某位用户，可以在同一个 Postman 集合中使用 &quot;Unfollow a user ID&quot; 请求。不过，`source_user_id` 和 `target_user_id` 这两个参数在使用取消关注端点时都应作为路径变量传递。
