---
title: 快速入门
sidebarTitle: 快速入门
keywords: ["关注快速入门", "关注功能快速入门", "管理关注快速入门", "关注教程", "关注指南", "关注关系快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## 开始使用管理关注关系端点
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向管理关注关系端点发送你的第一个请求。

如果你想查看使用不同语言编写的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。 

<Note>
  ### 前提条件

  要完成本指南，你需要准备一组用于对请求进行身份验证的 [密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access) 并通过审核。
  * 在开发者门户中创建一个 [项目](/zh/resources/fundamentals/projects) 以及关联的 [开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 进入你的应用的“Keys and tokens”页面生成所需凭证。请确保将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### 构建 Manage Follows 请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 步骤一：从工具或库入手
</div>

有多种不同的工具、代码示例和库可用于向该端点发起请求，但在这里我们将使用 Postman 来简化操作流程。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，导航到“Follows”文件夹，并选择“Follow a user ID”请求。
 

<div id="step-two-authenticate-your-request">
  #### 步骤二：为请求进行身份验证
</div>

要正确向 X API 发起请求，你需要验证自己是否拥有相应权限。对于这个 endpoint，你必须使用 [OAuth 1.0a User Context](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 来对请求进行身份验证。

在本示例中，我们将使用 OAuth 1.0a User Context。

你必须将你的密钥和令牌——具体来说是 API Key、API Secret Key、OAuth 1.0a 用户 Access Token，以及 OAuth 1.0a 用户 Access Token Secret——添加到 Postman 中。你可以在 Postman 右上角选择名为“X API v2”的 environment，并将你的密钥和令牌添加到 &quot;initial value&quot; 和 &quot;current value&quot; 字段中（点击 environment 下拉列表旁边的眼睛图标）。

如果你已经正确完成上述设置，这些变量会自动应用到该请求的 Authorization 选项卡中。
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### 第三步：指定谁将关注谁
</div>

Manage follows 端点需要两个 ID：一个是来源用户（希望关注或取消关注另一位用户的用户）的 ID，另一个是目标用户（将被关注或被取消关注的用户）的 ID。来源用户的 ID 必须与进行认证的用户的用户 ID 相对应。在本例中，你可以使用你自己账号的 ID。你可以通过两种方式找到你的 ID：

1. 使用 [user lookup by username](/zh/x-api/users/user-lookup-by-id) 端点，你可以传入一个用户名并获取返回对象中的 id 字段。 
2. 查看你的 Access Token，你会发现其中的数字部分就是你的用户 ID。
    

目标 ID 可以是任何有效的用户 ID。例如，@XDevelopers 的用户 ID 是 2244994945。

在 Postman 中，切换到 “Params” 选项卡，在路径变量 id 的 “Value” 列中输入你的 ID。然后切换到 “Body” 选项卡，将 2244994945（@XDevelopers 的用户 ID）作为 target&#95;user&#95;id 参数的值。请务必不要在任何 ID 前后包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | （你的用户 ID） |
| target&#95;user&#95;id | 2244994945 |

如果你点击 “Send” 按钮，你会收到一个响应对象，其中包含该关系的状态：

* 如果你收到 `"following": true`，则表示该 id 已成功关注 target&#95;user&#95;id。
* 如果你收到 `"pending": true`，则表示 target&#95;user&#95;id 是受保护的账号，必须接受你的关注请求。

####

步骤四：发送请求并查看响应

在完成所有设置后，点击 “Send” 按钮，即可收到如下响应：

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

类似地，如果你想要取消关注某个用户，可以在同一个 Postman 集合中使用 &quot;Unfollow a user ID&quot; 请求。不过，`source_user_id` 和 `target_user_id` 这两个参数都应作为路径参数，通过 unfollow 端点传递。
