---
title: SDK
keywords: ["SDK", "软件开发工具包", "客户端 SDK", "API SDK", "开发者 SDK", "SDK 库", "官方 SDK"]
---

<div id="introduction">
  ## 简介
</div>

软件开发工具包（SDK）是一组针对特定平台或 API 定制的软件工具和程序。SDK 的目的是通过提供开发者可以在其应用中使用的库或代码库，以高效且尽量少的编码来构建或扩展应用的功能。这可以显著加快开发过程，节省时间、金钱和精力。

> X 开发者平台目前为使用 TypeScript/JavaScript 和 Java 开发的用户提供了 2 个官方 SDK。借助这些 SDK，开发者可以更高效地构建应用，无需手动编写围绕 X API v2 的复杂逻辑，而是利用为所有可用 v2 端点预先构建的函数，并简化身份验证流程。由于这些 SDK 由开发者平台团队构建和维护，因此它们将始终与未来发布的 X API v2 版本保持同步更新。

由于这些 SDK 对 X API 进行了封装，你必须拥有一个 [开发者账号](https://developer.x.com/en/portal/dashboard)，并使用位于某个 [项目](/zh/resources/fundamentals/projects) 中的 [开发者应用](/zh/resources/fundamentals/developer-apps) 所提供的凭证来对请求进行认证。

<div id="installing">
  #### 安装
</div>

<Tabs>
  <Tab title="Java">
    可以通过以下几种方式安装 Java 包（需要 Java 1.8 及以上版本）：

    * Maven 用户：在项目的 POM 文件中添加以下依赖：

    ```xml
    <dependency>
      <groupId>com.twitter</groupId>
      <artifactId>twitter-api-java-sdk</artifactId>
      <version>1.1.4</version>
    </dependency>
    ```

    * Gradle 用户：在项目的构建文件中添加以下依赖：
      `implementation "com.twitter:twitter-api-java-sdk:1.1.4"`

    * 其他用户：首先通过运行以下命令生成 JAR：
      `mvn clean package`
      然后手动安装以下 JAR 文件：

    `target/twitter-api-java-sdk-1.1.4.jar`

    `target/lib/*.jar`
  </Tab>

  <Tab title="TypeScript">
    此包支持 Node.js 14+。要安装它，请在 Node 项目的目录中运行以下命令：
    `npm install twitter-api-sdk`
  </Tab>
</Tabs>

<div id="client-basics">
  #### Client 基础
</div>

在正在编写的文件顶部导入类（Java）和包（TypeScript），以便使用身份验证和库客户端。要使用库客户端中的方法，必须传入身份验证凭证，这可以是 Bearer Token（App-only）或在使用 OAuth 2.0 用户上下文进行身份验证时使用 client id/client secret。

以下是代码示例：

<Tabs>
  <Tab title="Java">
    ```java
    // 导入类：
    import com.twitter.clientlib.ApiClient;
    import com.twitter.clientlib.ApiException;
    import com.twitter.clientlib.Configuration;
    import com.twitter.clientlib.auth.*;
    import com.twitter.clientlib.model.*;
    import com.twitter.clientlib.TwitterCredentialsBearer;
    import com.twitter.clientlib.api.TwitterApi;

    // 实例化库客户端
    TwitterApi apiInstance = new TwitterApi();

    // 实例化身份验证凭证（仅应用示例）
    TwitterCredentialsBearer credentials = new TwitterCredentialsBearer(System.getenv("APP-ONLY-ACCESS-TOKEN"));

    // 将凭证传递给库客户端
    apiInstance.setTwitterCredentials(credentials);
    ```
  </Tab>

  <Tab title="TypeScript">
    ```typescript
    // 导入包
    import { Client, auth } from "twitter-api-sdk";

    // 先初始化身份验证客户端
    const authClient = new auth.OAuth2User({
     client_id: process.env.CLIENT_ID as string,
     client_secret: process.env.CLIENT_SECRET as string,
     callback: "YOUR-CALLBACK",
     scopes: ["tweet.read", "users.read", "offline.access"],
    });

    // 将身份验证凭证传递给库客户端
    const twitterClient = new Client(authClient);
    ```
  </Tab>
</Tabs>

<div id="authentication-flow">
  #### 身份验证流程
</div>

如果你使用仅应用身份验证选项为 SDK 进行身份验证，你只需要提供令牌，库的 Client 实例就可以立即开始使用这些端点方法。请注意，仅应用身份验证令牌不能用于需要用户上下文身份验证的端点。

使用 OAuth 2.0 用户上下文进行身份验证，在创建 auth client 之后还需要执行一些额外步骤。

* 生成授权 URL
* 通过该授权 URL 授权应用
* 重定向到回调（该回调应与在开发者门户的认证设置页面中配置的回调 URL 保持一致）
* 解析 code verifier，并用其换取访问令牌

这些 SDK 在 auth client 上提供了方法，可简化上述步骤。要查看一个使用 OAuth 2.0 用户上下文进行身份验证并发起请求的完整示例，请参阅 GitHub 代码库。

* [TypeScript](https://github.com/xdevplatform/twitter-api-typescript-sdk/blob/main/examples/oauth2-callback_pkce_s256.ts)

* [Java](https://github.com/xdevplatform/twitter-api-java-sdk/blob/main/examples/src/main/java/com/twitter/clientlib/auth/OAuth20GetAccessToken.java)

<div id="endpoint-methods">
  #### 端点方法
</div>

该库的 client 中提供的方法都采用清晰的命名，与每个端点一一对应，所有参数都通过方法参数传入。
下面是一个根据 ID 查询帖子的示例：

<Tabs>
  <Tab title="Java">
    ```java
    String id = "1511757922354663425"; // String | 单个帖子 ID。
    Set<String> expansions = new HashSet<>(Arrays.asList("author_id")); // Set<String> | 以逗号分隔的要扩展的字段列表。
    Set<String> tweetFields = new HashSet<>(Arrays.asList("created_at", "lang", "context_annotations")); // Set<String> | 以逗号分隔的要展示的帖子字段列表。
    Set<String> userFields = new HashSet<>(Arrays.asList("created_at", "description", "name")); // Set<String> | 以逗号分隔的要展示的用户字段列表。

    try {
     SingleTweetLookupResponse result = apiInstance.tweets().findTweetById(id, expansions, tweetFields, userFields, null, null, null);
     System.out.println(result);
    } catch (ApiException e) {
     System.err.println("Exception when calling TweetsApi#findTweetById");
     System.err.println("Status code: " + e.getCode());
     System.err.println("Reason: " + e.getResponseBody());
     System.err.println("Response headers: " + e.getResponseHeaders());
     e.printStackTrace();
    }

    ```
  </Tab>

  <Tab title="TypeScript">
    ```typescript
    const lookupTweetById = await client.tweets.findTweetById(
      // 帖子 ID
      "1511757922354663425",
      {
        // 可选参数
        expansions: ["author_id"],
        "user.fields": ["created_at", "description", "name"],
      }
    );
    ```
  </Tab>
</Tabs>