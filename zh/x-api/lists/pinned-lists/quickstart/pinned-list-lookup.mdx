---
title: 置顶列表查询
sidebarTitle: 置顶列表查询
keywords: ["置顶列表查询快速入门", "置顶列表查询", "置顶列表快速入门", "列表查询快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<Note>
  **请注意：** 本指南假设您已经完成了[快速入门概览](/zh/x-api/lists/pinned-lists#getting-started-with-the-pinned-list-endpoint-group)中列出的所有先决条件。
</Note>

<div id="steps-to-build-a-pinned-list-lookup-request">
  ### 构建置顶 List 查询请求的步骤
</div>

**第一步：在 Postman 中选择 List 端点集合**

在你已将 X API v2 集合加载到 Postman 之后，导航到 “List” 文件夹，选择子文件夹 “Pinned Lists”，然后选择 &quot;User&#39;s pinned Lists&quot;。
 

**第二步：标识并指定用户**

为了获取某个用户的置顶 List，你必须在请求中指定该用户的 user ID。这个 user ID 必须与当前进行身份验证的用户 ID 相对应，这意味着你在对请求进行身份验证时，必须传递与该 user ID 关联的访问令牌。在这个示例中，你可以指定你自己的用户 ID。你可以通过两种方式找到你的 ID：

1. 使用按用户名查询用户的 [users lookup](/zh/x-api/users/lookup/introduction) 端点，你可以传入一个用户名并获取 `id` 字段。
2. 查看你的访问令牌，你会发现其中的数字部分就是你的 user ID。

在 Postman 中，导航到 &quot;Params&quot; 选项卡，并在 `id` 参数的 &quot;Value&quot; 列中输入这个 user ID。

|         |                      |
| :------ | :------------------- |
| **Key** | **Value**            |
| `id`    | 2244994945 (user ID) |

**第三步：确定并指定你希望获取的字段**

如果你在完成第三步后点击 &quot;Send&quot; 按钮，你将在响应中收到默认的 [List 对象](/zh/x-api/fundamentals/data-dictionary#list) 字段：`id` 和 `name`。

如果你希望在 `id` 和 `name` 之外获取更多字段，你需要在请求中通过 [`field`](/zh/x-api/fundamentals/fields) 和/或 [`expansion`](/zh/x-api/fundamentals/expansions) 参数来指定这些字段。

在本练习中，我们将从不同对象中请求三组额外字段：

* 主 List 对象中的额外字段 `follower_count`。
* 使用 expansion 参数获取完整的 [user 对象](/zh/x-api/fundamentals/data-dictionary#user)。
* 关联 user 对象中的额外字段 `tweet.created_at`。

在 Postman 中，导航到 &quot;Params&quot; 选项卡，并在 &quot;Query Params&quot; 表格中添加以下 key:value 键值对：

|             |                    |                                                                               |
| :---------- | :----------------- | :---------------------------------------------------------------------------- |
| Key         | Value              | Returned fields                                                               |
| list.fields | follower&#95;count | `follower_count`                                                              |
| expansions  | owner&#95;id       | `includes.users.id,  <br/>includes.users.name,  <br/>includes.users.username` |
| user.fields | created&#95;at     | `includes.users.created_at`                                                   |

你现在应该会在 “Send” 按钮旁边看到类似如下的 URL：

`https://api.x.com/2/users/2244994945/pinned_lists?expansions=owner_id&list.fields=follower_count&user.fields=created_at`

**第四步：发起请求并查看响应**

在完成所有设置之后，点击 &quot;Send&quot; 按钮，你将收到一个与以下示例响应类似的返回结果：

```
{
  "data": [
    {
      "follower_count": 0,
      "id": "1454155907651158017",
      "name": "test list",
      "owner_id": "2244994945"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "id": "2244994945",
        "created_at": "2013-12-14T04:35:55.000Z",
        "name": "Twitter Dev"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```
