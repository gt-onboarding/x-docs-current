---
title: 集成指南
sidebarTitle: 集成指南
keywords: ["列表帖子集成", "列表时间线集成", "列表帖子指南", "列表时间线设置"]
---

import { Button } from '/snippets/zh/button.mdx';

本页介绍了在你将 List Posts 查询端点集成到系统中时需要了解的一些工具和关键概念。我们将本页内容分为以下几个部分：

* [实用工具](#helpful)
* 关键概念
* [认证](#authentication)
* [开发者门户、项目和应用](#portal)
* [速率限制](#limits)
* [字段和扩展字段](#fields)
* [分页](#pagination)

<div id="helpful-tools">
  ### 实用工具
</div>

在介绍有助于你集成此端点的一些关键概念之前，我们建议你先熟悉以下工具：

<div id="postman">
  #### Postman
</div>

Postman 是一款非常实用的工具，你可以用它来测试端点。每个 Postman 请求都包含该端点的所有路径参数和请求体参数，帮助你快速了解可用的内容。要进一步了解我们的 Postman 集合，请访问我们的 [&quot;使用 Postman&quot;](/zh/tutorials/postman-getting-started) 页面。 

<div id="code-samples">
  #### 代码示例
</div>

想用自己熟悉的编程语言写点代码来开始使用这个 endpoint 吗？我们在 [GitHub 页面](https://github.com/xdevplatform/Twitter-API-v2-sample-code) 上提供了多种代码示例，你可以将它们作为起点使用。

<div id="third-party-libraries">
  #### 第三方库
</div>

利用我们社区维护的[第三方库](/zh/x-api/tools-and-libraries/overview)来帮助你入门。你可以通过查看合适的版本标签，找到适用于 v2 端点的库。

<div id="key-concepts">
  ### 关键概念
</div>

<div id="authentication">
  #### 认证
</div>

所有 X API v2 端点都要求你使用一组凭证（也称为密钥和令牌）对请求进行认证。你可以使用 OAuth 1.0a 用户上下文、仅 App，或 OAuth 2.0 Authorization Code with PKCE 来对发往此端点的请求进行认证。 

[OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2)，这意味着你必须使用一组 API 密钥和用户访问令牌才能成功发起请求。访问令牌必须与你代表其发起请求的用户关联。如果你想为其他用户生成一组访问令牌，他们必须通过 [三方 OAuth 流程](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)授权你的 App。

请注意，OAuth 1.0a 相对较难使用。如果你对这种认证方法不熟悉，我们建议你使用一个[库](/zh/x-api/tools-and-libraries/overview)、使用 Postman 之类的工具，或使用 OAuth 2.0 或仅 App 来对你的请求进行认证。

[OAuth 2.0 Authorization Code with PKCE](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 可以对应用的权限范围（scope）以及跨多设备的授权流程进行更精细的控制。OAuth 2.0 允许你选择特定的细粒度权限范围（scope），以代表用户获得特定权限。 

要在你的 App 中启用 OAuth 2.0，你必须在开发者门户中 App 设置部分的认证设置中将其启用。

[仅 App](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) 只要求你在请求中携带一个[仅 App 访问令牌](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token)。你可以直接在开发者应用中生成一个仅 App 访问令牌，或者使用 [POST oauth2/token](/zh/resources/fundamentals/authentication#post-oauth2-token) 端点生成。

<div id="developer-portal-projects-and-developer-apps">
  #### 开发者门户、项目和开发者应用
</div>

要获取一组可用于 X API v2 端点的身份验证凭证，你必须先[注册开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)，在该账号下设置一个[项目](/zh/resources/fundamentals/projects)，并在该项目中创建一个[开发者应用](/zh/resources/fundamentals/developer-apps)。之后你可以在该开发者应用中找到你的密钥和令牌。
 

<div id="rate-limits">
  #### 速率限制
</div>

每天都有成千上万的开发者向 X API 发起请求。为了帮助管理如此大规模的请求量，[速率限制](https://developer.x.com/x-api/fundamentals/rate-limits) 会被应用到每个端点上，用来限制你代表你的应用或已认证用户可以发起的请求次数。 

此端点在应用级别和用户级别都会被设置速率限制。应用速率限制意味着你作为开发者，在给定的一段时间内，从任意一个应用（通过使用 API Key 和 API Secret Key，或 Bearer Token 来识别）访问这个端点时，只能发起一定数量的请求。用户速率限制意味着，你代表其发起请求的已认证用户，在所有开发者应用中，只能进行一定次数的列表帖子检索。

下表展示了每个端点的速率限制。

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **HTTP method** | **Rate limit** |
| /2/lists/:id/tweets | GET | 每 15 分钟 900 次请求 |

字段和扩展字段

X API v2 的 GET 端点允许用户使用一组称为 `fields` 和 `expansions` 的工具，精确选择他们希望从 API 返回的数据。`expansions` 参数允许你展开在载荷中被引用的对象。例如，在查询列表帖子时，你可以获取以下[扩展字段](/zh/x-api/fundamentals/expansions)：

* `author_id`

`fields` 参数允许你精确选择希望在不同数据对象中接收哪些[字段](/zh/x-api/fundamentals/fields)。此端点主要返回 Post 对象。默认情况下，Post 对象会返回 `id` 和 `text` 字段。若要接收诸如 `tweet.created_at` 或 `tweet.lang` 等其他字段，你必须通过 fields 参数显式请求这些字段。 

我们在 [X API v2 数据字典](/zh/x-api/fundamentals/data-dictionary) 中新增了一份关于如何同时使用 [fields 和 expansions](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) 的指南。

下表展示了该查询端点可用的字段和扩展字段：

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Fields** | **Expansions** |
| /2/lists/:id/tweets | `tweet.fields`<br /><br />`user.fields` | `author_id` |

分页

查询列表帖子时可能会返回大量数据。为了确保我们在任意时刻都能返回一致且高效的结果，我们会使用分页。分页是 X API v2 中的一项功能，用于处理那些返回结果数量多于单个响应所能包含的端点。当出现这种情况时，数据会以一系列“页面”的形式返回。了解更多关于如何[对结果进行分页](/zh/x-api/fundamentals/pagination)的内容。