---
title: 集成指南
sidebarTitle: 集成指南
keywords: ["列表成员集成", "列表成员指南", "列表成员设置", "列表成员资格集成", "列表成员集成指南"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="integration-guide">
  ## 集成指南
</div>

本页介绍了在将 List 成员端点集成到你的系统时应了解的多种工具和关键概念。我们将本页内容划分为以下几个部分：

* [实用工具](#helpful)
* 关键概念
* [认证](#authentication)
* [开发者门户、项目和应用](#portal)
* [速率限制](#limits)
* [字段和扩展字段](#fields)
* [分页](#pagination)

<div id="helpful-tools">
  ### 实用工具
</div>

在介绍一些有助于你集成该端点的关键概念之前，我们建议你先熟悉以下内容：

<div id="postman">
  #### Postman
</div>

Postman 是一款非常适合用来测试端点的工具。每个 Postman 请求都包含所有路径参数和请求体参数，帮助你快速了解有哪些可用内容。要进一步了解我们的 Postman 集合，请访问我们的[「使用 Postman」](/zh/tutorials/postman-getting-started)页面。 

<div id="code-samples">
  #### 代码示例
</div>

想要用你常用的编程语言，通过一些代码来配置和使用这个端点吗？我们在 [GitHub 页面](https://github.com/xdevplatform/Twitter-API-v2-sample-code) 提供了一系列代码示例，你可以将它们作为起点使用。

<div id="third-party-libraries">
  #### 第三方库
</div>

利用我们社区提供的[第三方库](/zh/x-api/tools-and-libraries/overview)，帮助你快速入门。你可以通过查看相应的版本标签，找到支持 v2 端点的库。

<div id="key-concepts">
  ### 关键概念
</div>

<div id="authentication">
  #### 身份验证
</div>

所有 X API v2 端点都要求你使用一组凭证（也称为密钥和令牌）为请求进行身份验证。对于 Lists 的 **lookup** 端点，你可以使用 OAuth 1.0a 用户上下文、OAuth 2.0 Authorization Code with PKCE，或 App only 来为请求进行身份验证。但是，对于 **manage** Lists 端点，你必须使用 OAuth 1.0a 用户上下文或 OAuth 2.0 进行身份验证。 

[OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication) 表示你必须使用一组 API 密钥和用户访问令牌来成功发起请求。访问令牌必须与你代表其发起请求的用户关联。如果你想为其他用户生成一组访问令牌，他们必须使用[三方 OAuth 流程](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)授权你的 App。

请注意，OAuth 1.0a 可能比较难用。如果你不熟悉这种身份验证方法，我们建议你使用一个[库](/zh/x-api/tools-and-libraries/overview)、使用 Postman 等工具，或使用 OAuth 2.0 或 App only 来为请求进行身份验证。

[OAuth 2.0 Authorization Code with PKCE](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 允许你对应用的权限范围以及跨多设备的授权流程进行更精细的控制。OAuth 2.0 允许你选择特定的细粒度权限范围，为你代表的用户授予特定权限。 

要在你的 App 中启用 OAuth 2.0，你必须在开发者门户中 App 设置部分找到该 App 的身份验证设置，并在其中将其开启。

[App only](/zh/resources/fundamentals/authentication#oauth-2-0) 只要求你在请求中附带一个[App only 访问令牌](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)。你可以直接在某个开发者应用中生成一个 App only 访问令牌，或使用 [POST oauth2/token](/zh/resources/fundamentals/authentication#post-oauth2-token) 端点生成一个。

[App only](/zh/resources/fundamentals/authentication#oauth-2-0) 只要求你在请求中附带一个[App only 访问令牌](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)。你可以直接在某个开发者应用中生成一个 App only 访问令牌，或使用 [POST oauth2/token](/zh/resources/fundamentals/authentication#post-oauth2-token) 端点生成一个。

<div id="developer-portal-projects-and-developer-apps">
  #### 开发者门户、项目和开发者应用
</div>

要获取可用于 X API v2 端点的一套身份验证凭据，你必须先[注册开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)，在该账号下设置一个[项目](/zh/resources/fundamentals/projects)，然后在该项目中创建一个[开发者应用](/zh/resources/fundamentals/developer-apps)。之后，你可以在自己的开发者应用中找到密钥和令牌。
 

<div id="rate-limits">
  #### 速率限制
</div>

每天都有成千上万的开发者向 X API 发起请求。为了帮助管理如此庞大的请求量，我们对每个端点都设置了[速率限制](/zh/x-api/fundamentals/rate-limits)，以限制你代表你的应用或代表已通过身份验证的用户所能发起的请求次数。 

查询（GET）端点在应用级和用户级都会受到速率限制；而管理类（POST/DELETE）端点则在用户级受到限制。应用级速率限制意味着，你作为开发者，在给定的时间段内，从任意一个应用（使用 API Key 和 API Secret Key，或仅使用应用级 Access Token）向该端点发起的请求次数是有限的。用户级速率限制意味着，你代表其发起请求的已通过身份验证的用户，在所有开发者应用中，只能在一定时间内执行有限次数的列表查询。

下表显示了每个端点的速率限制。

|     |     |     |
| :--- | :--- | :--- |
| **端点（Endpoint）** | **HTTP 方法（HTTP method）** | **速率限制（Rate limit）** |
| /2/lists/:id/members | GET | 每 15 分钟 900 次请求 |
| /2/users/:id/list&#95;memberships | GET | 每 15 分钟 75 次请求 |
| /2/lists/:id/members | POST | 每 15 分钟 300 次请求 |
| /2/lists/:id/members/:user&#95;id | DELETE | 每 15 分钟 300 次请求 |

<div id="fields-and-expansions">
  #### 字段和扩展字段
</div>

X API v2 的 GET 端点允许用户使用一组称为 `fields` 和 `expansions` 的工具，精确选择希望从 API 返回的哪些数据。`expansions` 参数允许你展开在有效负载中被引用的对象。例如，查询 List 成员时，你可以获取以下[扩展字段](/zh/x-api/fundamentals/expansions)：

* `pinned_tweet_id`

`fields` 参数允许你在不同的数据对象中精确选取希望接收的[字段](/zh/x-api/fundamentals/fields)。List 成员查询主要返回用户对象。默认情况下，用户对象只返回 id、name 和 username 字段。若要接收诸如 `user.created_at` 或 `user.description` 等额外字段，则必须通过 `user.fields` 参数显式请求这些字段。 

我们提供了一篇关于如何使用[字段和扩展字段](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)的指南。

下表展示了每个查询端点可用的字段和扩展字段：

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Fields** | **Expansions** |
| /2/lists/:id/members | `user.fields`<br /><br />`tweet.fields` | `pinned_tweet_id` |
| /2/users/:id/list&#95;memberships | `list.fields`<br /><br />`user.fields` | `owner_id` |

<div id="pagination">
  #### 分页
</div>

查询 membership/members 时可能会返回大量数据。为了确保我们在任何时间都能返回一致且高效的结果，我们会使用分页。分页是 X API v2 端点中的一项功能，当返回的结果数量超过单个响应所能包含的范围时就会使用它。此时，这些数据会以一系列“页面”的形式返回。详细了解如何[对结果进行分页。](/zh/x-api/fundamentals/pagination)