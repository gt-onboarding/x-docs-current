---
title: 快速入门
sidebarTitle: 快速入门
keywords: ["列表查找快速入门", "GET 列表快速入门", "列表查找教程", "列表信息快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-list-lookup-endpoint">
  ## 开始使用 List 查询端点
</div>

本快速入门指南将帮助你使用 Postman 向 List 查询端点发出第一个请求。

如果你想查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 代码仓库。

**注意：**在此示例中，我们将向 *List lookup by ID* 端点发出请求，但你也可以将本快速入门中学到的内容应用于其他查询请求。

<Note>
  ### 前提条件

  要完成本指南，你需要一组用于对请求进行身份验证的 [密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access)并通过审批。
  * 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)以及一个关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 进入你的应用的 “Keys and tokens” 页面以生成所需的凭证。请确保将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-list-lookup-request">
  ### 构建列表查询请求的步骤
</div>

**第一步：先选择一个工具或库**

有多种不同的工具、代码示例和库可用于向此端点发起请求，但为了简化流程，我们将在这里使用 Postman 工具。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，导航到 “List” 文件夹，选择其中的 “List lookup” 文件夹，然后选择 &quot;List by ID&quot;。
 

**第二步：对你的请求进行认证**

要正确地向 X API 发起请求，你需要验证自己是否具有权限。要在此端点上实现这一点，你必须使用 [App only](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token)、[OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 或 [OAuth 1.0a User Context](/zh/resources/fundamentals/authentication) 认证方式之一来对你的请求进行认证。

为简单起见，我们将在此请求中使用仅应用（App only）认证方式，但如果你想请求私有[指标](/zh/x-api/fundamentals/metrics)或列表，则需要使用上述其他认证方式之一。 

要使用仅应用认证方式，你必须将你的密钥和令牌（特别是 [App only Access Token](/zh/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)）添加到 Postman 中：选择名为 “X API v2” 的环境（位于 Postman 右上角），然后将你的密钥和令牌添加到 &quot;initial value&quot; 和 &quot;current value&quot; 字段中（点击环境下拉菜单旁边的眼睛图标进行填写）。

如果你已正确完成上述操作，这些变量将会自动被填充到请求的 “Authorization” 选项卡中。
 

**第三步：确定并指定你想要检索的列表**

你必须在请求中指定你希望接收的列表。你可以通过访问 x.com，点击某个列表，然后查看浏览器地址栏中的 URL 来找到该列表的 ID。例如，下面这个 URL 的列表 ID 为 84839422。

https://x.com/i/lists/84839422

目标 ID 可以是任意有效的列表 ID。在 Postman 中，导航到 &quot;Params&quot; 选项卡，把你的 ID 输入到 id 路径变量的 &quot;Value&quot; 列中。务必确保在任何 ID 前后都不要包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | 84839422（列表 ID） |

**第四步：确定并指定你想要检索的字段**

如果你在第三步之后点击 &quot;Send&quot; 按钮，你将在响应中收到默认的 [List object](/zh/x-api/fundamentals/data-dictionary#list) 字段：id、name。

如果你希望接收更多字段，你需要在请求中通过 list.fields 和/或 [expansions](/zh/x-api/fundamentals/expansions) 参数来指定这些字段。

在本练习中，我们将从不同对象中请求三组附加字段：

* 主列表对象中的额外 created&#95;at 字段。

* 使用 expansions 参数获取完整的 [user object](/zh/x-api/fundamentals/data-dictionary#user)

* 关联用户对象中的额外 user.created&#95;at 字段。

在 Postman 中，导航到 &quot;Params&quot; 选项卡，并在 &quot;Query Params&quot; 表中添加以下 key:value 对：

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| list.fields | created&#95;at | created&#95;at |
| expansions | owner&#95;id | includes.users.id,  <br />includes.users.name,  <br />includes.users.username |
| user.fields | created&#95;at | includes.users.created&#95;at |

此时你应该会在 “Send” 按钮旁边看到类似如下的 URL：

`https://api.x.com/2/lists/84839422?list.fields=owner_id&expansions=owner_id&user.fields=created_at`

**第五步：发起请求并查看响应**

当你完成所有设置后，点击 &quot;Send&quot; 按钮，你将会收到类似于下面示例响应的结果。

```
{
  "data": {
    "id": "84839422",
    "name": "Official Twitter Accounts",
    "owner_id": "783214"
  },
  "includes": {
    "users": [
      {
        "name": "Twitter",
        "created_at": "2007-02-20T14:35:54.000Z",
        "username": "Twitter",
        "id": "783214"
      }
    ]
  }
}
```
