---
title: 简介
sidebarTitle: 简介
keywords: ["私信", "DMs", "管理私信", "私信管理", "私信 API", "DM API", "消息"]
---

import { Button } from '/snippets/zh/button.mdx';

私信（Direct Messages）支持在 X 上进行私密对话。私信是 X 上最受欢迎的功能之一，具有广泛的使用场景，从好友之间的群聊，到为全球品牌提供客户支持。新的 v2 版本私信端点将分阶段推出，本阶段首先提供用于创建私信和列出私信会话事件的基础端点。X API v2 首次支持 *群组* 会话。

Manage Direct Messages 的初始版本包含三个用于创建私信的 POST 方法：

* **POST /2/dm&#95;conversations/with/:participant&#95;id/messages** - 创建一条一对一私信。该方法要么创建一个新的 1-1 会话，要么获取当前会话并将这条私信添加到会话中。:participant&#95;id 路径参数是接收消息账号的用户 ID。
* **POST /2/dm&#95;conversations** - 创建一个新的群组会话并向其中添加一条私信。这些请求需要提供会话参与者列表。请注意，你可以使用相同的参与者列表创建多个会话。这些请求始终会返回一个新的会话 ID。
* **POST /2/dm&#95;conversations/:dm&#95;conversation&#95;id/messages** - 创建一条私信并将其添加到现有会话中。:dm&#95;conversation&#95;id 路径参数是要将消息添加到的会话 ID。

请注意，私信事件 ID 在 v1.1 和 v2（以及 X 应用）之间是通用的，因此可以将 v1.1 中用于隐藏/删除私信的方法与这个新的 v2 端点配合使用。同时请注意，Enterprise 和 Premium Account Activity API 支持 v2 的一对一消息，但尚不支持群组会话。

POST 方法对单个用户的速率限制为每 15 分钟 200 个请求。同时，对单个用户还有每 24 小时 1000 个请求的速率限制。此外，还有每 24 小时 15000 个请求的速率限制。请注意，这些速率限制在这些 POST 端点之间是共享的。

由于你是在代表用户调用 manage Posts 端点，你必须使用 [OAuth 1.0a User Context](https://developer-staging.x.com/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 进行认证，并使用与已授权你的应用的用户关联的用户访问令牌（user Access Token）。要使用 OAuth 1.0a 生成此用户访问令牌，你可以使用 [3-legged OAuth flow](/zh/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)。要使用 OAuth 2.0 生成用户访问令牌，你可以使用 [Authorization Code with PKCE grant flow](/zh/resources/fundamentals/authentication#how-to-connect-to-endpoints-using-oauth-2-0-authorization-code-flow-with-pkce)。

<Note>
  **账号设置**

  要访问这些端点，你需要：

  * 一个已获批准的[开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)。
  * 使用位于某个[项目](/zh/resources/fundamentals/projects)中的[开发者应用](/zh/resources/fundamentals/developer-apps)的密钥和令牌进行认证。

  在我们的[入门指南](/zh/x-api/getting-started/getting-access)中了解更多关于如何获取 X API v2 端点访问权限的信息。
</Note>

<div className="flex space-x-2">
  <Button href="/zh/x-api/direct-messages/manage/quickstart">
    快速开始
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    示例代码
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    在 Postman 中运行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets&method=post">
    使用 API Explorer 试用
  </Button>
</div>
