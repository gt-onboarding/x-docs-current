---
title: "Filtered Stream Webhooks API（过滤流 Webhook API）"
sidebarTitle: 简介
keywords: ["filtered stream webhooks", "stream webhooks", "webhook stream", "filtered stream webhook", "streaming webhooks", "webhook delivery"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="overview">
  ## 概览
</div>

filtered stream 端点组使开发者能够筛选公共帖子的流。该端点组的功能包括多个端点，它们允许你创建和管理规则，并将这些规则应用于帖子流，以返回匹配的公共帖子。通过该端点组，用户可以监听特定话题和事件、监控围绕竞赛的讨论、了解趋势如何发展等。

开发者可以使用 REST [rules 端点](/zh/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) 添加和移除规则，从而筛选出符合定义条件的帖子。这些[规则](/zh/x-api/posts/filtered-stream#building-rules-for-filtered-stream)可以通过运算符来创建，用于匹配帖子属性，例如消息关键词、话题标签和 URL。运算符和规则子句可以通过布尔逻辑与括号进行组合，以帮助细化过滤器的匹配行为。 

添加好一组规则后，你可以注册你的 webhook，X 将开始以 JSON 格式投递 [Post objects](/zh/x-api/fundamentals/data-dictionary#tweet)。你只会在 webhook 中接收到与你的规则匹配的内容。

此端点支持已编辑的帖子。你的 webhook 将会接收匹配一个或多个过滤条件的已编辑帖子，以及其编辑历史记录，其中包含一个帖子 ID 数组。对于没有编辑历史的帖子，此数组只包含一个 ID。对于已被编辑的帖子，此数组包含多个 ID，并按升序排列，反映编辑顺序，数组最后一个元素为最新版本。要了解帖子编辑的工作方式，请参阅 [Posts edits fundamentals](/zh/x-api/fundamentals/edit-posts) 页面。 

**注意：** 此端点组在规则设置方式方面与 [v2 filtered stream endpoint](/zh/x-api/posts/filtered-stream/introduction) 类似。唯一的区别是向你投递匹配规则的帖子的机制不同。

* 对于 v2 filtered stream 端点，你需要建立持久连接，并监听与你的规则匹配的帖子。
* 对于本 filtered stream webhook 端点，你只需注册 webhook，X 会将与你的规则匹配的帖子投递到你的 webhook。

这样就无需再处理由于客户端中断或我们服务正常重启导致的服务端断开连接。由于我们很可能会以每秒数百个事件的速率进行投递，你的 webhook 服务器必须能够处理这些并发连接尝试。

该端点目前向 Enterprise 开发者开放，并支持以下配置：

* 每个项目 25,000+ 条规则
* 在构建规则时可以使用所有运算符
* 规则长度最多可达 2048 个字符
* 申请 Enterprise 访问权限请[点击这里](https://developer.x.com/en/products/x-api/enterprise/enterprise-api-interest-form)

从 filtered stream 返回的帖子将计入每月的 [Post cap](/zh/x-api/fundamentals/post-cap)。

<Note>
  **账号设置**

  要访问这些端点，你需要：

  * 一个已获批准的[开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)。
  * 使用位于某个[项目](/zh/resources/fundamentals/projects)中的[开发者应用](/zh/resources/fundamentals/developer-apps)的密钥和令牌进行认证。 

  在我们的[入门指南](/zh/x-api/getting-started/getting-access)中了解如何获取 X API v2 端点的访问权限。
</Note>

<div className="flex">
  <Button href="/zh/x-api/posts/filtered-stream/quickstart">
    快速入门
  </Button>
</div>