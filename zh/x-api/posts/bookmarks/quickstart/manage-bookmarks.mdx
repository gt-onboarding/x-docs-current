---
title: 管理书签
sidebarTitle: 管理书签
keywords: ["管理书签快速入门", "书签快速入门", "书签教程", "书签指南", "书签快速入门"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-bookmarks-endpoints">
  ## 开始使用管理书签端点
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向用于管理书签的端点发出你的第一个请求。

如果你想查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 代码库。

<Note>
  **前提条件**

  要完成本指南，你需要一组用于对请求进行身份验证的[密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access)并通过审批。
  * 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)以及一个关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 进入你的应用的“Keys and tokens”页面以生成所需的凭证。请务必将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-manage-bookmarks-request">
  ### 构建管理 Bookmarks 请求的步骤
</div>

**第一步：选择一个工具或库**

有多种不同的工具、代码示例和库可以用来向此端点发起请求，但在这里我们将使用 Postman 工具来简化流程。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击下面的按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 之后，导航到 “Bookmarks” 文件夹，然后选择 “Create a Bookmark”。

**第二步：为请求配置身份验证**

要向此端点成功发起请求，你需要使用 [OAuth 2.0 Authorization Code Flow with PKCE](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3)。你可以在 Postman 中生成一个访问令牌。

进入名为 “Authorization” 的标签页，并选择 “OAuth 2.0”。

在该标签页中，请务必按照以下步骤操作：

1. 为你的令牌命名

2. 将 Grant Type 选择为 Authorization Code (with PKCE)

3. 更新以下参数：

   **Callback URL** - [https://www.example.com](https://www.example.com/)

   该值应当与你在开发者门户的认证设置页面中配置的回调 URL 一致。

   **Auth URL** - [https://x.com/i/oauth2/authorize](https://x.com/i/oauth2/authorize)

   **Access Token URL** - [https://api.x.com/2/oauth2/token](https://api.x.com/2/oauth2/token)

   **Client ID** - 从开发者门户中复制并粘贴 OAuth 2.0 client ID

   **Client Secret** - 从开发者门户中复制并粘贴 OAuth 2.0 client ID。只有当你使用的是机密 client 类型的 App 时才需要此值。

4. 将 scopes 更新为以下值：post.read users.read bookmark.write

5. 在 state 字段中填入 “State”

6. 点击 “Generate Token”

7. 点击保存图标以保存文件夹更改。

你可能会收到一条消息，提示你尚未登录 X。如果出现此错误，你需要在 Postman 中登录你希望代表其发帖的 X 帐户。

**第三步：指定用户**

对于此端点，你必须指定希望在响应中获取其关注者的用户 ID。例如，@XDevelopers 的用户 ID 是 `2244994945`。

在 Postman 中，导航到 “Params” 标签页，并将你自己或某个已认证用户的 ID 作为 id 参数的值输入。

|    |     |              |
| :- | :-- | :----------- |
|    | Key | Value        |
|    | id  | `2244994945` |

**第四步：指定你想要加入 Bookmarks 的帖子**

导航到 “Body” 标签页，并确保 Post ID 设置为你希望保存到 Bookmarks 的那个帖子。JSON 载荷应类似于下面的示例。

```
      {"tweet_id": "1460323737035677698"}
```

**步骤五：发送请求并查看响应**

完成所有设置后，点击 “Send” 按钮，你将会收到类似于下面示例的响应：

```
{
   "data": {
       "bookmarked": true
   }
}
```

要删除某条帖子，请在已加载到 Postman 中的 X API v2 collection 的 “Bookmarks” 文件夹中选择 “Remove a Bookmark” 请求。首先，在 “`id`” 列中填写你代表其发起请求的用户的用户 ID。该 endpoint 还需要你要删除的帖子 ID。然后，在 “Params” 选项卡中，将你希望删除的帖子的 ID 填入 “`tweet_id`” 列。 

当删除请求成功后，你会收到类似于以下示例的响应：

```
{
   "data": {
       "bookmarked": false
   }
}
```
