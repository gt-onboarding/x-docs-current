---
title: 书签管理
sidebarTitle: 书签管理
keywords: ["manage bookmarks quickstart", "bookmark quickstart", "bookmark tutorial", "bookmark guide", "bookmarks quickstart"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-bookmarks-endpoints">
  ## 书签管理端点入门
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向书签管理端点发出你的第一个请求。

如果你想查看不同编程语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。 

<Note>
  **先决条件**

  要完成本指南，你需要拥有一组用于对请求进行身份验证的 [密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  * [注册开发者账号](https://developer.x.com/en/apply-for-access) 并通过审核。
  * 在开发者门户中创建一个 [项目](/zh/resources/fundamentals/projects) 和一个关联的 [开发者应用](/zh/resources/fundamentals/developer-apps)。
  * 进入你的 App 的 “Keys and tokens” 页面生成所需的凭证。请务必将所有凭证保存在安全的位置。
</Note>

<div id="steps-to-build-a-manage-bookmarks-request">
  ### 构建管理书签请求的步骤
</div>

**第一步：从工具或库开始**

你可以使用多种不同的工具、代码示例和库来向此端点发起请求，但在这里我们将使用 Postman 工具来简化这一过程。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在你将 X API v2 集合加载到 Postman 后，导航到 “Bookmarks” 文件夹，并选择 “Create a Bookmark”。

**第二步：为你的请求进行身份验证**

要成功向此端点发起请求，你需要使用 [OAuth 2.0 Authorization Code Flow with PKCE](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3)。你可以在 Postman 中生成一个访问令牌。 

前往名为 “Authorization” 的选项卡并选择 “OAuth 2.0”。

在此选项卡中，请务必按照以下步骤操作：

1. 为你的令牌命名

2. 将 Grant Type 选择为 Authorization Code (with PKCE)

3. 更新以下参数：

   **Callback URL** - [https://www.example.com](https://www.example.com/)

   这应该与你在开发者门户的身份验证设置页面中配置的回调 URL 保持一致。

   **Auth URL** - [https://x.com/i/oauth2/authorize](https://x.com/i/oauth2/authorize)

   **Access Token URL** - [https://api.x.com/2/oauth2/token](https://api.x.com/2/oauth2/token)

   **Client ID** - 从开发者门户中复制并粘贴 OAuth 2.0 client ID

   **Client Secret **- 从开发者门户中复制并粘贴 OAuth 2.0 client secret。只有在你使用的应用类型是机密客户端时才需要这一项。

4. 将 scopes 更新为以下值：post.read users.read bookmark.write

5. 在 state 字段中填入 “State”

6. 点击 “Generate Token”

7. 点击保存图标以保存文件夹更改。

你可能会收到一条消息，提示你尚未登录 X。如果出现此错误，你需要在 Postman 中登录你希望代表其发帖的 X 账号。

**第三步：指定用户**

在此端点中，你必须指定希望在响应中接收其关注者的用户 id。例如，@XDevelopers 的用户 id 为 `2244994945`。

在 Postman 中，导航到 “Params” 选项卡，并将你自己的 id 或某个已认证用户的 id 作为 id 参数的值输入。

|    |     |              |
| :- | :-- | :----------- |
|    | Key | Value        |
|    | id  | `2244994945` |

**第四步：指定你想添加为书签的帖子**

你需要导航到 “Body” 选项卡，并确保帖子 ID（Post ID）设置为你希望保存到书签中的那个帖子 id。JSON 负载应类似于下面的示例。

```
      {"tweet_id": "1460323737035677698"}
```

**步骤五：发送请求并查看响应**

在完成所有设置后，单击“Send”按钮，你将会收到类似于下面示例响应的结果：

```
{
   "data": {
       "bookmarked": true
   }
}
```

要删除帖子，请在 Postman 中已加载的 X API v2 集合中的 “Bookmarks” 文件夹下选择 “Remove a Bookmark” 请求。首先，需要在 “`id`” 列中填写你代其发起请求的那位用户的用户 ID。此端点还需要你想要删除的帖子的 ID。然后，在 “Params” 选项卡中，将你想要删除的帖子的 ID 输入为 “`tweet_id`” 列的值。 

当你成功发送删除请求后，将会收到类似于以下示例的响应：

```
{
   "data": {
       "bookmarked": false
   }
}
```
