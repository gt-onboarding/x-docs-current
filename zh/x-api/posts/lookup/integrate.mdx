---
title: 集成指南
sidebarTitle: 集成指南
keywords: ["帖子查询集成", "查询集成指南", "查询实现", "查询设置", "帖子查询集成"]
---

import { Button } from "/snippets/zh/button.mdx"

本页介绍了多个实用工具和关键概念，帮助你将 Posts 查询端点集成到你的系统中。我们将本页内容划分为以下几个部分：

* [实用工具](#helpful)
* 关键概念
  * [身份验证](#authentication)
  * [开发者门户、项目和应用](#portal)
  * [速率限制](#limits)
  * [字段和扩展字段](#fields)
  * [帖子编辑](#edits)
  * [边界情况](#edge)

<div id="helpful-tools">
  ## 实用工具
</div>

在深入了解一些关键概念之前，我们建议你先熟悉以下工具：

**Postman**\
Postman 是一款出色的工具，可用于测试端点，包括每个路径和请求体参数，帮助你了解可用的功能。查看我们的 [Postman 入门指南](/zh/tutorials/postman-getting-started)以了解更多信息。

**代码示例**\
在我们的 [GitHub 页面](https://github.com/xdevplatform/Twitter-API-v2-sample-code)中查找你偏好的编程语言的代码示例。

**第三方库**\
使用社区构建的、与 v2 端点兼容的 [第三方库](/zh/resources/tools-and-libraries)。

<div id="key-concepts">
  ## 关键概念
</div>

<div id="authentication">
  ### 身份验证
</div>

所有 X API v2 端点都要求请求通过身份验证。你可以使用以下任一方式进行身份验证：

* 使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication)，结合 API Key、访问令牌以及额外参数来[创建授权头](/zh/resources/fundamentals/authentication#authorizing-a-request)。
* 通过 [OAuth 2.0 应用仅模式](/zh/resources/fundamentals/authentication#oauth-2-0) 在请求中携带 [App Access Token](/zh/resources/fundamentals/authentication)。
* 使用 [OAuth 2.0 Authorization Code with PKCE](/zh/resources/fundamentals/authentication)，以便对应用权限范围和多设备授权进行更精细的控制。

<Note>
  OAuth 1.0a 的实现可能具有一定难度。如果你不熟悉它，建议在发起请求时使用[库](/zh/resources/tools-and-libraries)或改用 OAuth 2.0。对于私有指标或帖子，请使用 OAuth 1.0a 用户上下文或 OAuth 2.0 Authorization Code with PKCE。
</Note>

<Tip>
  **请注意**

  > 如果你要请求以下字段，则必须使用 OAuth 1.0a 用户上下文或 OAuth 2.0 Authorization Code：
  >
  > * `tweet.fields.non_public_metrics`
  > * `tweet.fields.promoted_metrics`
  > * `tweet.fields.organic_metrics`
  > * `media.fields.non_public_metrics`
  > * `media.fields.promoted_metrics`
  > * `media.fields.organic_metrics`
</Tip>

<div id="developer-portal-projects-and-apps">
  ### 开发者门户、项目和应用
</div>

要获取 X API v2 的凭证，你需要具备：

1. 一个已获批准的[开发者账号](/zh/resources/fundamentals/developer-portal)。
2. 该开发者账号下的一个[项目](/zh/resources/fundamentals/projects)。
3. 该项目内的一个[开发者应用](/zh/resources/fundamentals/developer-apps)，其中可以找到密钥和令牌。

<div id="rate-limits">
  ### 速率限制
</div>

为管理请求量，X API 请求会受到[速率限制](/zh/resources/fundamentals/rate-limits) 的约束。限制同时适用于应用级和用户级：

* **应用级**：限制任一应用在每个周期内可发起的请求次数。
* **用户级**：限制经过认证的用户在各个开发者应用之间执行帖子查找的频率。

<div id="fields-and-expansions">
  ### 字段和扩展字段
</div>

X API v2 允许通过 `fields` 和 `expansions` 来选择特定的数据字段：

* **扩展字段（Expansions）**：用于获取额外的相关对象。支持的扩展字段包括：
  * `edit_history_tweet_ids`
  * `attachments.poll_ids`
  * `attachments.media_keys`
  * `author_id`
  * `entities.mentions.username`
  * `geo.place_id`
  * `in_reply_to_user_id`
  * `referenced_tweets.id`
  * `referenced_tweets.id.author_id`

* **字段（Fields）**：在对象中指定要返回的字段，以获取更多数据。Post 对象默认返回 `id`、`text` 和 `edit_history_tweet_ids`。其他选项（如 `tweet.created_at` 和 `tweet.entities`）则必须显式请求。

如需了解更多信息，请参阅 [X API v2 数据字典](/zh/x-api/fundamentals/data-dictionary)中的字段和扩展字段指南。

<div id="post-edits">
  ### 帖子编辑
</div>

符合条件的帖子可在发布后的 30 分钟内最多编辑五次。Posts 查找端点始终提供最新版本的 Post。对于准实时使用场景，请注意这一时间窗口。更多详情，请参阅 [Edit Posts 基础知识](/zh/x-api/fundamentals/edit-posts)。

<div id="edge-cases">
  ### 边界情况
</div>

* **推广指标**：当为未推广的帖子请求推广指标时，将返回空响应。
* **截断文本**：对于转发的帖子，其文本会被截断。要获取完整文本，请展开被引用的帖子。