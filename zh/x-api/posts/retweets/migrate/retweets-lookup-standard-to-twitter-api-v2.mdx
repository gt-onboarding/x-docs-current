---
title: 转发查询
sidebarTitle: 转发查询
keywords: ["转发查询迁移", "v1.1 到 v2 转发查询", "迁移转发查询", "标准版到 v2 转发", "转发迁移"]
---

<div id="retweets-lookup-standard-v11-compared-to-x-api-v2">
  ### 转推查询：标准版 v1.1 与 X API v2 对比
</div>

如果你一直在使用标准版 v1.1 中的 [v1.1 GET statuses/retweets/:id](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-retweets-id)、[v1.1 GET statuses/retweets/:ids](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-retweeters-ids)，本指南旨在帮助你了解标准版 v1.1 与 X API v2 转推查询端点之间的相似点和差异。

* **相似点**
  * 身份验证
  * 每次请求的用户数量限制
* **差异**
  * 端点 URL

  * 请求限制

  * 应用和项目要求

  * 响应数据格式

  * 请求参数

<div id="similarities">
  #### 相似点
</div>

**认证**

标准 v1.1 和 X API v2 的 Retweets 查询端点（[v1.1 GET statuses/retweets/:id](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-retweets-id) 和 [v1.1 GET statuses/retweeters/:ids](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-retweeters-ids)）都使用 [OAuth 1.0a 用户上下文](https://developer.x.com/content/developer-twitter/resources/fundamentals/authentication) 或 OAuth 2.0 Bearer Token。

**每次请求的用户数限制**

对于 v1.1 和 v2 的 GET 端点，Retweets 查询端点每次最多返回 100 个用户。对于 v2 的 Retweets 查询端点，不使用分页 token；默认返回 100 个用户，这也是能够返回的最大数量。

<div id="differences">
  #### 差异
</div>

**Endpoint URLs**

* 标准 v1.1 endpoint：
  * https://api.x.com/1.1/statuses/retweets/:id.json
    （返回由 `id` 参数指定的帖子中，最近 100 条转发（Retweet）的集合）
  * `https://api.x.com/1.1/statuses/retweeters/ids.json`
    （返回对由 `id` 参数指定的帖子进行转发（Retweet）的用户中，最多 100 个用户 ID 的集合）
* X API v2 endpoint：
  * https://api.x.com/2/tweets/:id/retweeted&#95;by
    （返回转发（Retweet）了指定帖子的账号列表）

**应用和项目要求**

在对请求进行认证时，X API v2 endpoint 要求你使用来自与某个 [Project](/zh/resources/fundamentals/developer-apps) 关联的 [developer App](/zh/resources/fundamentals/developer-apps) 的凭证。所有 X API v1.1 endpoint 都可以使用来自独立应用或与某个项目关联的应用的凭证。

**响应数据格式**

标准 v1.1 与 X API v2 版本 endpoint 之间最大差异之一在于，你如何选择要在负载中返回的字段。

对于标准 endpoint，你默认会收到许多响应字段，然后可以选择使用参数来指定哪些字段或字段集合应在负载中返回。

X API v2 版本默认只返回用户 `id`、`name` 和 `username` 字段。要请求任何其他字段或对象，你需要使用 [fields](/zh/x-api/fundamentals/fields) 和 [expansions](/zh/x-api/fundamentals/expansions) 参数。从此 endpoint 请求的任何用户字段都会返回在主用户对象中。任何展开的帖子对象及其字段会在响应中的 includes 对象里返回。然后，你可以通过匹配用户对象和展开帖子对象中出现的 ID，将任意展开对象与用户对象对应起来。 

我们建议你在各自的指南中进一步了解这些新参数，或者阅读我们的[如何使用 fields 和 expansions](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) 指南。 

我们还整理了一份 [数据格式迁移指南](/zh/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2)，可帮助你将标准 v1.1 字段映射到较新的 v2 字段。该指南还会向你提供在 v2 请求中需要携带的具体 expansions 和 fields 参数，以返回特定字段。 
 

除了你请求某些字段的方式发生变化之外，X API v2 还为 API 返回的对象引入了新的 JSON 设计，包括 [Post](/zh/x-api/fundamentals/data-dictionary#tweet) 和 [user](/zh/x-api/fundamentals/data-dictionary#user) 对象。

* 在 JSON 根级别，标准 endpoint 在 `statuses` 数组中返回帖子对象，而 X API v2 在 `data` 数组中返回。 
* X API v2 JSON 不再使用 “statuses” 来指代被转发和被引用的内容，而是使用被转发和被引用的帖子（Tweets）。许多传统和已弃用字段（例如 `contributors` 和 `user.translator_type`）正在被移除。 
* X API v2 不再同时使用 `favorites`（帖子对象中）和 `favourites`（用户对象中），而是统一使用 `like` 这一术语。 
* X 采用了这样一种约定：没有值的 JSON 字段（例如值为 `null`）不会写入负载。帖子和用户属性仅在具有非空值时才会被包含。 
   

我们还在 [Post 对象](/zh/x-api/fundamentals/data-dictionary#tweet) 中引入了一组新字段，包括以下内容：

* 一个 [conversation&#95;id](/zh/x-api/fundamentals/conversation-id) 字段
* 两个新的 [annotations](/zh/x-api/fundamentals/post-annotations) 字段，包括 `context` 和 `entities`
* 若干新的 [metrics](/zh/x-api/fundamentals/metrics) 字段 
* 一个新的 `reply_setting` 字段，用于显示谁可以回复指定的帖子

**请求参数**

以下标准 v1.1 请求参数接受两个查询参数（`user_id` 或 `screen_name`）。X API v2 只接受数值型用户 ID，且必须作为 endpoint 路径的一部分进行传递。