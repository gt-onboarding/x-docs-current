---
title: å…¨é‡å­˜æ¡£æœç´¢
sidebarTitle: å…¨é‡å­˜æ¡£æœç´¢
keywords: ["å…¨é‡å­˜æ¡£æœç´¢", "å­˜æ¡£æœç´¢å¿«é€Ÿå…¥é—¨", "å†å²æœç´¢", "å…¨é‡å­˜æ¡£æ•™ç¨‹", "å­˜æ¡£æœç´¢æŒ‡å—"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-full-archive-search-endpoint">
  ## å¼€å§‹ä½¿ç”¨å®Œæ•´å­˜æ¡£æœç´¢ç«¯ç‚¹
</div>

æœ¬å¿«é€Ÿå…¥é—¨æŒ‡å—å°†å¸®åŠ©ä½ ä½¿ç”¨ Postmanï¼Œå‘å®Œæ•´å­˜æ¡£æœç´¢ç«¯ç‚¹å‘å‡ºç¬¬ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶åœ¨è¯·æ±‚ä¸­æŒ‡å®šä¸€ç»„å­—æ®µã€‚

å¦‚æœä½ æƒ³æŸ¥çœ‹ä¸åŒè¯­è¨€çš„ç¤ºä¾‹ä»£ç ï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„ [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub ä»“åº“ã€‚

<Note>
  ### å‰ææ¡ä»¶

  å®Œæ•´å­˜æ¡£æœç´¢ç«¯ç‚¹ç›®å‰ä»…ä½œä¸º Pro å’Œ Enterprise è®¿é—®æƒé™çš„ä¸€éƒ¨åˆ†æä¾›ã€‚è¦ä½¿ç”¨æ­¤ç«¯ç‚¹ï¼Œä½ å¿…é¡»å‡çº§åˆ° Pro è®¿é—®çº§åˆ«ï¼Œæˆ– [ç”³è¯· Enterprise è®¿é—®çº§åˆ«](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform)ã€‚

  é™¤äº†è·æ‰¹è®¿é—®æƒé™ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦ä¸€ç»„ç”¨äºå¯¹è¯·æ±‚è¿›è¡Œèº«ä»½éªŒè¯çš„ [å¯†é’¥å’Œä»¤ç‰Œ](/zh/resources/fundamentals/authentication)ã€‚ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ç”Ÿæˆè¿™äº›å¯†é’¥å’Œä»¤ç‰Œï¼š

  * åœ¨å¼€å‘è€…é—¨æˆ·ä¸­ï¼Œå¯¼èˆªåˆ°å…·æœ‰ Enterprise æˆ– Pro è®¿é—®æƒé™çš„ [é¡¹ç›®](/zh/resources/fundamentals/projects)ï¼Œå¹¶ç¡®ä¿åœ¨è¯¥é¡¹ç›®ä¸‹å…³è”äº†ä¸€ä¸ª [å¼€å‘è€…åº”ç”¨](/zh/resources/fundamentals/developer-apps)ã€‚

  * å¯¼èˆªåˆ°ä½ çš„ App çš„ â€œKeys and tokensâ€ é¡µé¢ä»¥ç”Ÿæˆæ‰€éœ€çš„å‡­è¯ã€‚è¯·åŠ¡å¿…å°†æ‰€æœ‰å‡­è¯ä¿å­˜åœ¨å®‰å…¨çš„ä½ç½®ã€‚
</Note>

<div id="steps-to-build-a-full-archive-search-request">
  ### æ„å»ºå…¨å­˜æ¡£æœç´¢è¯·æ±‚çš„æ­¥éª¤
</div>

**æ­¥éª¤ä¸€ï¼šé€‰æ‹©å·¥å…·æˆ–åº“**

ä½ å¯ä»¥ä½¿ç”¨å¤šç§ä¸åŒçš„å·¥å…·ã€ä»£ç ç¤ºä¾‹å’Œåº“æ¥å‘æ­¤ç«¯ç‚¹å‘èµ·è¯·æ±‚ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ Postman å·¥å…·æ¥ç®€åŒ–æµç¨‹ã€‚

è¦å°† X API v2 Postman é›†åˆåŠ è½½åˆ°ä½ çš„ç¯å¢ƒä¸­ï¼Œè¯·ç‚¹å‡»ä»¥ä¸‹æŒ‰é’®ï¼š

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  å°† X API v2 æ·»åŠ åˆ° Postman
</Button>

åœ¨ä½ å°† X API v2 é›†åˆåŠ è½½åˆ° Postman ä¹‹åï¼Œå¯¼èˆªåˆ° â€œSearch Posts &gt; Full-archive search requestâ€ã€‚

**æ­¥éª¤äºŒï¼šå¯¹è¯·æ±‚è¿›è¡Œèº«ä»½éªŒè¯**

è¦æ­£ç¡®åœ°å‘ X API å‘èµ·è¯·æ±‚ï¼Œä½ éœ€è¦å…ˆéªŒè¯è‡ªå·±æ˜¯å¦æ‹¥æœ‰è®¿é—®æƒé™ã€‚å¯¹äºè¯¥ç«¯ç‚¹ï¼Œä½ å¿…é¡»ä½¿ç”¨ [OAuth 2.0 App-Only](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) æ–¹å¼å¯¹è¯·æ±‚è¿›è¡Œèº«ä»½éªŒè¯ã€‚

ä½ å¿…é¡»å°†ä½ çš„å¯†é’¥å’Œä»¤ç‰Œï¼Œå°¤å…¶æ˜¯ [App Access Token](/zh/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)ï¼ˆä¹Ÿç§°ä¸º App-only Bearer Tokenï¼‰æ·»åŠ åˆ° Postman ä¸­ã€‚ä½ å¯ä»¥åœ¨ Postman å³ä¸Šè§’é€‰æ‹©åä¸º â€œX API v2â€ çš„ environmentï¼Œç„¶åæŠŠä½ çš„å¯†é’¥å’Œä»¤ç‰Œæ·»åŠ åˆ° &quot;initial value&quot; å’Œ &quot;current value&quot; å­—æ®µä¸­ï¼ˆç‚¹å‡»ç¯å¢ƒä¸‹æ‹‰èœå•æ—è¾¹çš„çœ¼ç›å›¾æ ‡ï¼‰ã€‚

å¦‚æœä½ æ­£ç¡®å®Œæˆäº†ä¸Šè¿°æ“ä½œï¼Œè¿™ä¸ªå˜é‡ä¼šè‡ªåŠ¨å¡«å……åˆ°è¯¥è¯·æ±‚çš„ &quot;Authorization&quot; é€‰é¡¹å¡ä¸­ã€‚
Â 

**æ­¥éª¤ä¸‰ï¼šåˆ›å»ºæœç´¢æŸ¥è¯¢**

æ¯ä¸ªå…¨å­˜æ¡£æœç´¢è¯·æ±‚éƒ½éœ€è¦ä¸€ä¸ªæœç´¢æŸ¥è¯¢ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåŒ¹é… @XDevelopers è´¦å·æ‰€å‘å¸–å­ï¼ˆPostsï¼‰çš„æŸ¥è¯¢ã€‚å¯¹äºè¿™ä¸ªæŸ¥è¯¢ï¼Œæˆ‘ä»¬ä½¿ç”¨ from è¿ç®—ç¬¦å¹¶å°†å…¶è®¾ç½®ä¸º XDevelopersï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼š

`from:XDevelopers`

åœ¨ Postman ä¸­ï¼Œå¯¼èˆªåˆ° &quot;Params&quot; é€‰é¡¹å¡ï¼Œå°†è¿™ä¸ª IDï¼Œæˆ–è€…ç”¨é€—å·åˆ†éš”çš„ä¸€ä¸²å¸–å­ IDï¼Œè¾“å…¥åˆ° `ids` å‚æ•°çš„ &quot;Value&quot; åˆ—ä¸­ã€‚
Â 

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | æäº¤ç»™å…¨å­˜æ¡£æœç´¢ç«¯ç‚¹çš„æœç´¢æŸ¥è¯¢ |

**æ­¥éª¤å››ï¼šç¡®è®¤å¹¶æŒ‡å®šä½ æƒ³è¦æ£€ç´¢çš„å­—æ®µ**

å¦‚æœä½ åœ¨å®Œæˆæ­¥éª¤ä¸‰åç‚¹å‡» &quot;Send&quot; æŒ‰é’®ï¼Œä½ ä¼šåœ¨å“åº”ä¸­æ”¶åˆ°é»˜è®¤çš„ [Post object](/zh/x-api/fundamentals/data-dictionary#tweet) å­—æ®µï¼š`id`ã€`text` å’Œ `edit_history_tweet_ids`ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœä½ æ”¶åˆ°çš„æ˜¯ç¼–è¾‘åŠŸèƒ½æ¨å‡ºä¹‹å‰å‘å¸ƒçš„å¸–å­ï¼Œåˆ™ä¸ä¼šè¿”å› `edit_history_tweet_ids` å­—æ®µã€‚è¯¥å­—æ®µæ²¡æœ‰è¿›è¡Œå†å²æ•°æ®å›å¡«ã€‚Â 

å¦‚æœä½ å¸Œæœ›åœ¨è¿™äº›é»˜è®¤å­—æ®µä¹‹å¤–å†æ¥æ”¶å…¶ä»–å­—æ®µï¼Œåˆ™éœ€è¦åœ¨è¯·æ±‚ä¸­é€šè¿‡ [field](/zh/x-api/fundamentals/fields) å’Œ/æˆ– [expansion](/zh/x-api/fundamentals/expansions) å‚æ•°æ¥æŒ‡å®šè¿™äº›å­—æ®µã€‚

åœ¨æœ¬ç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†ä»ä¸åŒå¯¹è±¡ä¸­è¯·æ±‚å››ç»„ä¸åŒçš„å­—æ®µï¼š

1. é»˜è®¤çš„ Post å¯¹è±¡å­—æ®µ
2. ä¸»ä½“ç”¨æˆ·å¯¹è±¡ä¸­çš„é™„åŠ  tweet.created&#95;at å­—æ®µ
3. è¿”å›å¸–å­ä¸­å…³è”ä½œè€…çš„ [user object](/zh/x-api/fundamentals/data-dictionary#user) é»˜è®¤å­—æ®µ
4. å…³è”ç”¨æˆ·å¯¹è±¡ä¸­çš„é™„åŠ  user.description å­—æ®µ
   Â 

åœ¨ Postman ä¸­ï¼Œå¯¼èˆªåˆ° &quot;Params&quot; é€‰é¡¹å¡ï¼Œåœ¨ &quot;Query Params&quot; è¡¨ä¸­æ·»åŠ ä»¥ä¸‹ key:value å¯¹ï¼š

| Key | Value | Returned fields |
| :--- | :--- | :--- |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | includes.users.id, includes.users.name, includes.users.username |
| user.fields | description | includes.users.description |

ä½ ç°åœ¨åº”è¯¥ä¼šåœ¨ &quot;Send&quot; æŒ‰é’®æ—è¾¹çœ‹åˆ°å¦‚ä¸‹ URLï¼š

`https://api.x.com/2/tweets/search/all?query=from:XDevelopers&tweet.fields=created_at&expansions=author_id&user.fields=created_at`

<Note>
  **è¯·æ³¨æ„**

  é»˜è®¤æƒ…å†µä¸‹ï¼Œåªä¼šè¿”å›æœ€è¿‘çš„ 10 æ¡å¸–å­ã€‚å¦‚æœä½ å¸Œæœ›æ¯ä¸ªè¯·æ±‚è¿”å›å¤šäº 10 æ¡å¸–å­ï¼Œå¯ä»¥ä½¿ç”¨ max&#95;results å‚æ•°ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºæ¯ä¸ªè¯·æ±‚æœ€å¤š 500 æ¡å¸–å­ã€‚åŒæ ·åœ°ï¼Œé»˜è®¤åªä¼šè¿”å›æœ€è¿‘ 30 å¤©å†…çš„å¸–å­ã€‚å¦‚æœä½ å¸Œæœ›è·å–æ—©äº 30 å¤©çš„å¸–å­ï¼Œå¯ä»¥åœ¨ API è°ƒç”¨ä¸­ä½¿ç”¨ start&#95;time å’Œ end&#95;time å‚æ•°ã€‚
</Note>

**æ­¥éª¤äº”ï¼šå‘å‡ºè¯·æ±‚å¹¶æŸ¥çœ‹å“åº”**

å®Œæˆæ‰€æœ‰è®¾ç½®åï¼Œç‚¹å‡»â€œSendâ€æŒ‰é’®ï¼Œæ‚¨å°†ä¼šæ”¶åˆ°ç±»ä¼¼å¦‚ä¸‹æ‰€ç¤ºçš„å“åº”ç»“æœï¼š

```
{
   "data": [
       {
           "author_id": "2244994945",
           "created_at": "2020-06-11T16:05:06.000Z",
           "id": "1271111223220809728",
           "text": "ä»Šæ™šæ”¶çœ‹ @jessicagarson å¸¦æˆ‘ä»¬äº†è§£å¦‚ä½•åœ¨ R ä¸­è¿è¡Œæ‚¨æœ€å–œæ¬¢çš„ Python åŒ…ã€‚ğŸ¿\n\nå­¦ä¹ å¦‚ä½•å°†ä¸¤ç§å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ç»“åˆç”¨äºæ•°æ®ç§‘å­¦ï¼Œå¹¶æŸ¥çœ‹ä½¿ç”¨ Twitter å¼€å‘è€…å®éªŒå®¤æœ€æ–°æœç´¢ç«¯ç‚¹çš„å®æ—¶ç¤ºä¾‹ã€‚https://t.co/v178oUZNuj"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-10T19:25:24.000Z",
           "id": "1270799243071062016",
           "text": "åœ¨æˆ‘ä»¬è‡´åŠ›äºæ„å»ºæ–°çš„ Twitter API çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å»¶é•¿äº†å‡ ä¸ª Labs v1 ç«¯ç‚¹çš„å¼ƒç”¨æ—¶é—´è¡¨ã€‚äº†è§£æ›´å¤š ğŸ“– https://t.co/rRWaJYJgKk"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-09T18:08:47.000Z",
           "id": "1270417572001976322",
           "text": "æ³¨é‡Šå¸®åŠ©æ‚¨æ›´å¤šåœ°äº†è§£æ¨æ–‡â€”â€”å®ƒä»¬ç”šè‡³å¯ä»¥å¸®åŠ©æ‚¨æ‰¾åˆ°æ„Ÿå…´è¶£çš„è¯é¢˜ã€‚ğŸ”¬\n\nåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œ@suhemparack å‘æˆ‘ä»¬å±•ç¤ºå¦‚ä½•ä½¿ç”¨æ³¨é‡Š + è¿‡æ»¤æµç«¯ç‚¹æŸ¥æ‰¾ä¸ COVID-19 ç›¸å…³çš„æ¨æ–‡ã€‚\n\näº†è§£æ‚¨ä¹Ÿå¯ä»¥å¦‚ä½•åšåˆ°ã€‚â¤µï¸\nhttps://t.co/qwVOgw0zSV"
       }
   ],
   "includes": {
       "users": [
           {
               "description": "Twitter #DevRel å›¢é˜Ÿçš„å£°éŸ³ï¼Œä¹Ÿæ˜¯æ‚¨è·å– Twitter API æ›´æ–°ã€æ–°é—»å’Œæ´»åŠ¨çš„å®˜æ–¹æ¥æºã€‚\n\n#BlackLivesMatter",
               "id": "2244994945",
               "name": "Twitter å¼€å‘è€…",
               "username": "TwitterDev"
           }
       ]
   },
   "meta": {
       "newest_id": "1271111223220809728",
       "oldest_id": "1270417572001976322",
       "result_count": 3
   }
}
```

åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªéå¸¸ç®€å•çš„æŸ¥è¯¢ã€‚å¦‚æœä½ æƒ³æŸ¥çœ‹æ›´å¤šè¯¦ç»†çš„æŒ‡å—ï¼Œè¯·è®¿é—®ä¸‹é¢åˆ—å‡ºçš„èµ„æºã€‚Â 

**åç»­æ­¥éª¤**

[ä½¿ç”¨ API å‚è€ƒæ–‡æ¡£è‡ªå®šä¹‰ä½ çš„è¯·æ±‚](/zh/x-api/posts/full-archive-search)

[æŸ¥çœ‹æŸ¥è¯¢è¿ç®—ç¬¦çš„å®Œæ•´åˆ—è¡¨](/zh/x-api/posts/search/integrate/build-a-query "See a full list of query operators")

[ä½¿ç”¨è¿™äº›ç«¯ç‚¹çš„ç¤ºä¾‹ä»£ç ](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Use sample code for these endpoints")
