---
title: 简介
sidebarTitle: 简介
keywords: ["帖子计数", "帖子数量统计", "计数端点", "总量计数", "搜索量", "帖子总量", "计数 API"]
---

import { Button } from '/snippets/zh/button.mdx';

v2 帖子计数端点允许开发者了解并获取给定查询对应的数据量。这在多种场景下都很有用，包括：

* 了解某个关键词的帖子量，用于构建可视化图表，例如趋势线。

* 了解某个事件或对话发生的时间范围，以确保你的查询能够捕获相关数据。

* 了解搜索查询将返回多少帖子，以便在使用最近搜索或全量归档搜索端点之前，先优化你的查询。
  **请注意：** 计数结果并不总是与搜索端点返回的结果完全一致，因为搜索端点会经过额外的合规处理，而计数端点不会经过这些处理。

* 在不实际拉取原始数据、也不将帖子计入你每月[帖子上限](/zh/x-api/fundamentals/post-cap)的情况下，了解围绕某个主题的对话规模。

在构建查询时，你会受到查询长度限制，以及基于你的[访问级别](/zh/x-api/getting-started/about-x-api)所允许使用的特定运算符的限制。

* 如果你使用的是具有 Pro 访问级别的项目，你可以使用所有可用的运算符，并且查询长度最多为 1024 个字符。

* 如果你使用的是具有 Enterprise 访问级别的项目，你可以使用所有可用的运算符，并且查询长度最多为 4096 个字符。

你还可以指定粒度（可以是 day、hour 或 minute），以及你需要获取帖子计数的时间区间（使用 `start_time` 和 `end_time` 参数）。该端点默认使用的时间粒度是 hour，这意味着如果你没有指定 granularity 参数，端点将返回最近 7 天内按小时划分的帖子计数。

<Note>
  **账号设置**

  要访问这些端点，你需要：

  * 一个已获批准的[开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)。
  * 使用位于某个[项目](/zh/resources/fundamentals/projects)中的[开发者应用](/zh/resources/fundamentals/developer-apps)的密钥和令牌进行认证。

  在我们的[入门指南](/zh/x-api/getting-started/getting-access)中了解更多关于获取 X API v2 端点访问权限的信息。
</Note>

<div id="recent-post-counts">
  ### 最近帖子计数
</div>

最近帖子计数端点允许你以编程方式检索在过去七天内、符合某个查询条件的帖子数量。任何使用与某个 [App](/zh/resources/fundamentals/developer-apps) 关联、并位于某个 [Project](/zh/resources/fundamentals/projects) 中的密钥和令牌的用户都可以使用此端点，并使用 [OAuth 2.0 应用仅模式](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) 进行身份验证。

<div id="full-archive-post-counts">
  ### 全量归档帖子计数
</div>

全量归档帖子计数端点允许你以编程方式，从整个公开帖子归档中，检索某个查询对应的帖子数量。当前，此端点仅对已获批[学术研究或 Enterprise 访问权限](/zh/x-api/getting-started/about-x-api)并使用 [OAuth 2.0 应用仅模式](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) 进行认证的用户开放。

举例来说：你可以使用全量归档帖子计数端点，查看 2017 年 8 月到 9 月期间，每天带有话题标签 #SOSHurricaneHarvey 的帖子数量。

**请注意：** 该计数端点按每次响应最多 31 天的数据进行分页。比如，设置为 `day` 粒度时，将返回每页 31 天中每天的结果计数。设置为 `hour` 粒度时，将返回每页 744 小时（31 天 x 24 小时）中每小时的结果计数。如果你未指定粒度和时间区间，此端点将返回最近 30 天内，按小时聚合的查询帖子计数。

<div className="flex space-x-4">
  <Button href="/zh/x-api/posts/search/quickstart/full-archive-search">
    快速开始
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    示例代码
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    在 Postman 中运行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets/search/recent&method=get">
    使用 API Explorer 试用
  </Button>
</div>