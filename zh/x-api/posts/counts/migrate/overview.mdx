---
title: 概览
sidebarTitle: 概览
keywords: ["计数迁移", "帖子计数迁移", "v1.1 到 v2 计数", "计数迁移指南", "迁移帖子计数"]
---

<div id="comparing-x-apis-post-counts-endpoints">
  ## 比较 X API 的帖子计数端点
</div>

v2 帖子计数端点最终将取代 [Enterprise Search API 的计数端点](/zh/x-api/enterprise-gnip-2.0/fundamentals/search-api#counts-requests-post-count)。如果你已有使用旧版帖子计数端点的代码、应用或工具，并且正在考虑迁移到更新的 X API v2 端点，那么本指南适合你。

本页包含两张对比表：

* [最近帖子计数](#recent)
* [完整归档帖子计数](#full-archive)
* [过滤运算符比较](#operator)

<div id="recent-post-counts-comparison">
  ### 近期帖子计数对比
</div>

帖子计数端点的 Enterprise 版本允许你获取过去 30 天内或来自全量归档（full-archive）的计数。因此，v2 的近期帖子计数端点（覆盖 7 天时间范围）不能直接替代上述任一端点。

不过，为了便于比较，我们将对比 v2 近期帖子计数端点与 Enterprise 30 天端点。

下表比较了多种类型的近期帖子计数端点：

| **Description** | **Enterprise** | **X API v2** |
| :--- | :--- | :--- |
| Host domain | https://gnip-api.x.com | https://api.x.com |
| Endpoint path | /search/30day/accounts/:account&#95;name/:label/counts.json | /2/tweets/counts/recent |
| [Authentication](/zh/resources/fundamentals/authentication) | Basic authentication | OAuth 2.0 Bearer Token |
| Timestamp format | YYYYMMDDhhmm | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| Returns counts of Posts that are no older than | 31 天 | 7 天 |
| HTTP methods supported | GET | GET |
| Default request rate limits | 每 1 秒 20 次请求，在搜索数据和计数请求之间汇总计算  <br />具体的每分钟速率限制将根据你的合同约定而有所不同。 | 每个用户每 15 分钟 180 次请求  <br />每个应用每 15 分钟 450 次请求 |
| Supports filtering using [annotations](/zh/x-api/fundamentals/post-annotations) |     | ✔   |
| Supports filtering using [conversation&#95;id](/zh/x-api/fundamentals/conversation-id) |     | ✔   |
| JSON key name for Post data array | results | data |
| Time granularity | 天、小时或分钟 | 天、小时或分钟 |
| Timezone | UTC | UTC |
| Request parameters for selecting time period | fromDate  <br />toDate | start&#95;time  <br />end&#95;time |
| Request parameters for navigating by Post ID |     | since&#95;id  <br />until&#95;id |
| Requires the use of credentials from a [developer App](/zh/resources/fundamentals/developer-apps) associated with a [project](/zh/resources/fundamentals/projects) |     | ✔   |

<div id="full-archive-post-counts-comparison">
  ### 全量归档帖子计数端点对比
</div>

下表比较了各种类型的全量归档搜索端点：

| 描述 | Enterprise | X API v2 |
| :--- | :--- | :--- |
| 主机域名 | https://gnip-api.x.com | https://api.x.com |
| 端点路径 | /search/fullarchive/accounts/:account&#95;name/:label/counts | /2/tweets/counts/all |
| [Authentication](/zh/resources/fundamentals/authentication) | Basic 身份验证 | OAuth 2.0 Bearer Token |
| 时间戳格式 | YYYYMMDDHHMM | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| 返回的帖子计数覆盖的最早时间 | 自 2006 年 3 月以来的完整归档 | 自 2006 年 3 月以来的完整归档 |
| 支持的 HTTP 方法 | GET  <br />POST | GET |
| 默认请求速率限制 | 每分钟的速率限制会根据合作伙伴而变化，以你的合同为准。  <br />每秒 20 次请求 | 每个应用每 15 分钟 300 次请求  <br />每个应用每秒 1 次请求 |
| 粒度 | 天、小时、分钟 | 天、小时、分钟 |
| 是否支持使用 [annotations](/zh/x-api/fundamentals/post-annotations) 进行过滤 |     | ✔   |
| 是否支持使用 [conversation&#95;id](/zh/x-api/fundamentals/conversation-id) 进行过滤 |     | ✔   |
| 帖子数据数组的 JSON 键名 | results | data |
| 用于选择时间段的请求参数 | fromDate  <br />toDate | start&#95;time  <br />end&#95;time |
| 用于按帖子 ID 导航的请求参数 |     | since&#95;id  <br />until&#95;id |
| 分页的 JSON 键名 | next | meta.next&#95;token |
| 分页的请求参数 | next&#95;token | next&#95;token 或 pagination&#95;token |
| 时区 | UTC | UTC |
| 是否需要使用与具有 [Academic Research 访问权限](/zh/x-api/getting-started/about-x-api) 的 [Project](/zh/resources/fundamentals/projects) 关联的 [developer App](/zh/resources/fundamentals/developer-apps) 的凭证 |     | ✔   |

<div id="filtering-operator-comparison">
  ### 过滤运算符对比
</div>

这两个不同版本（Enterprise 和 v2）的帖子计数在可用运算符上有所差异，并且在每个版本内部，运算符的可用级别也不同，下面会进行说明。

Enterprise

* Enterprise 运算符没有子层级。所有 Enterprise 运算符对所有 Enterprise 用户都可用。

X API v2

* **Core（核心）：** 这些运算符对任何 X API v2 用户都可用。
* **Advanced（高级）：** 这些运算符仅对已获批学术研究（Academic Research）访问权限的用户可用。

你可以在各自的指南中进一步了解这些运算符集合：

* [Enterprise operators](/zh/x-api/enterprise-gnip-2.0/fundamentals/search-api#building-search-queries)
* [X API v2 operators](/zh/x-api/posts/search/integrate/build-a-query)

现在我们已经了解了 X API v2 中不同的运算符级别，下面的表格列出了帖子计数中各运算符的可用情况（注意：如果单元格为空，则表示该运算符不可用）：

|     | Enterprise | v2  |
| :--- | :--- | :--- |
| keyword | 可用 | Core |
| emoji | 可用 | Core |
| “exact phrase” | 可用 | Core |
| #   | 可用 | Core |
| $   | 可用 | Advanced |
| @   | 可用 | Core |
| from: | 可用 | Core |
| to: | 可用 | Core |
| url: | 可用 | Core |
| retweets&#95;of: | 可用 | Core |
| context: |     | Core |
| entity: |     | Core - 仅在最近搜索中可用 |
| conversation&#95;id: |     | Core |
| place: | 可用 | Advanced |
| place&#95;country: | 可用 | Advanced |
| point&#95;radius: | 可用 | Advanced |
| bounding&#95;box: | 可用 | Advanced |
| is:retweet | 可用 | Core |
| is:reply | 可用 | Core |
| is:quote | 可用 | Core |
| is:verified | 可用 | Core |
| -is:nullcast | 可用 | Advanced |
| has:hashtags | 可用 | Core |
| has:cashtags | 可用 | Advanced |
| has:links | 可用 | Core |
| has:mentions | 可用 | Core |
| has:media | 可用 | Core |
| has:images | 可用 | Core |
| has:videos | 可用 | Core |
| has:geo | 可用 | Advanced |
| lang: | 可用 | Core |
| list: |     | Advanced |
| has:profile&#95;geo | 可用 |     |
| profile&#95;country | 可用 |     |
| profile&#95;locality | 可用 |     |
| profile&#95;region | 可用 |     |
| proximity | 可用 |     |

**其他迁移资源**

[X API 迁移中心](/zh/x-api/migrate/overview)

[查看这些端点的一些示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code "查看这些端点的一些示例代码")

[帖子计数：从 Enterprise 迁移到 X API v2](/zh/x-api/posts/counts/migrate/overview)