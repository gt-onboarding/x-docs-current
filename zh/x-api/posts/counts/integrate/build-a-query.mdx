---
title: 构建查询
sidebarTitle: 构建查询
keywords: ["构建计数查询", "计数查询", "计数查询生成器", "计数查询语法", "如何构建计数查询"]
---

<div id="building-a-query">
  #### 构建查询
</div>

**查询限制！**

你的查询将会根据你所使用的[访问级别](/zh/x-api/getting-started/about-x-api)受到限制。

如果你拥有 Pro 访问权限，你的查询长度最多为 512 个字符。

如果你拥有 Enterprise 访问权限，请联系你的客户经理。

**运算符可用性**

虽然大多数运算符对所有开发者都可用，但有一些仅限已获批 Enterprise 访问权限的用户使用。我们在[运算符列表](/zh/x-api/posts/search/integrate/build-a-query)表格中使用以下标签标明每个运算符对应的访问级别：

* 核心运算符：在使用任意[项目](/zh/resources/fundamentals/projects)时可用。
* 高级运算符：在使用具有 Enterprise 访问权限的项目时可用。 
   

<div id="operator-types-standalone-and-conjunction-required">
  #### 运算符类型：可独立使用与需搭配使用
</div>

**可独立使用的运算符（Standalone operators）** 可以单独使用，也可以与任何其他运算符（包括那些需要搭配使用的运算符）一起使用。

例如，下面的查询可以正常工作，因为它使用了可独立使用的 #hashtag 运算符：

#xapiv2

**需搭配使用的运算符（Conjunction-required operators）** 不能在查询中单独使用；只有在查询中至少包含一个可独立使用的运算符时，才能将它们加入查询中。原因是，如果单独使用这些运算符，查询条件会过于宽泛，并且会匹配到数量极其庞大的帖子。

例如，下面的查询不受支持，因为它们只包含需搭配使用的运算符：

has:media
has:links OR is:retweet

如果我们添加一个可独立使用的运算符，例如短语 &quot;X data&quot;，该查询就可以正常工作。

&quot;X data&quot; has:mentions (has:media OR has:links)

<div id="boolean-operators-and-grouping">
  #### 布尔运算符和分组
</div>

如果你想在单个查询中串联多个运算符，可以使用以下工具：

|     |     |
| :--- | :--- |
| **AND 逻辑** | 用空格分隔的连续运算符将产生布尔 “AND” 逻辑，这意味着只有在两个条件都满足时才会匹配帖子。例如，snow day #NoSchool 将匹配同时包含 snow 和 day 这两个词以及话题标签 #NoSchool 的帖子。 |
| **OR 逻辑** | 用 OR 连接的连续运算符将产生 OR 逻辑，这意味着只要任一条件满足就会匹配帖子。例如，指定 grumpy OR cat OR #meme 将匹配包含 grumpy 或 cat 中至少一个关键词，或包含话题标签 #meme 的任意帖子。 |
| **NOT 逻辑，取反** | 在关键词（或任意运算符）前面加上一个短横线 (-) 可以对其取反（NOT）。例如，cat #meme -grumpy 将匹配包含话题标签 #meme 和关键词 cat 的帖子，但前提是这些帖子不包含关键词 grumpy。一个常见的查询子句是 -is:retweet，它不会匹配转推，因此只会匹配原始帖子、引用帖子以及回复。所有运算符都可以被取反，但被取反的运算符不能单独使用。 |
| **分组** | 你可以使用括号将运算符分组。例如，(grumpy cat) OR (#meme has:images) 将返回包含关键词 grumpy 和 cat 的帖子，或包含图像且带有话题标签 #meme 的帖子。注意，先应用 AND，再应用 OR。 |

**关于取反的说明**

运算符 is:nullcast 必须始终以取反形式（-is:nullcast）使用。

被取反的运算符不能单独使用。

不要对一组用括号括起来的运算符整体取反。相反，应对每个单独的运算符取反。例如，不要使用 skiing -(snow OR day OR noschool)，而建议使用 skiing -snow -day -noschool。 

**运算顺序**

当同时使用 AND 和 OR 功能时，以下运算顺序将决定你的查询如何被评估。

1. 先组合通过 AND 逻辑连接的运算符
2. 然后应用通过 OR 逻辑连接的运算符

例如：

* apple OR iphone ipad 将被解析为 apple OR (iphone ipad)
* ipad iphone OR android 将被解析为 (iphone ipad) OR android

为消除不确定性并确保查询按照你的意图被评估，请在合适的地方使用括号将术语分组。 

例如：

* (apple OR iphone) ipad
* iphone (ipad OR android)
   

**标点符号、变音符号和大小写敏感性**

如果你在关键词或话题标签查询中使用了带重音或变音符号的字符，它将匹配帖子文本中既包含带重音或变音符号的词语，也包含对应不带这些符号的词语。例如，使用关键词 Diacrítica 或话题标签 #cumpleaños 的查询，会匹配 *Diacrítica* 或 *#cumpleaños*，也会匹配不带重音符号 í 或 eñe 的 *Diacritica* 或 *#cumpleanos*。

带重音或变音符号的字符与普通字符的处理方式相同，不会被视为词边界。例如，包含关键词 cumpleaños 的查询只会匹配包含单词 *cumpleaños* 的活动，而不会匹配包含 *cumplea*、*cumplean* 或 *os* 的活动。

所有运算符的评估都不区分大小写。例如，查询 cat 将匹配包含以下任一形式的帖子：*cat*、*CAT*、*Cat*。

[filtered stream](/zh/x-api/posts/filtered-stream) 的匹配行为与帖子计数功能不同。当你在[构建 filtered stream 规则](/zh/x-api/posts/filtered-stream#building-rules-for-filtered-stream)时，请注意：包含重音和变音符号的关键词和话题标签只会匹配同样包含重音和变音符号的词语，而不会匹配使用普通字符的对应词语。 

例如，包含关键词 Diacrítica 或话题标签 #cumpleaños 的 filtered stream 规则只会匹配术语 *Diacrítica* 和 *#cumpleaños*，而不会匹配不带重音符号 í 或 eñe 的 *Diacritica* 或 *#cumpleanos*。

**具体性和效率**

当你开始构建查询时，有几件重要的事情需要牢记。

* 一般不建议在查询中仅使用宽泛、单一的运算符，例如单个关键字或 #hashtag，因为这很可能会匹配到海量帖子。构建更严谨的查询可以得到更具体的一组匹配帖子，并有望提高帖子计数的准确性，帮助你获得更有价值的洞察。 
  * 例如，如果你的查询只是关键字 happy，你每天可能会获得 200,000 - 300,000 条帖子。
  * 添加更多条件运算符会缩小结果范围，例如 (happy OR happiness) place&#95;country:GB -birthday -is:retweet
* 编写高效的查询还有助于控制在查询字符长度限制之内。字符数包括整个查询字符串中的所有内容，包括空格和运算符。
  * 例如，下面这个查询长度为 59 个字符：(happy OR happiness) place&#95;country:GB -birthday -is:retweet

**引用帖子匹配行为**

在使用帖子计数端点时，运算符不会匹配被引用的原始帖子的内容，但会匹配引用帖子（Quote Tweet）中包含的内容。

但是，请注意，[filtered stream](/zh/x-api/posts/filtered-stream) 会同时匹配被引用的原始帖子内容和引用帖子本身的内容。
 

**迭代构建查询**

**尽早且频繁地测试你的查询**

第一次就让查询返回“正确”的结果的情况很少见。X 上有大量内容，一开始可能并不明显，而且上文描述的查询语法也可能很难完全贴合你想要的查询。

在构建查询的过程中，重要的一点是要定期使用某个 [Search Post](/zh/x-api/posts/search/introduction) 端点进行测试，确保与你的查询匹配的帖子与你的用例相关。

在本节中，我们将从以下查询开始，并根据测试过程中得到的结果对其进行调整： 

happy OR happiness

**使用结果来收窄查询**

在使用 Search Posts 测试查询时，你应当浏览返回的帖子，查看它们是否包含你期望和希望获得的数据。从一个宽泛的查询和一个帖子匹配的超集开始，可以让你审查结果并收窄查询，以过滤掉不需要的结果。  

当我们测试示例查询时，我们注意到得到了多种不同语言的帖子。在这种情况下，我们只希望收到英文帖子，因此将添加 lang: 运算符：

(happy OR happiness) lang:en

测试返回了许多祝人“生日快乐”的帖子，因此我们将添加 -birthday 作为否定关键字运算符。我们还只希望接收原创帖子，因此又添加了否定运算符 -is:retweet：

(happy OR happiness) lang:en -birthday -is:retweet

**在需要时为包含而调整**

如果你发现通过 Search Posts 没有收到你预期的数据，但你知道存在应该被返回的帖子，那么你可能需要通过移除一些会过滤掉所需数据的运算符来放宽查询。 

在我们的示例中，我们注意到在个人时间线中还有其他表达我们所寻找情绪的帖子，但未包含在测试结果中。为了确保更广的覆盖范围，我们将添加关键字 excited 和 elated。

(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet

**按时间段内的热门趋势/激增进行调整**

趋势在 X 上变化很快。维护查询应当是一个持续的过程。如果你计划长时间使用某个查询，我们建议你定期检查所接收到的数据，以确定是否需要进行任何调整。

在我们的示例中，我们注意到开始收到一些祝人“happy holidays”的帖子。由于我们不希望这些帖子包含在结果中，因此将添加否定关键字 -holidays。

(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet -holidays 

在你充分测试并多次迭代完善查询之后，你就可以开始将其与帖子计数端点一起使用，只接收帖子数量，而不是完整的帖子负载数据。

<div id="adding-a-query-to-your-request">
  #### 将查询添加到请求中
</div>

要将查询添加到请求中，必须使用 `query` 参数。与所有查询参数一样，你必须确保将编写好的查询进行 HTTP 编码。

下面是一个使用 cURL 命令的示例。如果你想使用此命令，请务必将 `$BEARER&#95;TOKEN` 替换为你自己的 [Bearer Token](/zh/resources/fundamentals/authentication#oauth-2-0)：

```
      curl https://api.x.com/2/tweets/counts/recent?query=cat%20has%3Amedia%20-grumpy&tweet.fields=created_at&max_results=100 -H "Authorization: Bearer $BEARER_TOKEN"
```

<div id="query-examples">
  #### 查询示例
</div>

**追踪一场自然灾害**

下面这个查询会匹配来自气象机构和监测站、讨论飓风 Harvey（于 2017 年袭击休斯顿）的原始帖子。

下面是不进行 HTTP 编码时的查询样例：

has:geo (from:NWSNHC OR from:NHC&#95;Atlantic OR from:NWSHouston OR from:NWSSanAntonio OR from:USGS&#95;TexasRain OR from:USGS&#95;TexasFlood OR from:JeffLindner1) -is:retweet

下面是包含 HTTP 编码、查询参数以及最近帖子计数的 URI 时的查询样例：

https://api.x.com/2/tweets/counts/recent?query=-is%3Aretweet%20has%3Ageo%20(from%3ANWSNHC%20OR%20from%3ANHC&#95;Atlantic%20OR%20from%3ANWSHouston%20OR%20from%3ANWSSanAntonio%20OR%20from%3AUSGS&#95;TexasRain%20OR%20from%3AUSGS&#95;TexasFlood%20OR%20from%3AJeffLindner1)

**分析一段对话的情绪倾向**

下面这条规则可用于更好地理解围绕话题标签 *#nowplaying* 展开的对话情绪，但范围仅限于发布在北美地区的帖子。

下面是不进行 HTTP 编码时的两个不同查询（一个用于正向情绪，一个用于负向情绪）的样例：

#nowplaying (happy OR exciting OR excited OR favorite OR fav OR amazing OR lovely OR incredible) (place&#95;country:US OR place&#95;country:MX OR place&#95;country:CA) -horrible -worst -sucks -bad -disappointing

#nowplaying (horrible OR worst OR sucks OR bad OR disappointing) (place&#95;country:US OR place&#95;country:MX OR place&#95;country:CA) -happy -exciting -excited -favorite -fav -amazing -lovely -incredible

下面是包含 HTTP 编码、查询参数以及最近帖子计数的 URI 时的查询样例：

https://api.x.com/2/tweets/counts/recent?query=%23nowplaying%20(happy%20OR%20exciting%20OR%20excited%20OR%20favorite%20OR%20fav%20OR%20amazing%20OR%20lovely%20OR%20incredible)%20(place&#95;country%3AUS%20OR%20place&#95;country%3AMX%20OR%20place&#95;country%3ACA)%20-horrible%20-worst%20-sucks%20-bad%20-disappointing

https://api.x.com/2/tweets/counts/recent?query=%23nowplaying%20(horrible%20OR%20worst%20OR%20sucks%20OR%20bad%20OR%20disappointing)%20(place&#95;country%3AUS%20OR%20place&#95;country%3AMX%20OR%20place&#95;country%3ACA)%20-happy%20-exciting%20-excited%20-favorite%20-fav%20-amazing%20-lovely%20-incredible

**查找与特定 Post 注释相关的帖子**

这条规则用于筛选包含宠物图片（但不是猫）的原始帖子，并且帖子中识别出的语言为日语。为此，我们使用了 `context:` 运算符来利用 [Post annotation](/zh/x-api/fundamentals/post-annotations) 功能。我们首先使用了 [Post lookup](/zh/x-api/posts/lookup/introduction) 端点，以及 `tweet.fields=context_annotations` 字段参数，来确定在查询中需要使用哪些 domain.entity ID：

* 与猫相关的帖子会返回 **domain** 66（“兴趣和爱好”类别），其中 entity 为 852262932607926273（Cats）。
* 与宠物相关的帖子会返回 **domain** 65（“兴趣和爱好”垂直领域），其中 entity 为 852262932607926273（Pets）。

下面是不进行 HTTP 编码时的查询样例：

context:65.852262932607926273 -context:66.852262932607926273 -is:retweet has:images lang:ja

下面是包含 HTTP 编码、查询参数以及最近帖子计数的 URI 时的查询样例：

https://api.x.com/2/tweets/counts/recent?query=context%3A65.852262932607926273%20-context%3A66.852262932607926273%20-is%3Aretweet%20has%3Aimages%20lang%3Aja

<div id="operators">
  #### 运算符
</div>

| 运算符                    | 类型           | 适用范围 | 说明                                                                                                                                                                                                                                                                                                                                                                        |
| :--------------------- | :----------- | :--- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `keyword`              | 独立使用         | 基础   | 在帖子正文中匹配关键字。此运算符采用基于分词的匹配方式，这意味着你的关键字字符串会与帖子正文的分词文本进行比对。分词会根据标点符号、符号以及 Unicode 基本平面中的分隔符字符来拆分单词。例如，一条文本为“I like coca-cola”的帖子会被拆分为以下词元：I、like、coca、cola。随后会将这些词元与你在查询中使用的关键字字符串进行比较。要匹配包含标点（例如 coca-cola）、符号或分隔符字符的字符串，必须用双引号将关键字括起来。示例：`pepsi OR cola OR "coca cola"`                                                                                                    |
| `emoji`                | 独立型          | 核心   | 在帖子正文中匹配表情符号。与关键字一样，表情符号采用分词匹配，这意味着你使用的表情符号会与帖子正文分词后的文本进行匹配。请注意，如果某个表情符号有变体，在将其添加到查询时必须用双引号括起来。示例：`(😃 OR 😡) 😬`                                                                                                                                                                                                                                                         |
| `"exact phrase match"` | 独立型          | 核心   | 匹配帖子正文中的精确短语。示例：`("X API" OR #v2) -"recent counts"`                                                                                                                                                                                                                                                                                                                       |
| `#`                    | 独立型          | 核心   | 匹配任何包含已识别话题标签的帖子（前提是该话题标签在帖子中被识别为实体）。此运算符执行的是精确匹配，而不是基于分词的匹配，这意味着规则 `#thanku` 只会匹配带有完全相同话题标签 #thanku 的帖子，而不会匹配带有话题标签 #thankunext 的帖子。示例：`#thankunext #fanart OR @arianagrande`                                                                                                                                                                                            |
| `@`                    | 独立型          | 核心   | 匹配任何提及指定用户名的帖子，前提是该用户名是已识别的实体（包括 @ 字符）。示例：`(@XDevelopers OR @API) -@X`                                                                                                                                                                                                                                                                                                    |
| `$`                    | 独立型          | 高级   | 匹配任何包含指定“cashtag”的帖子（其中该标记以“$”字符开头）。请注意，cashtag 运算符依赖于 X 的“symbols”实体提取功能来匹配 cashtag，而不是尝试直接从正文中提取 cashtag。示例：`$twtr OR @XDevelopers -$fb`                                                                                                                                                                                                                                |
| `from:`                | 独立型          | 基础   | 匹配来自特定用户的任何帖子。该值可以是用户名（不包括 @ 字符）或该用户的数字形式用户 ID。对于每个 `from:` 运算符，你只能传入一个用户名或一个 ID。示例：`from:XDevelopers OR from:API -from:X`                                                                                                                                                                                                                                                |
| `to:`                  | 独立           | 核心   | 匹配任何回复某个特定用户的帖子。该值可以是用户名（不包括 @ 字符）或该用户的数字 ID。对于每个 `to:` 运算符，你只能传入一个用户名或 ID。示例：`to:XDevelopers OR to:API -to:X`                                                                                                                                                                                                                                                            |
| `url:`                 | 独立型          | 核心   | 对帖子中任何格式合法的 URL 执行基于分词的匹配。此运算符可以匹配 `url` 和 `expanded_url` 字段中的内容。例如，包含 “You should check out X Developer Labs: [https://t.co/c0A36SWil4](https://t.co/c0A36SWil4)” 的帖子（其中短链接重定向到 [https://developer.x.com](https://developer.x.com)）将同时匹配以下两个规则：`from:XDevelopers url:"https://developer.x.com"` 和 `from:XDevelopers url:"https://t.co"`。包含标点符号或特殊字符的 token 和短语应使用双引号括起来。 |
| `retweets_of:`         | 独立型          | 核心   | 匹配对指定用户的转发帖子。该值可以是用户名（不包括 @ 字符）或该用户的数字用户 ID。每个 `retweets_of:` 运算符只能传递一个用户名/ID。示例：`retweets_of:XDevelopers OR retweets_of:API`                                                                                                                                                                                                                                             |
| `context:`             | 独立型          | 核心   | 匹配具有特定 domain id/entity id 成对取值的帖子。对于每个 `context:` 运算符，你只能传入一个 domain/entity。示例：`context:domain_id.entity_id`。你可以使用 OR 运算符将多个 domain/entity 组合在一起：`(context:47.113922 9372198469633 OR context:11.1088514520308342784)`                                                                                                                                                   |
| `entity:`              | 独立型          | 核心   | 匹配具有特定实体字符串值的帖子。每个查询中只能使用一个 `entity:` 运算符。示例：`entity:"实体/地点的字符串声明"`。请注意，这仅在近期搜索中可用。                                                                                                                                                                                                                                                                                       |
| `conversation_id:`     | 独立型          | 核心   | 匹配共享同一会话 ID 的帖子。会话 ID 会被设置为发起该会话的那条帖子的 ID。对该帖子发布回复时（包括对回复的回复），其 JSON 载荷中会添加 `conversation_id`。对于每个 `conversation_id:` 运算符，你只能传入一个会话 ID。示例：`conversation_id:1334987486343299072 (from:XDevelopers OR from:API)`                                                                                                                                                            |
| `list:`                | 独立型          | 高级   | 匹配由指定列表成员用户发布的帖子。例如，如果 @XDevelopers 和 @API 是列表 123 的成员，并且你在查询中包含了 `list:123`，你的响应只会包含由这些账号发布的帖子。你可以使用 List 查找端点来获取 List ID。示例：`list:123`                                                                                                                                                                                                                                  |
| `place:`               | 独立型          | 高级   | 匹配带有指定位置或 X 地点 ID 标记的帖子。由多个词组成的地点名称（“New York City”、“Palo Alto”）应使用引号括起来。每个 `place:` 运算符只能传入一个地点。注意：有关如何获取 X 地点 ID，请参见 GET geo/search 标准版 v1.1 端点。示例：`place:"new york city" OR place:seattle OR place:fd70c22040963ac7`                                                                                                                                                   |
| `place_country:`       | 独立型          | 高级   | 匹配其已标记地点/位置所关联的国家代码与给定 ISO alpha-2 字符代码相同的帖子。你可以在维基百科上找到有效 ISO 代码的列表。每个 `place_country:` 运算符只能提供一个 ISO 代码。示例：`place_country:US OR place_country:MX OR place_country:CA`                                                                                                                                                                                                   |
| `point_radius:`        | 独立使用         | 高级   | 在 `place.geo.coordinates` 对象存在时，会与 Post 的该对象进行匹配，并且在 X 中，会与地点地理多边形进行匹配，当 Place 多边形被完全包含在所定义的区域内时即视为匹配。`point_radius:[longitude latitude radius]`。支持的半径单位为英里（mi）和千米（km）。半径必须小于 25mi。经度范围为 ±180。纬度范围为 ±90。所有坐标均为十进制度数。规则参数包含在方括号中，并以空格分隔。示例：`point_radius:[2.355128 48.861118 16km] OR point_radius:[-41.287336 174.761070 20mi]`                                           |
| `bounding_box:`        | 可单独使用        | 高级   | 当存在时，与帖子的 `place.geo.coordinates` 对象匹配；在 X 中，则与地点的地理多边形匹配，其中地点多边形必须完全位于定义的区域内。`bounding_box:[west_long south_lat east_long north_lat]`。边界框的宽度和高度必须小于 25 英里（25mi）。经度范围为 ±180，纬度范围为 ±90。所有坐标均为十进制度数。规则参数写在方括号内，并以空格分隔。示例：`bounding_box:[-105.301758 39.964069 -105.178505 40.09455]`                                                                                        |
| `is:retweet`           | 需与其他运算符组合使用  | 核心   | 匹配同时满足其余指定规则的转发帖子。此运算符只匹配真正的转发（例如通过“转发”按钮生成的帖子）。引用帖子不会被此运算符匹配。示例：`data @XDevelopers -is:retweet`                                                                                                                                                                                                                                                                          |
| `is:reply`             | 必须与其他运算符配合使用 | 核心   | 仅投放与规则匹配的显式回复。也可以使用否定形式，以排除与查询匹配的回复，不予投放。注意：filtered stream 端点同样支持此运算符。与 filtered stream 搭配使用时，此运算符会匹配对原始帖子的回复、引用帖子中的回复，以及转帖中的回复。示例：`from:XDevelopers is:reply`                                                                                                                                                                                                           |
| `is:quote`             | 需与其他运算符连用    | 核心   | 返回所有引用帖子（Quote Tweets），也称为附带评论的帖子。示例：`"sentiment analysis" is:quote`                                                                                                                                                                                                                                                                                                      |
| `is:verified`          | 需与其他运算符组合使用  | 核心   | 仅返回作者已获 X 认证的帖子。示例：`#nowplaying is:verified`                                                                                                                                                                                                                                                                                                                              |
| `-is :nullcast`        | 需与其他运算符一起使用  | 高级   | 移除仅用于在 ads.x.com 上投放推广且其 `"source":"Twitter for Advertisers (legacy)"` 或 `"source":"Twitter for Advertisers"` 的帖子。此运算符必须以否定形式使用。关于 Nullcasted 帖子的更多信息，请参阅我们的“帖子可用性”页面。示例：`"mobile games" -is:nullcast`                                                                                                                                                                    |
| `has:hashtags`         | 必须与其他运算符组合使用 | 核心   | 匹配至少包含一个话题标签的帖子。示例：`from:XDevelopers -has:hashtags`                                                                                                                                                                                                                                                                                                                       |
| `has:cashtags`         | 需与其他运算符联用    | 高级   | 匹配包含股票代码标签（cashtag）符号的帖子（以 “$” 字符开头，例如 `$tag`）。示例：`#stonks has:cashtags`                                                                                                                                                                                                                                                                                                  |
| `has:links`            | 必须与其他运算符组合使用 | 基础   | 此运算符用于匹配在帖子正文中包含链接和媒体的帖子。示例：`from:XDevelopers announcement has:links`                                                                                                                                                                                                                                                                                                     |
| `has:mentions`         | 需与其他运算符连用    | 核心   | 匹配提及其他 X 用户的帖子。示例：`#nowplaying has:mentions`                                                                                                                                                                                                                                                                                                                              |
| `has:media`            | 必须与其他条件组合使用  | 核心   | 匹配包含媒体对象的帖子，例如由 X 识别的照片、GIF 或视频。不会匹配使用 Periscope 创建的媒体，也不会匹配带有指向其他媒体托管网站链接的帖子。示例：`(kittens OR puppies) has:media`                                                                                                                                                                                                                                                         |
| `has:images`           | 需与其他运算符连用    | 核心   | 匹配包含被识别为图片的 URL 的帖子。示例：`#meme has:images`                                                                                                                                                                                                                                                                                                                                 |
| `has:videos`           | 需与其他条件组合使用   | 核心   | 匹配包含直接上传到 X 的原生 X 视频的帖子。不会匹配使用 Periscope 创建的视频，或带有指向其他视频托管网站链接的帖子。示例：`#icebucketchallenge has:videos`                                                                                                                                                                                                                                                                     |
| `has:geo`              | 需与其他条件组合使用   | 高级   | 匹配包含由 X 用户提供的、特定于帖子的地理位置信息的帖子。该位置信息可以是一个 X place 类型的地点，具有相应的显示名称、地理多边形和其他字段，或在少数情况下，是一个地理经纬度坐标。注意：基于 place（帖子地理位置）进行匹配的运算符只会返回原创帖子的匹配结果。转发帖子不包含任何 place 数据。示例：`recommend #paris has:geo -bakery`                                                                                                                                                                          |
| `lang:`                | 必须与其他运算符连用   | 核心   | 匹配那些已被 X 识别并分类为特定语言的帖子（仅当该帖子确实已被分类时）。需要特别注意的是，每个帖子目前只会被分类为一种语言，因此将多个语言条件使用 AND 运算组合在一起将不会返回任何结果。对于每个 `lang:` 运算符，你只能传递一个 BCP 47 语言标识符。注意：如果无法进行语言分类，则返回结果为 ‘und’（表示未定义）。示例：`recommend #paris lang:en`                                                                                                                                                                     |

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| 阿姆哈拉语: **am** | 德语: **de** | 马拉雅拉姆语: **ml** | 斯洛伐克语: **sk** |
| 阿拉伯语: **ar** | 希腊语: **el** | 迪维希语（马尔代夫语）: **dv** | 斯洛文尼亚语: **sl** |
| 亚美尼亚语: **hy** | 古吉拉特语: **gu** | 马拉地语: **mr** | 索拉尼库尔德语: **ckb** |
| 巴斯克语: **eu** | 海地克里奥尔语: **ht** | 尼泊尔语: **ne** | 西班牙语: **es** |
| 孟加拉语: **bn** | 希伯来语: **iw** | 挪威语: **no** | 瑞典语: **sv** |
| 波斯尼亚语: **bs** | 印地语: **hi** | 奥里亚语: **or** | 他加禄语: **tl** |
| 保加利亚语: **bg** | 拉丁字母印地语: **hi-Latn** | 旁遮普语: **pa** | 泰米尔语: **ta** |
| 缅甸语: **my** | 匈牙利语: **hu** | 普什图语: **ps** | 泰卢固语: **te** |
| 克罗地亚语: **hr** | 冰岛语: **is** | 波斯语: **fa** | 泰语: **th** |
| 加泰罗尼亚语: **ca** | 印度尼西亚语: **in** | 波兰语: **pl** | 藏语: **bo** |
| 捷克语: **cs** | 意大利语: **it** | 葡萄牙语: **pt** | 繁体中文: **zh-TW** |
| 丹麦语: **da** | 日语: **ja** | 罗马尼亚语: **ro** | 土耳其语: **tr** |
| 荷兰语: **nl** | 卡纳达语: **kn** | 俄语: **ru** | 乌克兰语: **uk** |
| 英语: **en** | 高棉语: **km** | 塞尔维亚语: **sr** | 乌尔都语: **ur** |
| 爱沙尼亚语: **et** | 韩语: **ko** | 简体中文: **zh-CN** | 维吾尔语: **ug** |
| 芬兰语: **fi** | 老挝语: **lo** | 信德语: **sd** | 越南语: **vi** |
| 法语: **fr** | 拉脱维亚语: **lv** | 僧伽罗语: **si** | 威尔士语: **cy** |
| 格鲁吉亚语: **ka** | 立陶宛语: **lt** |     |