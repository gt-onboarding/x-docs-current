---
title: 概览
sidebarTitle: 概览
keywords: ["filtered stream migration", "stream migration", "v1.1 to v2 filtered stream", "filtered stream migration guide", "migrate filtered stream"]
---

<div id="comparing-x-apis-filtered-stream-endpoints">
  ## 比较 X API 的 filtered stream 端点
</div>

X API v2 的 filtered stream 端点组正在取代 [standard v1.1 statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter) 和 [PowerTrack API](/zh/x-api/enterprise-gnip-2.0/powertrack-api)。如果你已经有使用旧版本 filtered stream 端点的代码、应用或工具，并且正在考虑迁移到新的 X API v2 端点，那么本对比内容可以帮助你开始迁移。 

请参阅更深入的迁移指南：

[从 Standard v1.1 迁移到 X API v2](x-api/posts/filtered-stream#standard-v1-1-compared-to-x-api-v2)

[从 PowerTrack API 迁移到 X API v2](/zh/x-api/enterprise-gnip-2.0/powertrack-api#powertrack-operators)

下表比较了 X 提供的 filtered stream 端点：
 

| **描述**                                                                                   | **标准版 v1.1**                                                                                                    | **PowerTrack API**                                                                                                                                                                                                                                                                                                                       | **X API v2**                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :--------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 访问条件                                                                                     | X App                                                                                                           | 需要 Enterprise 合同和账号                                                                                                                                                                                                                                                                                                                      | 需要具备开发者账号（[注册](https://developer.x.com/en/portal/petition/essential/basic-info)），以及隶属于某个[项目](/zh/resources/fundamentals/projects)的[X App](/zh/resources/fundamentals/developer-apps)                                                                                                                                                                                                                                                                                               |
| :---                                                                                     | :---                                                                                                            | :---                                                                                                                                                                                                                                                                                                                                     | :---                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 主机域名                                                                                     | ******[https://stream.x.com](https://stream.x.com)******                                                        | ******[https://gnip-stream.x.com](https://gnip-stream.x.com)******                                                                                                                                                                                                                                                                       | ******[https://api.x.com](https://api.x.com)******                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 端点路径                                                                                     | ******1.1/statuses/filter.json******                                                                            | ******/stream/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}.json******<br /><br />******/rules/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}.json ******<br /><br />******/rules/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}/validation.json****** | ******/2/tweets/search/stream******<br /><br />******/2/tweets/search/stream/rules******                                                                                                                                                                                                                                                                                                                                                                                     |
| [身份验证](/zh/resources/fundamentals/authentication)                                           | OAuth 1.0a 用户上下文                                                                                                | HTTP 基本身份验证                                                                                                                                                                                                                                                                                                                              | OAuth 2.0 应用仅模式                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 支持的 HTTP 方法                                                                              | POST                                                                                                            | GET  <br />POST                                                                                                                                                                                                                                                                                                                          | GET  <br />POST                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 必需参数                                                                                     | 在建立连接时通过参数定义规则，且至少包含以下之一：<br /><br />* ******follow******<br />* ******track******<br />* ******locations****** | 流式连接不需要必填参数，可选提供回填参数。<br /><br />规则单独管理                                                                                                                                                                                                                                                                                                  | 流式连接无需必需参数，可选参数用于定义响应格式，并为 Academic Research 访问添加[回填恢复功能](/zh/x-api/posts/filtered-stream#recovering-missed-data-after-a-disconnection-backfill)。<br /><br />规则单独管理                                                                                                                                                                                                                                                                                                             |
| 传输方式                                                                                     | 流式                                                                                                              | 流式传输<br /><br />REST（用于管理规则）                                                                                                                                                                                                                                                                                                             | 流式传输<br /><br />REST（用于规则管理）                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 默认请求速率限制                                                                                 | 每 5 分钟最多可发起 5 次连接尝试                                                                                             | 每分钟 60 个请求，POST 和 GET 请求合并统计<br /><br />/rules：每分钟 60 个请求，针对该特定流 API 的 /rules 端点的所有请求（POST 和 GET）合并统计。                                                                                                                                                                                                                                   | 取决于具体的端点和[访问级别](/zh/x-api/getting-started/about-x-api)。<br /><br />[GET /2/tweets/search/stream](/zh/x-api/posts/filtered-stream#get-2-tweets-search-stream)：  <br />Pro - 每个应用每 15 分钟最多 50 次请求<br /><br />[GET /2/tweets/search/stream/rules](/zh/x-api/posts/filtered-stream#get-2-tweets-search-stream-rules)：  <br />Pro - 每个应用每 15 分钟最多 450 次请求<br /><br />---<br /><br />[POST /2/tweets/search/stream/rules](/zh/x-api/posts/adddelete-rules)：  <br />Pro - 每个应用每 15 分钟最多 100 次请求 |
| 最大允许连接数                                                                                  | 每个授权用户最多 2 个并发连接                                                                                                | 支持多条/冗余连接，具体数量以合同约定为准                                                                                                                                                                                                                                                                                                                    | Pro 访问级别：  <br />1                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [恢复与冗余特性](/zh/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features) | 无                                                                                                               | 回补、冗余连接和 Replay API                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [帖子上限](/zh/x-api/fundamentals/post-cap)                                                     | 最多为 Firehose 全量流的 1%                                                                                            | 由合同约定                                                                                                                                                                                                                                                                                                                                    | 对于从此端点接收的所有帖子，会应用按月计算的项目级帖子上限：<br /><br />Basic：<br />10,000 帖子<br /><br />Pro：<br />100 万帖子                                                                                                                                                                                                                                                                                                                                                                                 |
| 保活信号/心跳信号                                                                                | 空行（\r\n 或类似），至少每 20 秒一次                                                                                         | 空白行（\r\n 或类似），每 10 秒一次                                                                                                                                                                                                                                                                                                                   | 空行（\r\n 或类似），至少每 20 秒一次                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 延迟                                                                                       | 10 秒                                                                                                            | 2 秒<br /><br />URL 解包富化至少 10 秒                                                                                                                                                                                                                                                                                                           | 10 秒                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 规则数量上限                                                                                   | 1 条规则（在端点连接请求中）                                                                                                 | 由合同约定，上限为 250,000 条规则                                                                                                                                                                                                                                                                                                                    | Pro 级访问：  <br />1000 条规则                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 过滤规则限制                                                                                   | 每个连接仅支持一个查询，且最多可包含以下其中一项：<br /><br />- 400 个跟踪关键字<br /><br />- 5000 个关注的用户 ID<br /><br />- 25 个位置框              | 单条规则最长 2,048 个字符                                                                                                                                                                                                                                                                                                                         | Pro 访问：   <br />每条规则最多 1,024 个字符                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [帖子 JSON 格式](/zh/x-api/fundamentals/data-dictionary)                                        | Standard v1.1 格式                                                                                                | [Native Enriched](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-tweet-object) 或 [Activity Streams]()（可在[控制台](/zh/x-api/enterprise-gnip-2.0/fundamentals/overview)中选择）                                                                                                                                             | [X API v2 格式](/zh/x-api/fundamentals/data-dictionary)（由 ******fields****** 和 ******expansions****** 请求参数决定，与 v1.1 格式不向后兼容）<br /><br />要进一步了解如何从 Standard v1.1 格式迁移到 X API v2 格式，请参阅我们的[数据格式迁移指南](/zh/x-api/migrate/data-format-migration)。我们将很快推出针对 Native Enriched 和 Activity Streams 的更多数据格式迁移指南。                                                                                                                                                                                |
| 提供帖子编辑历史记录和元数据                                                                           | ✔                                                                                                               | ✔                                                                                                                                                                                                                                                                                                                                        | ✔                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 独特功能                                                                                     | 通过在建立连接的请求中使用查询参数进行过滤<br /><br />没有配置界面                                                                         | 通过在独立端点创建规则实现过滤<br /><br />[Enrichment](/zh/x-api/enterprise-gnip-2.0/enterprise-gnip#enrichments) 功能可在合同中提供<br /><br />通过 console.gnip.com 界面进行配置                                                                                                                                                                                          | 通过在独立端点创建的[规则](/zh/x-api/posts/filtered-stream/integrate/build-a-rule)进行过滤<br /><br />包括[指标](/zh/x-api/fundamentals/metrics)和 URL 富化功能<br /><br />对象的[字段](/zh/x-api/fundamentals/fields)和[扩展字段](/zh/x-api/fundamentals/expansions)通过请求参数指定<br /><br />帖子[注解](/zh/x-api/fundamentals/post-annotations)<br /><br />[会话 ID](/zh/x-api/fundamentals/conversation-id)运算符和字段<br /><br />通过[开发者门户](/zh/resources/fundamentals/developer-portal)进行配置                                                      |

**其他迁移资源**

[从标准 v1.1 迁移到 X API v2](/zh/x-api/posts/filtered-stream#standard-v1-1-compared-to-x-api-v2 "从标准 v1.1 迁移到 X API v2")

[从 PowerTrack API 迁移到 X API v2](/zh/x-api/enterprise-gnip-2.0/powertrack-api#powertrack-operators "从 PowerTrack API 迁移到 X API v2")

[X API 迁移中心](/zh/x-api/migrate/overview)

[查看这些端点的示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code "查看这些端点的示例代码")