---
title: 概览
sidebarTitle: 概览
keywords: ["filtered stream 迁移", "stream 迁移", "v1.1 到 v2 filtered stream", "filtered stream 迁移指南", "迁移 filtered stream"]
---

<div id="comparing-x-apis-filtered-stream-endpoints">
  ## 比较 X API 的过滤流端点
</div>

v2 过滤流端点组将取代 [标准 v1.1 statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter) 和 [PowerTrack API](/zh/x-api/enterprise-gnip-2.0/powertrack-api)。如果你有使用旧版过滤流端点的代码、应用或工具，并且正在考虑迁移到更新的 X API v2 端点，那么本比较内容可以帮助你开始上手。 

更深入的迁移指南请参阅：

[从标准 v1.1 迁移到 X API v2](x-api/posts/filtered-stream#standard-v1-1-compared-to-x-api-v2)

[从 PowerTrack API 迁移到 X API v2](/zh/x-api/enterprise-gnip-2.0/powertrack-api#powertrack-operators)

下表比较了 X 提供的过滤流端点：
 

| **说明**                                                                                   | **Standard v1.1**                                                                                               | **PowerTrack API**                                                                                                                                                                                                                                                                                                                       | **X API v2**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :--------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 访问条件                                                                                     | X App                                                                                                           | 需要 Enterprise 合同和账户                                                                                                                                                                                                                                                                                                                      | 需要拥有开发者账号（[注册](https://developer.x.com/en/portal/petition/essential/basic-info)），以及隶属于某个[项目](/zh/resources/fundamentals/projects)的 [X App](/zh/resources/fundamentals/developer-apps)                                                                                                                                                                                                                                                                                                                     |
| :---                                                                                     | :---                                                                                                            | :---                                                                                                                                                                                                                                                                                                                                     | :---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 主域名                                                                                      | ******[https://stream.x.com](https://stream.x.com)******                                                        | ******[https://gnip-stream.x.com](https://gnip-stream.x.com)******                                                                                                                                                                                                                                                                       | ******[https://api.x.com](https://api.x.com)******                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 端点路径                                                                                     | ******1.1/statuses/filter.json******                                                                            | ******/stream/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}.json******<br /><br />******/rules/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}.json ******<br /><br />******/rules/powertrack/accounts/{gnip_account_name}/publishers/twitter/{stream_label}/validation.json****** | ******/2/tweets/search/stream******<br /><br />******/2/tweets/search/stream/rules******                                                                                                                                                                                                                                                                                                                                                                                                            |
| [身份验证](/zh/resources/fundamentals/authentication)                                           | OAuth 1.0a 用户上下文                                                                                                | HTTP 基本认证                                                                                                                                                                                                                                                                                                                                | OAuth 2.0 应用仅模式                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 支持的 HTTP 方法                                                                              | POST                                                                                                            | GET  <br />POST                                                                                                                                                                                                                                                                                                                          | GET  <br />POST                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 必需参数                                                                                     | 在建立连接时需通过参数定义规则，至少包含以下之一：<br /><br />* ******follow******<br />* ******track******<br />* ******locations****** | 流式连接没有必需参数，可选使用回填参数。<br /><br />规则单独管理                                                                                                                                                                                                                                                                                                   | 流式连接无必需参数，可通过可选参数定义响应格式，并为 Academic Research 访问添加[回填恢复功能](/zh/x-api/posts/filtered-stream#recovering-missed-data-after-a-disconnection-backfill)。<br /><br />规则单独管理                                                                                                                                                                                                                                                                                                                                    |
| 传输方式                                                                                     | 流式                                                                                                              | 流式<br /><br />REST（用于管理规则）                                                                                                                                                                                                                                                                                                               | 流式传输<br /><br />REST（用于规则管理）                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 默认请求速率限制                                                                                 | 每 5 分钟最多 5 次连接尝试                                                                                                | 每分钟最多 60 次请求，POST 和 GET 请求合并计算<br /><br />/rules：每分钟最多 60 次请求，针对该特定流的 API 的 /rules 端点的所有请求（POST 和 GET）合并计算。                                                                                                                                                                                                                              | 取决于所使用的端点和[访问级别](/zh/x-api/getting-started/about-x-api)。<br /><br />[GET /2/tweets/search/stream](/zh/x-api/posts/filtered-stream#get-2-tweets-search-stream)：  <br />Pro - 每个应用每 15 分钟 50 次请求<br /><br />[GET /2/tweets/search/stream/rules](/zh/x-api/posts/filtered-stream#get-2-tweets-search-stream-rules)：  <br />Pro - 每个应用每 15 分钟 450 次请求<br /><br />---<br /><br />[POST /2/tweets/search/stream/rules](/zh/x-api/posts/adddelete-rules)：  <br />Pro - 每个应用每 15 分钟 100 次请求                             |
| 允许的最大连接数                                                                                 | 每个已授权用户最多可有 2 个并发连接                                                                                             | 支持多个/冗余连接，具体由合同约定                                                                                                                                                                                                                                                                                                                        | Pro 访问级别:  <br />1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [恢复与冗余功能](/zh/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features) | 无                                                                                                               | 回补、冗余连接和 Replay API                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [帖子数量上限](/zh/x-api/fundamentals/post-cap)                                                   | 限制为 Firehose 流量的 1%                                                                                             | 根据合同约定                                                                                                                                                                                                                                                                                                                                   | 此端点接收的所有帖子都受按月计算的项目级帖子上限约束：<br /><br />Basic：<br />10,000 条帖子<br /><br />Pro：<br />100 万条帖子                                                                                                                                                                                                                                                                                                                                                                                                         |
| 保活信号/心跳包                                                                                 | 至少每 20 秒发送一次空行（\r\n 或类似）                                                                                        | 每 10 秒发送一个空行 (\r\n 或类似)                                                                                                                                                                                                                                                                                                                  | 空行（\r\n 或类似），至少每 20 秒一次                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 延迟                                                                                       | 10 秒                                                                                                            | 2 秒<br /><br />URL 展开富化处理的延迟至少为 10 秒                                                                                                                                                                                                                                                                                                     | 10 秒                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 规则数量上限                                                                                   | 1 条规则（在端点连接请求内）                                                                                                 | 根据合同约定，上限为 250,000 条                                                                                                                                                                                                                                                                                                                     | Pro 访问权限:  <br />1000 条规则                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 过滤规则限制                                                                                   | 每个连接仅允许一个查询，且上限为以下三者之一：<br /><br />- 400 个跟踪关键字<br /><br />- 5000 个关注的用户 ID<br /><br />- 25 个位置框                | 每条规则最多 2,048 个字符                                                                                                                                                                                                                                                                                                                         | Pro 访问权限：   <br />每条规则最多 1,024 个字符                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [Post 对象 JSON 格式](/zh/x-api/fundamentals/data-dictionary)                                   | Standard v1.1 格式                                                                                                | [Native Enriched](/zh/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-tweet-object) 或 [Activity Streams]()（在 [控制台](/zh/x-api/enterprise-gnip-2.0/fundamentals/overview) 中选择）                                                                                                                                            | [X API v2 格式](/zh/x-api/fundamentals/data-dictionary)（由 ******fields****** 和 ******expansions****** 请求参数控制，与 v1.1 格式不兼容）<br /><br />如需了解如何从 Standard v1.1 格式迁移到 X API v2 格式，请参阅我们的[数据格式迁移指南](/zh/x-api/migrate/data-format-migration)。我们很快还将发布针对 Native Enriched 和 Activity Streams 的其他数据格式迁移指南。                                                                                                                                                                                                          |
| 提供帖子编辑历史记录和元数据                                                                           | ✔                                                                                                               | ✔                                                                                                                                                                                                                                                                                                                                        | ✔                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 独有特性                                                                                     | 在连接请求中通过查询参数进行过滤<br /><br />没有配置界面                                                                              | 通过在独立端点创建规则进行过滤<br /><br />[Enrichment](/zh/x-api/enterprise-gnip-2.0/enterprise-gnip#enrichments) 功能可按合同约定提供<br /><br />通过 console.gnip.com 界面进行配置                                                                                                                                                                                         | 通过在独立端点中创建的[rules](/zh/x-api/posts/filtered-stream/integrate/build-a-rule) 规则进行过滤<br /><br />包含[Metrics](/zh/x-api/fundamentals/metrics) 指标和 URL 富化功能<br /><br />通过请求参数指定对象[fields](/zh/x-api/fundamentals/fields) 字段和 [expansions](/zh/x-api/fundamentals/expansions) 扩展字段<br /><br />Post [Annotations](/zh/x-api/fundamentals/post-annotations) 注释<br /><br />[Conversation ID](/zh/x-api/fundamentals/conversation-id) 运算符和字段<br /><br />通过[developer portal](/zh/resources/fundamentals/developer-portal) 开发者门户进行配置 |

**其他迁移资源**

[标准 v1.1 迁移到 X API v2](/zh/x-api/posts/filtered-stream#standard-v1-1-compared-to-x-api-v2 "标准 v1.1 迁移到 X API v2")

[PowerTrack API 迁移到 X API v2](/zh/x-api/enterprise-gnip-2.0/powertrack-api#powertrack-operators "PowerTrack API 迁移到 X API v2")

[X API 迁移资源中心](/zh/x-api/migrate/overview)

[查看这些端点的示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code "查看这些端点的示例代码")