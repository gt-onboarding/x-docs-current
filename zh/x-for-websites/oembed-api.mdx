---
title: oEmbed API
description: "oEmbed API 会以兼容 [oEmbed](http://oembed.com/) 的格式返回简单的嵌入 HTML。"
mode: wide
keywords: ["oEmbed", "oEmbed API", "嵌入 API", "嵌入帖子", "嵌入内容", "oEmbed 格式", "嵌入 HTML"]
---

你可以使用 oEmbed API 以编程方式获取嵌入内容，例如 [帖子](https://developer.x.com/en/docs/twitter-for-websites/embedded-tweets/overview) 和 [时间线](https://developer.x.com/en/docs/twitter-for-websites/timelines/overview)。 

oEmbed API 的响应会返回一段 HTML 代码片段，当[在页面中包含 X 的 widget JavaScript 时](https://developer.x.com/web/javascript/loading)，该片段会被自动识别。

请注意，该 API 建议用于批量执行任务，而在嵌入内容时，我们建议你使用功能强大的 [publish.x.com](https://publish.x.com/#) 工具。

<Tabs>
  <Tab title="嵌入时间线">
    当页面中[包含 X 的小部件 JavaScript](https://developer.x.com/web/javascript/loading) 时，返回的 HTML 代码片段会被自动识别为[嵌入式时间线](https://developer.x.com/en/docs/twitter-for-websites/timelines/overview)。

    oEmbed 端点允许你通过在 HTML 标记中设置相应属性（这些属性将由默认随 HTML 响应一起返回的 X JavaScript 进行解析）来自定义嵌入式时间线的最终外观。随着 X 添加新功能或调整其时间线呈现方式，返回标记的格式可能会随时间发生变化。

    对于通过时间线 URL 指定的 X 时间线，将以兼容 [oEmbed](https://oembed.com/) 的 JSON 格式返回。支持用户时间线和列表时间线。时间线标记应在你的服务器上缓存，最长不超过 `cache&#95;age` 属性指定的建议缓存生存期。

    ## 资源 URL

    *[https://publish.x.com/oembed](https://publish.x.com/oembed)*

    ## 资源信息

    |         |      |
    | :------ | :--- |
    | 响应格式    | JSON |
    | 需要身份验证？ | 否    |
    | 有速率限制   | 否    |

    ## 参数

    | 名称              | 描述                                                                                                                                                                                                                    | 示例                                                                                                                                                             |
    | :-------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | **url**         | 要嵌入的 X 时间线的 URL                                                                                                                                                                                                       | *   [https://x.com/TwitterDev](https://x.com/TwitterDev)<br /> *[https://x.com/TwitterDev/lists/national-parks](https://x.com/TwitterDev/lists/national-parks) |
    | limit           | 显示最多 N 条内容，其中 N 为 1 到 20（含）之间的值                                                                                                                                                                                       | 6                                                                                                                                                              |
    | maxwidth        | 设置小部件的最大宽度。必须在 180 到 1200（含）之间                                                                                                                                                                                        | 300                                                                                                                                                            |
    | maxheight       | 设置小部件的最大高度。必须大于 200                                                                                                                                                                                                   | 400                                                                                                                                                            |
    | omit&#95;script | 在响应中不包含 `script` 元素                                                                                                                                                                                                   | 1                                                                                                                                                              |
    | lang            | 一个受支持的 X [语言代码](/zh/en/docs/twitter-for-websites/twitter-for-websites-supported-languages/overview "Twitter language code")                                                                                              | es                                                                                                                                                             |
    | theme           | 设置为 `dark` 时，时间线会以浅色文字配深色背景的形式显示                                                                                                                                                                                      | dark                                                                                                                                                           |
    | chrome          | 使用以空格分隔的标记移除时间线的显示组件<br /><br />*   `noheader` - 隐藏页眉<br />*   `nofooter` - 隐藏页脚（如果可见）<br />*   `noborders` - 移除所有边框：小部件外框、帖子之间以及单个帖子内部的边框<br />*   `noscrollbar` - 裁剪并隐藏时间线滚动条（如果可见）<br />*   `transparent` - 移除背景颜色 | noheader%20nofooter                                                                                                                                            |
    | aria&#95;polite | 为添加到时间线中的帖子设置一个更高优先级的 [ARIA 实时区域礼貌性](https://www.w3.org/TR/wai-aria/states_and_properties#aria-live) 值                                                                                                                | assertive                                                                                                                                                      |
    | dnt             | 设置为 `true` 时，你网站上的时间线及其嵌入页面不会用于包括[个性化推荐](https://support.x.com/articles/20169421)和[个性化广告](https://support.x.com/articles/20170405)在内的用途                                                                               | true                                                                                                                                                           |

    ## 示例请求

    ```bash
    curl --request GET --url 'https://publish.x.com/oembed?url=https%3A%2F%2Ftwitter.com%2FInterior%2Fstatus%2F507185938620219395'
    twurl -H publish.x.com "/oembed?url=https://x.com/Interior/status/463440424141459456"
    ```

    ## 示例响应

    ```json

    {
      "url": "https://x.com/TwitterDev",
      "title": "",
      "html": "<a class=\"twitter-timeline\" href=\"https://x.com/TwitterDev\">TwitterDev 的帖子</a>\n<script async src=\"//platform.x.com/widgets.js\" charset=\"utf-8\"></script>",
      "width": null,
      "height": null,
      "type": "rich",
      "cache_age": "3153600000",
      "provider_name": "Twitter",
      "provider_url": "https://x.com",
      "version": "1.0"
    }
    ```
  </Tab>

  <Tab title="嵌入式帖子">
    当[页面中包含 X 的小部件 JavaScript](https://developer.x.com/web/javascript/loading) 时,返回的 HTML 代码段将自动被识别为[嵌入式帖子](https://developer.x.com/web/embedded-tweets)。

    oEmbed 端点允许通过在 HTML 标记中设置相应属性来自定义嵌入式帖子的最终外观,这些属性默认由与 HTML 响应捆绑的 X JavaScript 解释。随着 X 添加新功能或调整其帖子表示方式,返回标记的格式可能会随时间发生变化。

    帖子回退标记应缓存在您的服务器上,缓存时长不超过 `cache_age` 属性所指定的建议缓存生命周期。

    ## 资源 URL

    *[https://publish.x.com/oembed](https://publish.x.com/oembed)*

    ## 资源信息

    |         |      |
    | :------ | :--- |
    | 响应格式    | JSON |
    | 是否需要认证？ | 否    |
    | 有速率限制   | 否    |

    ## 参数

    | 名称                                                                                                                             | 默认值     | 说明                                                                                                                                                                                                                                       |
    | :----------------------------------------------------------------------------------------------------------------------------- | :------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | `url`必填  <br />字符串                                                                                                             |         | 要嵌入的帖子的网址                                                                                                                                                                                                                                |
    | `maxwidth`  <br />Int `[220..550]`                                                                                             | `325`   | 渲染后帖子内容的最大宽度（单位为整像素）。如果提供的值低于或高于允许范围，将分别按支持的最小或最大宽度返回；调整后的宽度值会体现在返回的 `width` 属性中。请注意，X 不支持 oEmbed 的 `maxheight` 参数。帖子本质上是文本，因此其高度不可预期，不能像图像或视频那样按比例缩放。相应地，oEmbed 响应不会提供 `height` 的值。需要帖子高度保持一致的集成应参考下方的 `hide_thread` 和 `hide_media` 参数。 |
    | `hide_media`  <br />Boolean、String 或 Int                                                                                       | `false` | 当设置为 `true`、`"t"` 或 `1` 时，帖子中的链接不会展开显示为照片、视频或链接预览。                                                                                                                                                                                       |
    | `hide_thread`  <br />布尔值、字符串或 Int                                                                                              | `false` | 当设置为 `true`、`"t"` 或 `1` 时，如果请求的帖子是对另一条帖子的回复，对话串中上一条帖子的折叠版本将不会显示。                                                                                                                                                                         |
    | `omit_script`  <br />布尔、字符串或整数                                                                                                 | `false` | 当设置为 `true`、`"t"` 或 `1` 时，用于加载 `widgets.js` 的 `<script>` 脚本将不会在响应中返回。你的网页应自行引入 `widgets.js`，以便在所有 X 小组件（包括[嵌入式帖子](https://developer.x.com/web/embedded-tweets)）中使用。                                                                      |
    | `align`  <br />枚举值 `{left,right,center,none}`                                                                                  | `none`  | 指定嵌入的帖子在页面中相对于父元素是左对齐、右对齐还是居中。                                                                                                                                                                                                           |
    | `lang`  <br />枚举（[语言](https://developer.x.com/en/docs/twitter-for-websites/twitter-for-websites-supported-languages/overview)） | `en`    | 请求会返回使用指定的 [嵌入式帖子所支持的 X 语言](https://developer.x.com/web/overview/languages) 的 HTML 和渲染后的帖子。                                                                                                                                              |
    | `theme`  <br />枚举类型 `{light, dark}`                                                                                            | `light` | 将其设置为 `dark` 时，帖子将以浅色文字配深色背景显示。                                                                                                                                                                                                          |
    | `dnt`  <br />布尔值                                                                                                               | `false` | 将其设置为 `true` 后，你网站上的该帖子及其嵌入页面将不会用于包括[个性化推荐](https://support.x.com/articles/20169421)和[个性化广告](https://support.x.com/articles/20170405)在内的目的。                                                                                              |

    ## 请求示例

    ```bash
    curl --request GET --url 'https://publish.x.com/oembed?url=https%3A%2F%2Ftwitter.com%2Ftwiterdev'
    twurl -H publish.x.com "/oembed?url=https://x.com/TwitterDev"
    ```

    ## 示例响应

    ```json
    {
      "url": "https:\/\/twitter.com\/Interior\/status\/463440424141459456",
      "author_name": "美国内政部",
      "author_url": "https:\/\/twitter.com\/Interior",
      "html": "<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">没有比这更美的日落了 <a href=\"https:\/\/twitter.com\/GrandTetonNPS?ref_src=twsrc%5Etfw\">@GrandTetonNPS<\/a>. <a href=\"https:\/\/twitter.com\/hashtag\/nature?src=hash&amp;ref_src=twsrc%5Etfw\">#nature<\/a> <a href=\"https:\/\/twitter.com\/hashtag\/sunset?src=hash&amp;ref_src=twsrc%5Etfw\">#sunset<\/a> <a href=\"http:\/\/t.co\/YuKy2rcjyU\">pic.x.com\/YuKy2rcjyU<\/a><\/p>&mdash; 美国内政部 (@Interior) <a href=\"https:\/\/twitter.com\/Interior\/status\/463440424141459456?ref_src=twsrc%5Etfw\">2014年5月5日<\/a><\/blockquote>\n<script async src=\"https:\/\/platform.x.com\/widgets.js\" charset=\"utf-8\"><\/script>\n",
      "width": 550,
      "height": null,
      "type": "rich",
      "cache_age": "3153600000",
      "provider_name": "X",
      "provider_url": "https:\/\/twitter.com",
      "version": "1.0"
    }
    ```
  </Tab>
</Tabs>