---
title: "ActivityClient"
sidebarTitle: "ActivityClient"
---

此模块提供一个用于与 X API 的 activity 端点交互的客户端。
实时流式操作会返回生成器对象，在数据到达时依次产出数据。
流式连接将自动管理，并使用指数退避重试策略来实现健壮的处理。

<div id="activityclient">
  ## ActivityClient
</div>

<Badge color="blue">类</Badge>

<Badge color="gray">继承自：object</Badge>

用于处理 activity 相关操作的流式 Client

<div id="constructors">
  ## 构造函数
</div>

<div id="__init__">
  ### `__init__`
</div>

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.client" type="Client"></ParamField>

<div id="create_subscription">
  ### `create_subscription`
</div>

创建 X 活动事件订阅
为 X 活动事件创建一个订阅
body: 请求正文
:returns: 响应数据
:rtype: CreateSubscriptionResponse

<div id="parameters">
  #### 参数
</div>

<ParamField path="body.body" type="CreateSubscriptionRequest"></ParamField>

<div id="delete_subscription">
  ### `delete_subscription`
</div>

删除 X 活动订阅
删除某个 X 活动事件的订阅

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.subscription_id" type="Any">
要删除的订阅 id。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`DeleteSubscriptionResponse` - 响应数据

<div id="get_subscriptions">
  ### `get_subscriptions`
</div>

获取 X 账号活动的订阅
获取 XAA 当前有效订阅的列表
:returns: 响应数据
:rtype: GetSubscriptionsResponse

#### 返回

`GetSubscriptionsResponse`

<div id="stream">
  ### `stream`
</div>

Activity Stream（流式）
X 活动流
这是一个流式端点，会在数据可用时实时输出数据。
每个输出的项都代表该流中的一个数据点。
连接由 SDK 自动管理，并使用指数退避重试策略。
如果流连接断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求的回填时长（分钟）。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。自该时间起将提供帖子标签的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。自该时间起将提供帖子标签的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时和回调。
</ParamField>

<div id="update_subscription">
  ### `update_subscription`
</div>

更新 X 活动订阅
更新 X 活动事件的订阅

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.subscription_id" type="Any">
要更新的订阅的 ID。
</ParamField>

<ParamField path="body.body" type="UpdateSubscriptionRequest">
请求正文
</ParamField>