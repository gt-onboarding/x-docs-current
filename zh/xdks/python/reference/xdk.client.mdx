---
title: "Client"
sidebarTitle: "Client"
---

该模块提供用于与 X API 交互的主要 Client 类。
它负责协调所有子 Client，并处理身份验证、会话管理和 OAuth 2.0 PKCE 流程。
所有功能均基于 OpenAPI 规范生成。

<div id="client">
  ## Client
</div>

<Badge color="blue">类</Badge>

<Badge color="gray">基类：object</Badge>

| None = None)

用于与 X API 交互的 Client 类。

<div id="constructors">
  ## 构造函数
</div>

<div id="__init__">
  ### `__init__`
</div>

初始化 X API 的 Client。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.base_url" type="str" default="'https://api.x.com'">
X API 的基础 URL（默认为 [https://api.x.com](https://api.x.com)）。
</ParamField>

<ParamField path="path.bearer_token" type="str or None" default="None">
用于 X API 的 Bearer Token（仅应用级认证）。
</ParamField>

<ParamField path="path.access_token" type="str or None" default="None">
用于用户上下文的 OAuth2 访问令牌（可直接作为 Bearer Token 使用）。
</ParamField>

<ParamField path="path.client_id" type="str or None" default="None">
用于 X API 的 client ID（OAuth2 PKCE 流程所必需）。
</ParamField>

<ParamField path="path.client_secret" type="str or None" default="None">
用于 X API 的 client secret。
</ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None">
用于 OAuth2 授权的重定向 URI。
</ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None">
现有的 OAuth2 token 字典（如有）。如果提供，将从中提取 access_token。
</ParamField>

<ParamField path="path.scope" type="str or List[str] or None" default="None">
用于指定 OAuth2 授权范围（scope）的参数，可以是以空格分隔的字符串或字符串列表。
</ParamField>

<ParamField path="path.authorization_base_url" type="str" default="'https://x.com/i'">
OAuth2 授权的基础 URL（默认为 [https://x.com/i](https://x.com/i)）。
</ParamField>

<ParamField path="path.auth" type="OAuth1">
用于 OAuth1.0a 认证的 OAuth1 实例。
</ParamField>

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.base_url" type="str" default="'https://api.x.com'"></ParamField>

<ParamField path="path.bearer_token" type="str or None" default="None"></ParamField>

<ParamField path="path.access_token" type="str or None" default="None"></ParamField>

<ParamField path="path.client_id" type="str or None" default="None"></ParamField>

<ParamField path="path.client_secret" type="str or None" default="None"></ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None"></ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None"></ParamField>

<ParamField path="path.scope" type="str or List[str] or None" default="None"></ParamField>

<ParamField path="path.authorization_base_url" type="str" default="'https://x.com/i'"></ParamField>

<ParamField path="path.auth" type="OAuth1"></ParamField>

<div id="exchange_code">
  ### `exchange_code`
</div>

使用授权码换取令牌（与 TypeScript API 保持一致）。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.code" type="Any">
回调返回的授权码。
</ParamField>

<ParamField path="path.code_verifier" type="Any" default="None">
可选的 code verifier（如果未提供，则使用已存储的 code verifier）。
</ParamField>

<div id="fetch_token">
  ### `fetch_token`
</div>

使用授权响应 URL 来获取 token（旧方法）。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.authorization_response" type="Any">
授权完成后收到的完整回调 URL。
</ParamField>

<div id="get_authorization_url">
  ### `get_authorization_url`
</div>

获取用于 OAuth 2.0 PKCE 流程的授权 URL。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.state" type="Any" default="None">
用于安全目的的可选 state 参数。
</ParamField>

<div id="is_token_expired">
  ### `is_token_expired`
</div>

检查 OAuth2 令牌是否已过期。

<div id="refresh_token">
  ### `refresh_token`
</div>

刷新 OAuth2 令牌。