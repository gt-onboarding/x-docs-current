---
title: "oauth1_auth"
sidebarTitle: "oauth1_auth"
---

此模块提供 OAuth 1.0a 身份验证功能，用于安全的授权流程。包括请求令牌生成、授权 URL 生成、访问令牌交换，以及 OAuth 1.0a 签名生成。

<div id="class-xdkoauth1_authoauth1">
  ### `class xdk.oauth1_auth.OAuth1`
</div>

X API 的 OAuth1 认证处理器。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.api_key" type="str"></ParamField>

<ParamField path="path.api_secret" type="str"></ParamField>

<ParamField path="path.callback" type="str"></ParamField>

<ParamField path="path.access_token" type="str or None" default="None"></ParamField>

<ParamField path="path.access_token_secret" type="str or None" default="None"></ParamField>

<div id="__init__">
  ### `__init__`
</div>

初始化 OAuth1 身份验证。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.api_key" type="str">
API Key（Consumer Key）。
</ParamField>

<ParamField path="path.api_secret" type="str">
API Secret（Consumer Secret）。
</ParamField>

<ParamField path="path.callback" type="str">
用于 OAuth 流程的回调 URL。
</ParamField>

<ParamField path="path.access_token" type="str or None" default="None">
访问令牌（如果已获取）。
</ParamField>

<ParamField path="path.access_token_secret" type="str or None" default="None">
访问令牌密钥（如果已获取）。
</ParamField>

<div id="build_request_header">
  ### `build_request_header`
</div>

为 API 请求生成 OAuth1 授权请求头。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.method" type="str">
HTTP 方法（GET、POST 等）。
</ParamField>

<ParamField path="path.url" type="str">
请求 URL（可包含查询参数）。
</ParamField>

<ParamField path="body.body" type="str" default="''">
请求体（表单编码字符串或为空字符串）。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`str`

<div id="get_access_token">
  ### `get_access_token`
</div>

使用 verifier 换取访问令牌。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.verifier" type="str">
从回调或 PIN 获取的 OAuth verifier。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`OAuth1AccessToken`

<div id="get_authorization_url">
  ### `get_authorization_url`
</div>

获取 OAuth1 授权流程的授权 URL。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.login_with_x" type="bool" default="False">
是否采用“使用 X 登录”流程。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`str`

<div id="get_request_token">
  ### `get_request_token`
</div>

获取请求 token，用于启动 OAuth1 授权流程。
:returns: 带有 oauth_token 和 oauth_token_secret 的请求 token。
:rtype: OAuth1RequestToken

#### 返回

`OAuth1RequestToken`

<div id="start_oauth_flow">
  ### `start_oauth_flow`
</div>

用于便捷地启动 OAuth1 流程的方法。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.login_with_x" type="bool" default="False">
是否使用“Log in with X”登录流程。
</ParamField>

#### 返回

`str`

<div id="class-xdkoauth1_authoauth1accesstoken">
  ### `class xdk.oauth1_auth.OAuth1AccessToken`
</div>

OAuth1 访问令牌的响应。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.access_token" type="str"></ParamField>

<ParamField path="path.access_token_secret" type="str"></ParamField>

<div id="__init__">
  ### `__init__`
</div>

初始化 OAuth1 访问令牌。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.access_token" type="str">
访问令牌。
</ParamField>

<ParamField path="path.access_token_secret" type="str">
访问令牌密钥。
</ParamField>

<div id="class-xdkoauth1_authoauth1requesttoken">
  ### `class xdk.oauth1_auth.OAuth1RequestToken`
</div>

OAuth1 请求 token 的响应。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.oauth_token" type="str"></ParamField>

<ParamField path="path.oauth_token_secret" type="str"></ParamField>

<div id="__init__">
  ### `__init__`
</div>

初始化 OAuth1 请求令牌。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.oauth_token" type="str">
OAuth 令牌。
</ParamField>

<ParamField path="path.oauth_token_secret" type="str">
OAuth 令牌的密钥。
</ParamField>