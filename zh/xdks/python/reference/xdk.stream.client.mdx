---
title: "StreamClient"
sidebarTitle: "StreamClient"
---

本模块提供用于与 X API 的流式端点交互的客户端。
实时流式操作会返回生成器，在数据到达时持续产出数据。
流式连接由系统自动管理，并通过指数退避重试逻辑实现更健壮的处理。

<div id="streamclient">
  ## StreamClient
</div>

<Badge color="blue">类</Badge>

<Badge color="gray">基类：object</Badge>

用于流相关操作的 Streaming Client

<div id="constructors">
  ## 构造函数
</div>

<div id="__init__">
  ### `__init__`
</div>

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.client" type="Client"></ParamField>

<div id="get_rule_counts">
  ### `get_rule_counts`
</div>

获取流规则数量
获取 filtered stream 当前活动规则集中规则的数量。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.rules_count_fields" type="List or None" default="None">
以逗号分隔的 RulesCount 字段列表，用于指定要显示的字段。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`GetRuleCountsResponse` - 响应数据

<div id="get_rules">
  ### `get_rules`
</div>

获取流规则
检索 filtered stream 当前生效的全部规则，或其中的一部分。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.ids" type="List or None" default="None">
以逗号分隔的规则 ID 列表。
</ParamField>

<ParamField path="path.max_results" type="int or None" default="None">
返回结果的最大数量。
</ParamField>

<ParamField path="path.pagination_token" type="str or None" default="None">
此参数的值由请求返回的 `next_token` 提供，用于在结果中进行分页。
</ParamField>

<div id="returns">
  #### 返回值
</div>

`IteratorGetRulesResponse`

<div id="labels_compliance">
  ### `labels_compliance`
</div>

Post 标签流（流式）
以流的形式传输应用于帖子上的所有标签事件。
这是一个流式端点，会在数据可用时实时提供数据。
每个返回项代表该流中的一个数据点。
连接由带有指数退避重试逻辑的机制自动管理。
如果流连接中断，SDK 将在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
要回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子标签的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子标签的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="likes_compliance">
  ### `likes_compliance`
</div>

流式传输点赞合规数据（Streaming）
为用户流式传输与点赞相关的所有合规数据。
这是一个流式端点，会在数据可用时实时输出数据。
每个输出的条目代表来自该流的单个数据点。
连接由带有指数退避的重试逻辑自动管理。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。开始提供 Likes 合规事件的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供 Likes 合规事件的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="likes_firehose">
  ### `likes_firehose`
</div>

流式获取所有点赞（Streaming）

实时流式获取所有公开的点赞。
这是一个流式端点，会在有新数据时实时输出数据。
每个输出的条目代表流中的一个数据点。
连接由带指数退避的重试逻辑自动管理。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。将返回点赞的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。将返回帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.like_with_tweet_author_fields" type="List or None" default="None">
以逗号分隔的 LikeWithTweetAuthor 字段列表，用于展示。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的要展开的字段列表。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的 User 字段列表，用于展示。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的 Post 字段列表，用于展示。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时和回调。
</ParamField>

<div id="likes_sample10">
  ### `likes_sample10`
</div>

流式采样 Likes（流式）

实时返回 10% 的公开 Likes 抽样数据。
这是一个流式端点，会在数据可用时实时返回。
每个返回项代表该流中的一个数据点。
连接由带指数退避的重试逻辑自动管理。
如果流连接中断，SDK 会在无需客户端干预的情况下自动重连。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供点赞数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.like_with_tweet_author_fields" type="List or None" default="None">
要显示的、以逗号分隔的 LikeWithTweetAuthor 字段列表。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
要扩展的、以逗号分隔的字段列表。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
要显示的、以逗号分隔的 User 字段列表。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
要显示的、以逗号分隔的帖子字段列表。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
用于自定义重试行为、超时和回调的可选 StreamConfig。
</ParamField>

<div id="posts">
  ### `posts`
</div>

流式筛选帖子（Streaming）
实时流式传输与当前激活规则集匹配的帖子。
这是一个流式端点，会在数据可用时实时返回数据。
每个返回的项代表流中的一个数据点。
连接由带有指数退避重试逻辑的机制自动管理。
如果流连接断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
要回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的帖子字段列表，用于显示。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的待扩展字段列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的媒体字段列表，用于显示。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的投票字段列表，用于显示。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的用户字段列表，用于显示。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的地点字段列表，用于显示。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
用于自定义重试行为、超时和回调的可选 StreamConfig。
</ParamField>

<div id="posts_compliance">
  ### `posts_compliance`
</div>

流式传输帖子合规数据（Streaming）
流式传输与帖子相关的所有合规数据。
这是一个流式端点，会在数据可用时实时输出数据。
每个输出项代表来自该流的一个数据点。
连接由带有指数退避的重试逻辑自动管理。
如果流断开，SDK 将在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回补的数据时长（分钟）。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。开始提供帖子合规事件的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子合规事件的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
用于自定义重试行为、超时和回调的可选 StreamConfig。
</ParamField>

<div id="posts_firehose">
  ### `posts_firehose`
</div>

流式获取所有帖子（流式）
实时流式传输所有公开帖子。
这是一个流式端点，在数据可用时会实时输出数据。
每个输出项代表该流中的一个数据点。
连接由带有指数退避的重试逻辑自动管理。
如果流中断，SDK 将在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的时长（分钟）。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子时所能追溯到的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子时所能追溯到的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的帖子字段列表，用于展示。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的待展开字段列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的媒体字段列表，用于展示。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的投票字段列表，用于展示。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的用户字段列表，用于展示。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的地点字段列表，用于展示。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="posts_firehose_en">
  ### `posts_firehose_en`
</div>

流式传输英文帖子（Streaming）
实时流式传输所有公开的英文帖子。
这是一个流式端点，会在数据可用时实时返回数据。
每个返回项代表来自该流的一个数据点。
连接通过带有指数退避重试逻辑的机制自动管理。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回补数据的时长（分钟）。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的帖子字段列表，用于指定要返回的字段。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的字段列表，用于指定要扩展的字段。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的媒体字段列表，用于指定要返回的字段。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的投票字段列表，用于指定要返回的字段。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的用户字段列表，用于指定要返回的字段。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的地点字段列表，用于指定要返回的字段。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试策略、超时和回调。
</ParamField>

<div id="posts_firehose_ja">
  ### `posts_firehose_ja`
</div>

流式获取日语帖子（Streaming）
实时流式获取所有公开的日语帖子。
这是一个流式端点，会在数据可用时实时返回数据。
每个返回的条目代表该流中的一个数据点。
连接由指数退避的重试逻辑自动管理。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
要显示的帖子字段的逗号分隔列表。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
要扩展的字段的逗号分隔列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
要显示的媒体字段的逗号分隔列表。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
要显示的投票字段的逗号分隔列表。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
要显示的用户字段的逗号分隔列表。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
要显示的地点字段的逗号分隔列表。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="posts_firehose_ko">
  ### `posts_firehose_ko`
</div>

流式获取韩语帖子（Streaming）
实时流式传输所有公开的韩语帖子。
这是一个流式端点，会在数据可用时实时输出数据。
每个输出的条目代表流中的一个独立数据点。
连接由带指数退避的重试逻辑自动管理。
如果流断开，SDK 将在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回补的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的帖子字段列表，用于返回。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的要展开的字段列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的媒体字段列表，用于返回。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的投票字段列表，用于返回。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的用户字段列表，用于返回。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的地点字段列表，用于返回。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="posts_firehose_pt">
  ### `posts_firehose_pt`
</div>

葡萄牙语帖子流（Streaming）
实时流式传输所有公开的葡萄牙语帖子。
这是一个流式端点，会在数据可用时实时返回数据。
每个返回的元素都表示来自流的一条数据点。
连接由带有指数退避的重试逻辑自动管理。
如果流连接中断，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
回填的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
要显示的帖子字段的逗号分隔列表。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
要展开的字段的逗号分隔列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
要显示的媒体字段的逗号分隔列表。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
要显示的投票字段的逗号分隔列表。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
要显示的用户字段的逗号分隔列表。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
要显示的地点字段的逗号分隔列表。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
用于自定义重试行为、超时和回调的可选 StreamConfig。
</ParamField>

<div id="posts_sample">
  ### `posts_sample`
</div>

流式获取抽样帖子（流式）

以实时方式流式获取 1% 的公开帖子样本。
这是一个流式端点，会在数据可用时实时推送数据。
每个推送的条目都表示该流中的一个独立数据点。
连接由 SDK 自动管理，并使用指数退避的重试逻辑。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回填的数据时长（分钟）。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的帖子字段列表，用于显示。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的要扩展的字段列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的媒体字段列表，用于显示。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的投票字段列表，用于显示。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的用户字段列表，用于显示。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的地点字段列表，用于显示。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="posts_sample10">
  ### `posts_sample10`
</div>

以 10% 抽样比例获取帖子流（流式）

实时流式返回 10% 抽样的公开帖子。
这是一个流式端点，会在数据可用时实时推送数据。
每个返回的条目代表流中的单个数据点。
连接由指数退避重试逻辑自动管理。
如果流断开，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求回补的分钟数。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最早 UTC 时间戳。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。提供帖子数据的最晚 UTC 时间戳。
</ParamField>

<ParamField path="path.tweet_fields" type="List or None" default="None">
以逗号分隔的要显示的帖子字段列表。
</ParamField>

<ParamField path="path.expansions" type="List or None" default="None">
以逗号分隔的要扩展的字段列表。
</ParamField>

<ParamField path="path.media_fields" type="List or None" default="None">
以逗号分隔的要显示的媒体字段列表。
</ParamField>

<ParamField path="path.poll_fields" type="List or None" default="None">
以逗号分隔的要显示的投票字段列表。
</ParamField>

<ParamField path="path.user_fields" type="List or None" default="None">
以逗号分隔的要显示的用户字段列表。
</ParamField>

<ParamField path="path.place_fields" type="List or None" default="None">
以逗号分隔的要显示的地点字段列表。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
可选的 StreamConfig，用于自定义重试行为、超时时间和回调。
</ParamField>

<div id="update_rules">
  ### `update_rules`
</div>

更新流规则
在过滤流的当前规则集中添加或删除规则。

<div id="parameters">
  #### 参数
</div>

<ParamField path="body.body" type="UpdateRulesRequest">
请求正文
</ParamField>

<div id="users_compliance">
  ### `users_compliance`
</div>

流式获取 Users 合规数据（Streaming）
流式传输与 Users 相关的所有合规数据。
这是一个流式端点，会在数据可用时实时返回数据。
每个返回的条目代表该流中的单个数据点。
连接由带有指数退避重试策略的机制自动管理。
如果流断开连接，SDK 会在无需客户端干预的情况下自动重新连接。

<div id="parameters">
  #### 参数
</div>

<ParamField path="path.partition" type="int">
分区编号。
</ParamField>

<ParamField path="path.backfill_minutes" type="int or None" default="None">
请求的回填时长（分钟）。
</ParamField>

<ParamField path="path.start_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。将从该最早 UTC 时间戳开始提供用户合规事件。
</ParamField>

<ParamField path="path.end_time" type="str or None" default="None">
YYYY-MM-DDTHH:mm:ssZ。将截止到该最晚 UTC 时间戳提供用户合规事件。
</ParamField>

<ParamField path="path.stream_config" type="StreamConfig">
用于自定义重试行为、超时和回调的可选 StreamConfig。
</ParamField>