---
title: Postman 快速入门
description: "在本教程中，我们将介绍什么是 Postman，以及如何快速完成基本设置。"
mode: wide
keywords: ["Postman", "Postman 教程", "API 测试", "REST 客户端", "Postman 集合", "API 浏览器", "测试 API"]
---

<div id="introduction">
  ## 介绍
</div>

Postman 是一款桌面和 Web 应用，允许你通过图形用户界面向 API 发起请求。我们建议你在探索 X API、X Ads API 和 Labs 端点的功能，以及排查应用问题时使用 Postman。 

目前我们提供两个 Postman 集合：

<CardGroup cols={2}>
  <Card title="X API v2 集合" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400" horizontal />

  <Card title="X Ads API 集合" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87" horizontal />
</CardGroup>

<div id="prerequisites">
  ### 先决条件
</div>

在开始使用 X 的 Postman 集合之前，你需要确保已经拥有你选择使用的 X 开发平台工具所需的正确访问权限和凭证。你可以在我们的[“入门”页面](/zh/resources/platform-overview)了解如何获取访问权限的更多信息。 

一旦你拥有了[开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)，已设置好[开发者应用](/zh/resources/fundamentals/developer-apps)，并获得一套[身份验证](/zh/resources/fundamentals/authentication)密钥和令牌，同时已正确配置好环境以便向你计划使用的特定 API 发起请求，就可以按照以下步骤开始操作。
 

<div id="getting-started-with-xs-postman-collections">
  ## X 的 Postman 集合入门
</div>

<div id="step-one-add-one-of-the-x-postman-collections-to-your-account">
  ### 第一步：将一个 X Postman 集合添加到你的账号中
</div>

虽然你可以在 Postman 中自行构建想要使用的具体端点，但我们已经替你完成了大部分工作，预先构建了一套可直接使用的相关 API 集合。只需点击前面“Postman collections”部分中的任一链接，就会将所选 API 的所有相关端点作为一个集合添加到你的 Postman 应用中。这些集合同样可以在 [Postman API Network](https://explore.postman.com/) 中获取。每个端点都会自动包含可用参数、示例响应以及预先配置好的认证类型，因此你只需要添加你的凭证和参数值，就可以开始探索其功能。

在本示例中，我们将使用 X 的 [API v2 集合](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)。 
 

<div id="step-two-add-your-keys-and-tokens-as-environmental-variables">
  ### 步骤二：将你的密钥和令牌添加为环境变量
</div>

当你将 collection 添加到 Postman 实例时，它会自动添加一个名为 “X API v2” 的 environment，你需要在其中添加你的密钥和令牌。在此步骤中，我们将引导你完成将开发者应用中的密钥和令牌添加到 “X API v2” environment 的过程。 

要将你的密钥和令牌添加到 “X API v2” environment，在 Postman 右上角点击设置按钮，然后点击 “Manage Environments” 按钮。 

<Frame>
  <img src="/images/using-postman-1.png.twimg.1920.png" alt="此图展示了在 Postman 控制台中高亮显示的 “Manage Environments” 按钮。" />
</Frame>

在 environment 列表中，点击 “X API v2”。 

接下来，为你通过 Apps dashboard 生成的所有不同密钥和令牌在表格中添加变量。下面是你的表格应有的示例：

| VARIABLE | INITIAL VALUE | CURRENT VALUE |
| :--- | :--- | :--- |
| consumer&#95;key | `QAktM6W6DF6F7XXXXXX` | `QAktM6W6DF6F7XXXXXX` |
| consumer&#95;secret | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` |
| access&#95;token | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` |
| token&#95;secret | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` |
| bearer&#95;token | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` |

请注意，上表中使用的密钥和令牌是虚构的，在请求中使用将不会生效。 

在你将凭证添加为变量并确保已选中 X API v2 environment 之后，你就可以向 X API v2 collection 发送请求了。这是因为每个 endpoint 的 authorization 选项卡都已设置为自动继承该 environment 中的变量。 

如果要在 Postman 中使用用户访问令牌（User Access Tokens），请跳过 XXXX 并查看关于如何执行此操作的更多详细信息。

<div id="step-three-select-an-endpoint">
  ### 步骤三：选择一个端点
</div>

接下来，从集合中选择一个端点，并开始构建你的请求。你可以在右侧导航中选择端点。如下图所示：

<Frame>
  <img src="/images/using-postman-2.png.twimg.1920.png" alt="该图像显示在 &#x22;X API v2&#x22; 部分的 &#x22;Post Lookup&#x22; 下拉菜单中选择了 &#x22;Single Posts&#x22; 请求。" />
</Frame>

在本示例中，我们将使用 X API v2 &gt; Post Lookup &gt; Single Post 端点。 

<div id="step-four-add-values-to-the-params-tab">
  #### 步骤四：在 Params 选项卡中添加值
</div>

接下来，前往 Params 选项卡。你会看到一组处于未激活状态的参数，每个参数都有说明其作用的描述，以及一个列出了你在请求中可以传递的所有可用取值的列表。 

在本示例中，我们将启用 `expansions` 和 `tweet.fields` 查询参数，并添加以下值：

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `tweet.fields` | `created_at,attachments` |
| expansions | author&#95;id |

除了添加查询参数之外，我们还需要添加必填的路径变量（Path Variable）`id`。由于此端点返回帖子，因此我们需要添加一个有效的帖子 ID 作为该变量的值。

你可以通过访问 x.com，点击一个帖子，然后查看 URL 来找到帖子 ID。比如，以下 URL 中的帖子 ID 为 `1228393702244134912`：

`https://x.com/XDevelopers/status/1228393702244134912`

在 Params 选项卡中，向下滚动，越过所有查询参数，直到显示“Path Variables”部分。我们会将你希望使用的帖子 ID 作为值填入 `id` 键。

如果你在此步骤中输入的内容都正确，Params 选项卡应类似如下所示：

<Frame>
  <img src="/images/using-postman-3.png.twimg.1920.png" alt="此图显示了根据本页前面说明填写完成的 &#x22;Params&#x22; 表格。" />
</Frame>

<div id="step-five-send-your-request-and-review-your-response">
  #### 第五步：发送请求并查看响应
</div>

在请求中完成所有设置后，你就可以点击“Send”按钮。 

如果一切设置正确，你应该会收到如下响应载荷：

```json
{
    "data": {
        "author_id": "2244994945",
        "text": "What did the developer write in their Valentine’s card?\n  \nwhile(true) {\n    I = Love(You);  \n}",
        "id": "1228393702244134912",
        "created_at": "2020-02-14T19:00:55.000Z"
    },
    "includes": {
        "users": [
            {
                "username": "XDevelopers",
                "name": "开发者",
                "id": "2244994945"
            }
        ]
    }
}
```

<div id="generating-a-user-access-token-with-postman">
  ### 使用 Postman 生成用户访问令牌：
</div>

<div id="using-oauth-10a-to-generate-a-user-access-token">
  #### 使用 OAuth 1.0a 生成用户访问令牌
</div>

回顾 [OAuth1.0a flow test collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 中使用的三步流程。

<div id="using-oauth-20-to-generate-a-user-access-token">
  #### 使用 OAuth 2.0 生成用户访问令牌
</div>

如果你想在 Postman 中生成 OAuth 2.0 用户访问令牌，你可以生成 OAuth 2.0 访问令牌，并将其与 X 的 [API v2 Postman collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 搭配使用。

在工作区中点击该 collection，进入名为 “Auth” 的选项卡，并将类型选择为 “OAuth 2.0”。然后在标题为 “Configure New Token” 的部分下，找到 “Configuration Options”，将 “Grant Type” 更新为 “Authorization Code (With PKCE)”。

你需要将 Callback URL 更新为与你的应用关联的回调 URL。此外，你还需要更新以下参数：

* Auth URL - https://x.com/i/oauth2/authorize
* Access Token URL - https://api.x.com/2/oauth2/token
* Client ID - 来自 Dev Portal 的 OAuth 2.0 Client ID
* Client Secret - 如果你使用的是机密客户端（confidential client）
* Update Scope - 权限范围应与要访问的端点匹配。例如 “tweet.read users.read”
* Your callback URL（也称为 redirect URL）。此 URL 必须与你在应用的 authentication 设置中配置的完全一致。
* State - state

准备就绪后，你可以点击 “Get New Access Token” 来生成访问令牌。如果你看到一个对话框提示发生错误，可能需要点击返回按钮重新登录。你需要在对话框中点击 “Authorize app” 来授权你的应用访问你的账户。

在你授权应用后，你会被重定向回 Postman，在那里你可以看到你的令牌，并点击 “Use Token” 按钮，开始以已授权用户的身份发起请求。

你现在已经可以使用这个 Postman collection 了。

<div id="whats-next">
  ## 接下来
</div>

如果你在 Postman 中点击名为“Code”的按钮，就可以将我们刚刚创建的请求转换为你选择的编程语言，例如 Python、Node 或 Ruby，帮助你快速上手。Postman 还有[非常完善的文档](https://learning.getpostman.com/)，可能会对你有所帮助。我们在 [GitHub 上也提供了一些示例代码](https://github.com/xdevplatform)，可以帮助你更快地集成这些端点。