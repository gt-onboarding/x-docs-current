---
title: 使用 Postman 入门
description: "在本教程中，我们将介绍什么是 Postman，以及如何快速开始使用它。"
mode: wide
keywords: ["Postman", "Postman 教程", "API 测试", "REST 客户端", "Postman 集合", "API 探索工具", "测试 API 接口"]
---

<div id="introduction">
  ## 简介
</div>

Postman 是一款桌面和 Web 应用，可让你通过图形用户界面向 API 发起请求。我们建议在探索 X API、X Ads API 和 Labs 端点的功能，以及排查应用相关问题时使用 Postman。

我们目前提供两个 Postman 集合：

<CardGroup cols={2}>
  <Card title="X API v2 集合" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400" horizontal />

  <Card title="X Ads API 集合" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87" horizontal />
</CardGroup>

<div id="prerequisites">
  ### 前提条件
</div>

在开始使用 X 的 Postman 集合之前，你需要确保已经拥有为所选 X 开发者平台工具配置的适当访问权限和凭证。你可以在我们的[“入门”页面](/zh/resources/platform-overview)了解更多关于获取访问权限的信息。

在你拥有[开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)、完成[开发者应用](/zh/resources/fundamentals/developer-apps)的设置并获取一组[身份验证](/zh/resources/fundamentals/authentication)密钥和令牌，以及正确配置好你的环境以便向计划使用的特定 API 发起请求之后，就可以按照下面的步骤开始操作了。
 

<div id="getting-started-with-xs-postman-collections">
  ## X 的 Postman 集合入门
</div>

<div id="step-one-add-one-of-the-x-postman-collections-to-your-account">
  ### 第一步：将 X 的 Postman 集合添加到你的账号中
</div>

虽然你可以在 Postman 中自行构建想要使用的具体端点，但我们已经替你完成了繁重的工作，预先构建好了一个可直接使用的相关 API 集合。只需点击前面“Postman collections”部分中的任意一个链接，与所选 API 相关的所有端点就会作为一个集合添加到你的 Postman 应用中。这些集合也可以在 [Postman API network](https://explore.postman.com/) 中获取。每个端点都会自动包含可用的参数、示例响应以及已配置的认证类型，因此你只需要添加自己的凭证和参数值，就可以开始探索这些功能。

在这个示例中，我们将使用 X 的 [API v2 collection](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)。 
 

<div id="step-two-add-your-keys-and-tokens-as-environmental-variables">
  ### 步骤二：将你的密钥和令牌添加为环境变量
</div>

当你将集合添加到 Postman 实例时，它会自动创建一个名为 “X API v2” 的环境，你需要把你的密钥和令牌添加到这个环境中。在此步骤中，我们将引导你把开发者应用中的密钥和令牌添加到 “X API v2” 环境。 

要将你的密钥和令牌添加到 “X API v2” 环境，点击 Postman 右上角的设置按钮，然后点击 “manage environments”。 
 

<Frame>
  <img src="/images/using-postman-1.png.twimg.1920.png" alt="此图展示了在 Postman 控制台中被高亮显示的 &#x22;manage environments&#x22; 按钮。" />
</Frame>

在环境列表中，点击 “X API v2”。 

接下来，将你通过 Apps 仪表板生成的所有不同的密钥和令牌，分别作为变量添加到表格中。下面是你的表格应有的示例：

| VARIABLE | INITIAL VALUE | CURRENT VALUE |
| :--- | :--- | :--- |
| consumer&#95;key | `QAktM6W6DF6F7XXXXXX` | `QAktM6W6DF6F7XXXXXX` |
| consumer&#95;secret | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` |
| access&#95;token | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` |
| token&#95;secret | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` |
| bearer&#95;token | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` |

请注意，上表中使用的密钥和令牌是虚构的，如果在请求中使用，将无法生效。 

在你已将凭证作为变量添加完毕，并确认已选择 X API v2 环境后，你就可以开始向 X API v2 集合发起请求了。这是因为每个端点的授权选项卡都被设置为自动继承来自该环境的变量。 

如果你打算在 Postman 中使用 User Access Tokens，请跳转到 XXXX，查看关于如何操作的更多详细信息。

<div id="step-three-select-an-endpoint">
  ### 步骤三：选择 endpoint
</div>

接下来从集合中选择一个 endpoint，并开始构建你的请求。你可以在右侧导航栏中选择一个 endpoint。如下所示：

<Frame>
  <img src="/images/using-postman-2.png.twimg.1920.png" alt="此图显示在 &#x22;X API v2&#x22; 部分的 &#x22;Post Lookup&#x22; 下拉菜单中，选中了 &#x22;Single Posts&#x22; 请求。" />
</Frame>

在本示例中，我们将使用 X API v2 &gt; Post Lookup &gt; Single Post 这个 endpoint。 

<div id="step-four-add-values-to-the-params-tab">
  #### 步骤四：在 Params 选项卡中添加值
</div>

接下来，前往 Params 选项卡。你应该会看到一组尚未启用的参数，其中包含说明每个参数作用的描述，以及一个列出所有可在请求中传递的潜在取值的列表。 

在此示例中，我们将启用 `expansions` 和 `tweet.fields` 查询参数，并添加以下值：

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `tweet.fields` | `created_at,attachments` |
| expansions | author&#95;id |

除了添加查询参数外，我们还需要添加必需的 Path Variable：id。由于此 endpoint 返回帖子，因此我们需要添加一个有效的 Post ID 作为该值。

你可以通过访问 x.com，点击某条帖子，然后在 URL 中查看来找到该 Post ID。例如，以下 URL 的 Post ID 是 `1228393702244134912`：

`https://x.com/XDevelopers/status/1228393702244134912`

在 Params 选项卡中，向下滚动，越过所有查询参数，到达 “Path Variables” 部分。我们将把你想要使用的 Post ID 作为值添加到 `id` 键。

如果你在此步骤中的输入都正确无误，Params 选项卡应该会如下图所示：

<Frame>
  <img src="/images/using-postman-3.png.twimg.1920.png" alt="This image shows the &#x22;Params&#x22; table filled out based on the instructions included earlier in the page." />
</Frame>

<div id="step-five-send-your-request-and-review-your-response">
  #### 步骤五：发送请求并查看响应
</div>

现在你的请求已经全部设置完成，可以点击“Send”按钮。 

如果一切设置正确，你应该会收到如下所示的响应内容：

```json
{
    "data": {
        "author_id": "2244994945",
        "text": "What did the developer write in their Valentine’s card?\n  \nwhile(true) {\n    I = Love(You);  \n}",
        "id": "1228393702244134912",
        "created_at": "2020-02-14T19:00:55.000Z"
    },
    "includes": {
        "users": [
            {
                "username": "XDevelopers",
                "name": "开发者",
                "id": "2244994945"
            }
        ]
    }
}
```

<div id="generating-a-user-access-token-with-postman">
  ### 使用 Postman 获取用户访问令牌：
</div>

<div id="using-oauth-10a-to-generate-a-user-access-token">
  #### 使用 OAuth 1.0a 生成用户访问令牌
</div>

查看 [OAuth 1.0a flow test collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 中使用的三步流程。

<div id="using-oauth-20-to-generate-a-user-access-token">
  #### 使用 OAuth 2.0 生成用户访问令牌
</div>

如果你想在 Postman 中生成 OAuth 2.0 用户访问令牌，可以创建 OAuth 2.0 访问令牌，并将其与 X 的 [API v2 Postman collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 搭配使用。 

在工作区中点击该 collection，切换到名为 “Auth” 的标签页，并将类型选择为 “OAuth 2.0”。然后在 “Configure New Token” 标题下，找到 “Configuration Options”。你可以将 “Grant Type” 更新为 “Authorization Code (With PKCE)”。

你需要将 Callback URL 更新为与你的应用关联的回调 URL 相匹配。此外，你还需要更新以下参数：

* Auth URL -  https://x.com/i/oauth2/authorize
* Access Token URL -  https://api.x.com/2/oauth2/token
* Client ID - 来自 Dev Portal 的 OAuth 2.0 client ID
* Client Secret - 如果你使用的是机密客户端（confidential client）
* Scope - 设置为与你要访问的端点相匹配的权限范围。例如 “tweet.read users.read”
* 你的 Callback URL（也称为 redirect URL）。它必须与你在应用的 authentication 设置中配置的一致。
* State - state

完成配置后，你可以点击 “Get New Access Token” 来生成访问令牌。如果你看到一个对话框提示出现错误，可能需要点击返回按钮重新登录。你需要在对话框中点击 “Authorize app” 来授权你的应用访问你的账号。

授权完成后，你会被重定向回 Postman，在那里你可以看到你的令牌，并点击 “Use Token” 按钮，开始以已授权用户的身份发起请求。

你现在已经可以使用该 Postman collection 了。

<div id="whats-next">
  ## 接下来
</div>

如果你在 Postman 中点击名为 “Code” 的按钮，就可以将我们刚刚创建的请求转换成你选择的编程语言，例如 Python、Node 或 Ruby，帮助你快速上手。Postman 提供了[非常完善的文档](https://learning.getpostman.com/)，可能对你有所帮助。我们在 [GitHub 上也提供了一些示例代码](https://github.com/xdevplatform)，可以帮助你更快地与这些端点集成。