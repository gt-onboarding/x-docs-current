---
title: ä½¿ç”¨ X API v2 æµè§ˆæŸä¸ªç”¨æˆ·çš„å¸–å­ä¸æåŠ
description: "ç”¨æˆ·å¸–å­æ—¶é—´çº¿ï¼ˆuser Post timelineï¼‰å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ï¼ˆuser mention timelineï¼‰ç«¯ç‚¹å…è®¸å¼€å‘è€…è·å–æŸä¸ªç”¨æˆ·å‘å¸ƒçš„å…¬å¼€å¸–å­ï¼Œä»¥åŠæåŠè¯¥ç”¨æˆ·çš„å…¬å¼€å¸–å­ã€‚"
sidebarTitle: æµè§ˆæŸä¸ªç”¨æˆ·çš„å¸–å­
mode: wide
keywords: ["ç”¨æˆ·æ—¶é—´çº¿", "ç”¨æˆ·æåŠ", "å¸–å­æ—¶é—´çº¿", "æåŠæ—¶é—´çº¿", "ç”¨æˆ·å¸–å­", "æ•™ç¨‹", "API æ•™ç¨‹", "ç”¨æˆ·å¸–å­"]
---

<div id="introduction">
  ## ä»‹ç»
</div>

[æœ€è¿‘æœç´¢ç«¯ç‚¹](/zh/x-api/posts/search/introduction) åªèƒ½è·å–è¿‡å» 7 å¤©å†…å‘å¸ƒçš„å¸–å­ï¼Œè€Œç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹åˆ™å…è®¸ä½ ä¸ºå·²æˆæƒç”¨æˆ·ï¼ˆä½¿ç”¨ç”¨æˆ· IDï¼‰æ£€ç´¢æ—©äºè¿™ 7 å¤©æ—¶é—´èŒƒå›´çš„å¸–å­å’ŒæåŠã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¿™äº›ç«¯ç‚¹æ¥ç ”ç©¶æŸä¸ªç”¨æˆ·æ—¶é—´çº¿æˆ–æåŠä¸­çš„è¯é¢˜ã€å®ä½“å’Œæƒ…æ„Ÿå€¾å‘ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨ç”¨æˆ· Tweet æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹æ¥æ¢ç´¢æŸä¸ªç”¨æˆ·çš„å¸–å­å’ŒæåŠã€‚
Â 

<div id="prerequisites">
  ## å…ˆå†³æ¡ä»¶
</div>

* è¦ä½¿ç”¨ç”¨æˆ·å¸–å­æ—¶é—´çº¿ç«¯ç‚¹å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹ï¼Œæ‚¨éœ€è¦æ‹¥æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„å¼€å‘è€…è´¦å·ã€‚Â 
* æ‚¨è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª[é¡¹ç›®](/zh/resources/fundamentals/projects)ã€‚
* æ‚¨å¿…é¡»å·²ç»[æ³¨å†Œ](https://developer.x.com/en/portal/petition/essential/basic-info)å¼€å‘è€…è´¦å·ï¼Œå¹¶å¯ç”¨äº†[æ–°çš„å¼€å‘è€…é—¨æˆ·ä½“éªŒ](https://developer.x.com/en/portal/opt-in.html)ã€‚Â 
* æ‚¨éœ€è¦åœ¨[å¼€å‘è€…é—¨æˆ·](/zh/resources/fundamentals/developer-portal)ä¸­åˆ›å»ºä¸€ä¸ªå·²å…³è”åˆ°[é¡¹ç›®](/zh/resources/fundamentals/projects)çš„å¼€å‘è€…åº”ç”¨ï¼Œå¹¶ä¸ºè¯¥åº”ç”¨é…ç½®æœ‰æ•ˆçš„å¯†é’¥å’Œä»¤ç‰Œï¼Œä»¥è·å–è®¿é—®æƒé™ã€‚
* æ¥è‡ªæ‚¨åœ¨ [X å¼€å‘è€…é—¨æˆ·](/zh/resources/fundamentals/developer-portal) ä¸­åˆ›å»ºçš„åº”ç”¨çš„ Bearer Tokenã€‚
* å¦‚æœæ‚¨è¿˜æ²¡æœ‰è·æ‰¹çš„å¼€å‘è€…è´¦å·ï¼Œå¯ä»¥[ç”³è¯·ä¸€ä¸ª](https://developer.x.com/en/apply-for-access)ã€‚

<div id="approved-developer-account">
  ## å·²è·æ‰¹å‡†çš„å¼€å‘è€…è´¦å·
</div>

å¦‚æœä½ è¿˜æ²¡æœ‰å¼€å‘è€…è´¦å·ï¼Œå¯ä»¥å‰å¾€[ç”³è¯·](https://developer.x.com/en/apply-for-access)ã€‚

<div id="create-a-project-and-connect-an-app">
  ## åˆ›å»ºé¡¹ç›®å¹¶è¿æ¥åº”ç”¨
</div>

åœ¨ [å¼€å‘è€…é—¨æˆ·](https://developer.x.com/en/portal/dashboard) ä¸­ï¼Œç‚¹å‡» Create a new Projectã€‚

<Frame>
  <img src="/images/projects.png.twimg.1920.png" />
</Frame>

ä¸ºå…¶å‘½åï¼Œé€‰æ‹©åˆé€‚çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶æä¾›é¡¹ç›®æè¿°ã€‚æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ï¼Œæˆ–è€…å…³è”ä¸€ä¸ªå·²æœ‰çš„ [App](/zh/resources/fundamentals/developer-apps)ï¼ˆåº”ç”¨æ˜¯å­˜æ”¾ä½ çš„ API å¯†é’¥çš„å®¹å™¨ï¼Œä½ éœ€è¦è¿™äº›å¯†é’¥æ¥å‘ X API å‘èµ· HTTP è¯·æ±‚ï¼‰ã€‚

<Frame>
  <img src="/images/add-your-app.png.twimg.1920.png" />
</Frame>

ç‚¹å‡» â€œcreate a new App insteadâ€ï¼Œå¹¶ä¸ºä½ çš„åº”ç”¨å‘½åï¼Œä»¥åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚

<Frame>
  <img src="/images/last-step-name-your-app.png.twimg.1920.png" />
</Frame>

ç‚¹å‡»å®Œæˆåï¼Œä½ å°†è·å¾— API å¯†é’¥å’Œ Bearer Tokenï¼Œç„¶åå°±å¯ä»¥ç”¨å®ƒä»¬è¿æ¥ X API v2 ä¸­çš„æ–°ç«¯ç‚¹ã€‚

<Frame>
  <img src="/images/here-are-your-keys.png.twimg.1920.png" />
</Frame>

ç‚¹å‡» API keyã€API secret key å’Œ Bearer Token æ—è¾¹çš„ (+)ï¼Œå¹¶å°†è¿™äº›å€¼å¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœºä¸Šçš„å®‰å…¨ä½ç½®ã€‚ä½ åœ¨ä¸‹ä¸€æ­¥ä¸­è¿›è¡Œ API è°ƒç”¨æ—¶ä¼šéœ€è¦è¿™äº›å€¼ã€‚

æ³¨æ„ï¼šä¸Šé¢æˆªå›¾ä¸­çš„å¯†é’¥æ˜¯éšè—çš„ï¼Œä½†åœ¨ä½ è‡ªå·±çš„å¼€å‘è€…é—¨æˆ·ä¸­ï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ° API keyã€API secret key å’Œ Bearer Token çš„å®é™…å€¼ã€‚
Â 

<div id="how-to-get-the-user-id-for-a-user-to-use-in-the-user-tweet-timeline-and-user-mention-timeline-endpoints">
  ## å¦‚ä½•è·å–ç”¨æˆ·çš„ user IDï¼Œä»¥ç”¨äº user Tweet timeline å’Œ user mention timeline ç«¯ç‚¹
</div>

user Tweet timeline å’Œ user mention timeline ç«¯ç‚¹å…è®¸ä½ ä½¿ç”¨ user ID æ¥è·å–å¸–å­ã€‚è¦æ ¹æ®ç”¨æˆ·åè·å– user IDï¼Œä½ å¯ä»¥ä½¿ç”¨æ–°çš„ [user lookup endpoint v2](/zh/x-api/users/lookup/quickstart/user-lookup)ã€‚å°† USER&#95;NAME æ›¿æ¢ä¸ºä½ è¦æŸ¥è¯¢çš„ç”¨æˆ·åï¼Œå°† XXXX æ›¿æ¢ä¸ºä½ åœ¨ä¸Šé¢è·å–çš„ Bearer Tokenã€‚

```bash
  curl --request GET 'https://api.x.com/2/users/by/username/USER_NAME --header 'Authorization: Bearer XXXXXX'
```

æ‚¨ä¼šåœ¨å“åº”ä¸­çœ‹åˆ°ç”¨æˆ· idï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```json
{
   "data": {
       "id": "2244994945",
       "name": "Developers",
       "username": "XDevelopers"
   }
}
```

<div id="connecting-to-the-user-tweet-timeline-and-user-mention-timeline-endpoints">
  ## è¿æ¥ç”¨æˆ·å¸–å­æ—¶é—´çº¿ç«¯ç‚¹å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹
</div>

è¦è·å–æŸä¸ªç”¨æˆ·çš„å¸–å­æ—¶é—´çº¿ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ curl å‘½ä»¤ï¼ˆè¯·åŠ¡å¿…å°† USER&#95;ID æ›¿æ¢ä¸ºä½ é€‰æ‹©çš„ç”¨æˆ· IDï¼Œå¹¶å°† XXXX æ›¿æ¢ä¸ºä½ åœ¨ä¸Šé¢è·å–çš„ Bearer Tokenï¼‰ã€‚

```bash
curl --request GET 'https://api.x.com/2/users/USER_ID/tweets' --header 'Authorization: Bearer XXXXXX'
```

ä½ ä¼šçœ‹åˆ°ï¼Œè¿™äº›è¯·æ±‚çš„ JSON å“åº”é»˜è®¤åŒ…å«è¿™äº›å¸–å­å„è‡ªçš„ `id` å’Œæ–‡æœ¬å†…å®¹ï¼ˆç¤ºä¾‹å¦‚ä¸‹ï¼‰ã€‚

```yaml
{
   "id": "1334200897081987072",
   "text": "ğŸ‘€ If you are new to the X API v2, check out this step-by-step guide to making your first request https://t.co/4rZqThpSbp"
}
```

å¦‚æœä½ å¸Œæœ›åœ¨å“åº”ä¸­è¿”å›æ›´å¤šå­—æ®µï¼ˆä¾‹å¦‚ç”¨æˆ·ä¿¡æ¯ã€é¢å¤–çš„å¸–å­å­—æ®µå¦‚ä¸Šä¸‹æ–‡æ³¨é‡Šç­‰ï¼‰ï¼Œåˆ™éœ€è¦åœ¨è¯·æ±‚ä¸­æ˜¾å¼æŒ‡å®šè¿™äº›å­—æ®µã€‚è¯·å‚é˜…[å…³äºä½¿ç”¨å­—æ®µå’Œæ‰©å±•å­—æ®µçš„æŒ‡å—](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)äº†è§£å…·ä½“ç”¨æ³•ã€‚

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€è·å–è¿™äº›å¸–å­ã€‚è¯·åœ¨æˆ‘ä»¬çš„ [GitHub ä»“åº“](https://github.com/xdevplatform/Twitter-API-v2-sample-code)ä¸­æŸ¥çœ‹é’ˆå¯¹ç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹çš„ Pythonã€Nodeï¼ˆJavaScriptï¼‰ã€Java å’Œ Ruby ç¤ºä¾‹ä»£ç ã€‚

<div id="exploring-the-users-posts">
  ## æ¢ç´¢ç”¨æˆ·çš„å¸–å­
</div>

ä¸€æ—¦ä½ äº†è§£äº†å¦‚ä½•ä½¿ç”¨ user Tweet timeline å’Œ user mention timeline ç«¯ç‚¹è·å–å¸–å­ï¼Œå°±å¯ä»¥å¼€å§‹è¿›ä¸€æ­¥æ¢ç´¢è¿™äº›å¸–å­äº†ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æƒ³è¯†åˆ«æŸä¸ªç”¨æˆ·çš„æåŠæ—¶é—´çº¿ä¸­å¸¸è§çš„å‘½åå®ä½“ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼æ“ä½œï¼š

åœ¨ API è¯·æ±‚ä¸­ï¼ŒæŒ‡å®šå¸Œæœ›åœ¨ Tweet å“åº”ä¸­è¿”å› `context&#95;annotations` å¯¹è±¡ï¼š

```bash
curl --request GET 'https://api.x.com/2/users/USER_ID/mentions?tweet.fields=context_annotations' --header 'Authorization: Bearer XXXXXX'
```

åœ¨å“åº”ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æåŠä¸­æ˜¯å¦åŒ…å«ä»»ä½•å‘½åå®ä½“ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```json
{
   "domain": {
       "id": "47",
       "name": "Brand",
       "description": "å“ç‰Œä¸å…¬å¸"
   },
   "entity": {
       "id": "783214",
       "name": "X"
   }
}
```

å¦‚æœä½ æƒ³æŸ¥çœ‹æœ‰å“ªäº›çƒ­é—¨å®ä½“å‡ºç°åœ¨ä½ çš„æåŠä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è§£ææåŠä¸­çš„æ¯æ¡å¸–å­æ¥ç»Ÿè®¡è¿™äº›çƒ­é—¨å®ä½“çš„å‡ºç°æ¬¡æ•°ã€‚

å¦‚æœä½ æƒ³æŸ¥çœ‹æ—¶é—´çº¿ä¸Šæ‰€æœ‰åŒ…å«åª’ä½“çš„å¸–å­æ‰€å¯¹åº”çš„é¢„è§ˆå›¾ç‰‡ URLï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼æ“ä½œï¼š

åœ¨ API è¯·æ±‚ä¸­ï¼ŒæŒ‡å®šä½ å¸Œæœ›åœ¨ tweet.media å­—æ®µä¸­è¿”å› preview&#95;image&#95;urlï¼Œå¹¶åœ¨ attachments.media&#95;keys æ‰©å±•å­—æ®µä¸­åŒ…å«å®ƒã€‚

```bash
curl --request GET 'https://api.x.com/2/users/2244994945/mentions?max_results=100&media.fields=preview_image_url&expansions=attachments.media_keys' --header 'Authorization: Bearer XXXXXX'
```

åœ¨å“åº”ç»“æœä¸­ï¼Œä½ ä¼šåœ¨ includes å¯¹è±¡ä¸­çœ‹åˆ° preview&#95;image&#95;urlï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```json
{
   "includes": {
       "media": [
           {
               "media_key": "16_1334657439640121344",
               "preview_image_url": "https://pbs.twimg.com/tweet_video_thumb/EoWn3rqU8AAtFWL.jpg",
               "type": "animated_gif"
           }
       ]
   }
}
```

åœ¨äº†è§£å¦‚ä½•æµè§ˆæŸä¸ªç”¨æˆ·çš„å¸–å­ä¹‹åï¼Œä½ è¿˜å¯ä»¥é…åˆå…¶ä»– API å’ŒæœåŠ¡ï¼Œæ›´å……åˆ†åœ°åˆ©ç”¨è¿™äº›å¸–å­ã€‚ä¸‹é¢æ˜¯ä¸€äº›åœ¨ä½¿ç”¨ç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹æ—¶å¯ä¾›å‚è€ƒçš„èµ„æºã€‚

<div id="resources">
  ## èµ„æº
</div>

* è¿›ä¸€æ­¥äº†è§£[ç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹](/zh/x-api/posts/timelines/introduction)ã€‚
* æŸ¥çœ‹[ç”¨æˆ·å¸–å­æ—¶é—´çº¿ç«¯ç‚¹çš„ API å‚è€ƒ](/zh/x-api/posts/user-posts-timeline-by-user-id)ï¼Œäº†è§£å¯ç”¨åŠŸèƒ½ã€‚
* æŸ¥çœ‹[ç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹çš„ API å‚è€ƒ](/zh/x-api/posts/user-mention-timeline-by-user-id)ï¼Œäº†è§£å¯ç”¨åŠŸèƒ½ã€‚
* é˜…è¯»æˆ‘ä»¬çš„å…¶ä»–[æ•™ç¨‹](/zh/tutorials)ï¼Œè·å–æ›´å¤šçµæ„Ÿã€‚