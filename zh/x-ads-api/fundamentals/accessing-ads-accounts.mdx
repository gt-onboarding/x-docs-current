---
title: 访问广告账户
keywords: ["广告账户", "广告账号", "访问广告账户", "广告账户访问权限", "广告账户管理", "账户层级"]
---

<div id="user-accounts-vs-ad-accounts">
  # 用户账号与广告账号
</div>

在使用 Ads API 时会涉及两种不同类型的账号：广告账号和 X 用户账号。在 Ads API 文档中，“account”（账号）一词通常指的是广告账号。

* 广告账号在 **business.x.com** 上注册，并在 API 中通过 account&#95;id 标识。广告账号直接关联资金来源，并将一个或多个 X 用户账号设为“可推广用户”，以使用这些账号发布的内容进行投放。每个广告账号可以向一个或多个 X 用户账号授予权限。广告账号（或称“当前账号”）在几乎每个执行的 URL 中都作为内联 :account&#95;id 参数出现。
* X 用户账号（例如 @AdsAPI）在 Ads API 中通过 user&#95;id 标识。一个或多个此类账号可以与一个广告账号关联。通过 API 发出请求的已认证 X 用户账号称为“当前用户”。当前用户可访问的广告账号列表可通过 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 获取。“可推广用户”是指可由特定广告账号进行推广的 X 账号（handle）。有关这方面的更多详情，请参阅 [Obtaining Ads Account Access](/zh/x-ads-api/introduction)。

<div id="methods-for-ad-account-access">
  ## 获取广告账户访问权限的方法
</div>

你可以通过两种方式为广告主的账户发起 Ads API 请求：

1. 代表某位广告主发起请求（**推荐**）
2. 使用你自己的账户（该账户已被授予访问某位广告主账户的权限）发起请求，例如为多个账户提供支持的[代理机构（Agency）](https://business.x.com/en/blog/agencies-manage-multiple-Twitter-Ads-accounts.html)。

本文档简要概述了这两种方式之间的差异，应结合我们的其他资源一起使用，例如[多用户登录常见问题](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html)。

如[“为请求授权”](/zh/resources/fundamentals/authentication#authorizing-a-request#authorizing-a-request)中所述，对 Ads API 的所有请求都需要在 Authorization 头中使用[OAuth 1.0a](/zh/resources/fundamentals/authentication)，并携带通过[三方 OAuth](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)[的](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)流程获取的访问令牌。你的应用需要实现基于 Web 的 OAuth 流程来[获取访问令牌](/zh/resources/fundamentals/authentication#oauth-1-0a-2)。Ads API 开发者绝不应要求我们的 X 广告主分享其登录凭据。

默认情况下，每个 [X 开发者应用](/zh/resources/fundamentals/developer-apps) 都包含一个静态的 **访问令牌（access token）**，可用于为拥有该应用的账户发起 Ads API 请求。这些凭据非常适合单账户用例，无需使用三方或[基于 PIN 的 OAuth](/zh/resources/fundamentals/authentication#pin-based-authorization) 流程。如果你不会访问其他 X Ads 账户，请使用这些[单用户](/zh/resources/fundamentals/authentication#oauth-1-0a-2)凭据，而不要使用下面的步骤。

<div id="levels-of-access">
  ## 访问级别
</div>

<div id="app-level-permissions">
  ### 应用级权限
</div>

每位用户都会根据其在[申请 Ads API 访问权限](/zh/x-ads-api/getting-started/step-by-step-guide)时提出的请求，获得相应的访问级别：

* **仅转化（Conversion Only）**：用户可用[读写](/zh/resources/fundamentals/developer-apps)权限访问 [Mobile](/zh/x-ads-api/measurement/mobile-conversions) 和 [Web Conversion](/zh/x-ads-api/measurement/web-conversions) 端点。
* **标准访问（Standard Access）**：用户可用[读写](/zh/resources/fundamentals/developer-apps)权限访问 [Analytics](/zh/x-ads-api/analytics)、[Campaign Management](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/overview)、[Creatives](https://developer.x.com/en/docs/twitter-ads-api/creatives/overview)、[Custom Audiences](https://developer.x.com/en/docs/twitter-ads-api/audiences/overview) 和 [Conversion](/zh/x-ads-api/measurement/web-conversions) 端点。

**注意：** 在 2023 年 7 月之前申请 Ads API 访问权限的开发者，可能具有不同的访问级别和权限，并且可能被限制为最多五个 OAuth 令牌。请参阅我们的[提升访问级别](/zh/x-ads-api/getting-started/increasing-access)指南，以获取更多端点访问权限，或为现有应用解除令牌数量限制。

<div id="ad-account-level-permissions">
  ### 广告账户级别权限
</div>

每个有权访问某个广告账户的用户都会被分配一个特定的账户级权限：**Account administrator**、**Ad manager**、**Campaign analyst**、**Organic analyst** 和 **Creative Manager**。请参阅 **business.x.com** 以获取最新的账户级权限相关文档。应用应通过 [Authenticated User Access](/zh/x-ads-api/campaign-management#authenticated-user-access) API 端点检索当前已认证用户的权限，以确定其可以访问哪些 API 端点和 Ads 功能。

**注意：** 任何用于 [Conversion API](/zh/x-ads-api/measurement/web-conversions) 的用户令牌必须属于具有 **Account administrator** 或 **Ad manager** 账户级权限的用户。                                                                                                                                              

<div id="methods-of-obtaining-access-tokens">
  ## 获取访问令牌的方式
</div>

<div id="1-obtain-an-advertisers-user-access-token">
  ### 1. 获取广告主（用户）的访问令牌
</div>

获取广告主**访问令牌**有两种方法。最常见的方法是直接在你的 Web UI 中通过[三方 OAuth 流程](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)。对于没有对广告主公开可访问 UI 的应用，可以实现[基于 PIN 的](/zh/resources/fundamentals/authentication#pin-based-authorization) OAuth 流程。在用户完成三方 OAuth 流程后，你的应用将拥有通过 API 为其 Ads 账户发起请求所需的凭证。

通过 OAuth 流程获取用户凭证是我们向大多数 Ads API 开发者**强烈推荐**的获取广告主账户访问权限的方法。它允许你代表某个用户调用 API，并以该用户身份执行操作。这些访问令牌不会过期，但用户可以随时撤销。

<div id="2-obtain-your-developer-access-token">
  ### 2. 获取你的（开发者）访问令牌
</div>

此选项要求广告主通过 business.x.com 上的 X 界面 [授予你的 @username](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html)（或一个或多个 @username）访问其 X Ads 账户的权限。通过你账户的三方 OAuth 流程获取的**访问令牌**将能够访问该广告主的 X Ads 账户。

这样你就可以使用你自己 @username 的 OAuth 令牌，而不是广告主的 OAuth 令牌来调用 API。此选项的关键区别在于，仅当已将帖子委派/创作权限授予你的 @username 时，你才能创建仅推广帖子（Promoted-Only Posts）。

若要获得以账户上的 `FULL` 可推广用户身份创建仅推广帖子的权限，你还必须在此流程中被授予创建帖子（Posts）的权限。这将通过 [GET accounts/:account&#95;id/authenticated&#95;user&#95;access](/zh/x-ads-api/campaign-management#accounts) 端点上的 `TWEET_COMPOSER` 权限来实现访问。

<div id="differences-between-these-methods">
  ## 这些方法之间的差异
</div>

|     |     |     |
| :--- | :--- | :--- |
|     | 广告主（用户）OAuth 令牌 | （开发者）OAuth 令牌  <br /> (@username added to separate account) |
| 访问广告账户 | ✔   | ✔   |
| 代表用户创建帖子 | ✔   | ✔*  |
| 管理广告系列 | ✔   | ✔   |
| 访问分析数据 | ✔   | ✔   |
| 代表用户创建卡片 | ✔   | ✔   |
| 开发者 ability to Access  <br />via X Ads UI |     | ✔   |
| [速率限制](/zh/x-api/enterprise-gnip-2.0/fundamentals/rate-limits) | 针对每个广告主分别计算 | 针对每个广告账户分别计算 |

<Note>
  **注意：** 详情请参阅上文的 **[Obtain your (Developer) access token](/zh/x-ads-api/fundamentals/accessing-ads-accounts#2-obtain-your-developer-access-token)** section above for details.
</Note>

<div id="sample-use-case">
  ## 示例使用场景
</div>

<div id="advertisers-access-token-via-oauth-3-legged-web-flow">
  ### 通过 OAuth 三方 Web 流程获取广告主访问令牌
</div>

标准流程基于 Web，并使用 [3-legged authorization](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) OAuth 流程。此处展示的截图来自一个示例，你可以在 [https://github.com/xdevplatform/twauth-web](https://github.com/xdevplatform/twauth-web) 查看其源代码。

在应用流程中的某个阶段，你需要重定向到 X，以便用户为你的应用授权：

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-2.png" alt="image0" />
</Frame>

当你携带 request token 重定向到 X 时，系统会提示用户授权你的应用：

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-3.png" alt="image1" />
</Frame>

在用户授权你的应用后，用户会被重定向到你在生成 request token 时提供的回调 URL。你将使用该回调来获取该用户的永久访问令牌，并将其存储在本地。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-4.png" alt="image" />
</Frame>