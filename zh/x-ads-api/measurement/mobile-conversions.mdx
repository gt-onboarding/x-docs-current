---
title: 移动应用转化
keywords: ["移动应用转化", "移动应用转化跟踪", "应用转化", "移动应用跟踪", "转化跟踪"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="mact-overview">
  ## MACT 概览
</div>

X [移动应用推广](https://biz.x.com/mobile-app-promotion) 的效果衡量功能，允许广告主跟踪在 X 上以推动应用安装或其他应用内转化为目标的广告活动表现。X 的移动测量合作伙伴使广告主能够管理他们希望从在 X 上推广的应用中跟踪哪些转化。一旦广告主设置好希望跟踪的事件类型和时间窗口，移动测量合作伙伴就会将所有这些事件发送给 X，并立即收到归因数据，指明促成该次转化的具体广告活动和创意素材。

<div id="conversion-events">
  ### 转化事件
</div>

为了向 X 报告[转化事件](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/conversion-event)并获取归因数据，合作伙伴必须发送移动应用程序 ID、转化类型和时间戳，以及广告 ID 或设备 ID 的哈希值。提供这些数据会在 X 平台上记录该转化事件，并在适用时返回相应的归因结果。此外，广告主还可以选择提供该转化事件的额外元数据，例如购买金额、商品 ID 或注册方式。

<div id="api-reference">
  ## API 参考
</div>

<div id="conversion-events">
  ### 转化事件
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

<div id="post-conversion_event">
  #### POST conversion&#95;event
</div>

记录一次移动端转化衡量事件。响应将标明 X 或 X Audience Platform (TAP) 的归因情况。

这对应于 [GET conversion&#95;attribution](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/conversion-attribution#get-conversion-attribution) 端点。

响应中会给出 X 归因、TAP 归因或无归因三种情况之一。当没有 X 归因时，`twitter_attribution` 节点始终存在，其值为 `null`（参见下面的示例响应）。如果存在 TAP 归因，则会包含一个 `tpn_attribution` 节点，并填充相应的归因信息。更多信息请参阅 [TAP overview](https://developer.x.com/en/docs/x-ads-api/measurement/overview/twitter-audience-platform)。

有多个可选参数可用于设置与每个转化事件关联的元数据。这些元数据不会影响归因计算。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/conversion_event`

##### 参数

| Name | Description |
| :--- | :--- |
| app&#95;id  <br />*required* | 在对应应用商店中的唯一标识符。<br /><br />Type: int, string<br /><br />Example: `333903271`, `com.vine.android` |
| conversion&#95;time  <br />*required* | 使用 ISO-8601 时间戳格式（带毫秒）表示的转化事件发生时间。<br /><br />Type: string<br /><br />Example: `2014-05-22T02:38:28.103Z` |
| conversion&#95;type  <br />*required* | 转化事件的类型。<br /><br />Type: enum<br /><br />Possible values: `PURCHASE`, `SIGN_UP`, `INSTALL`, `RE_ENGAGE`, `UPDATE`, `TUTORIAL_COMPLETE`, `RESERVATION`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `LOGIN`, `CHECKOUT_INITIATED`, `SEARCH`, `LEVEL_ACHIEVED`, `ACHIEVEMENT_UNLOCKED`, `CONTENT_VIEW`, `SHARE`, `INVITE`, `ADDED_PAYMENT_INFO`, `SPENT_CREDITS`, `RATED` |
| hashed&#95;device&#95;id  <br />*required* | 经过 HMAC-SHA-256 哈希的 IDFA 或 AdID。<br /><br />Type: string<br /><br />Example: `ABCD1234XYZ` |
| os&#95;type  <br />*required* | 应用的操作系统类型。<br /><br />Type: enum<br /><br />Possible values: `IOS`, `ANDROID` |
| click&#95;window  <br />*optional* | 此事件的点击回溯窗口（以天为单位）。<br /><br />Type: int<br /><br />**Note**: `click_window` 必须大于或等于 view&#95;through&#95;window<br /><br />Default: `14`  <br />Possible values: `1`, `7`, `14`, `30` |
| device&#95;ip&#95;address  <br />*optional* | 转化事件发生时设备的 IPv4 或 IPv6 地址。<br /><br />Type: string<br /><br />Example: `192.133.78.1` |
| level  <br />*optional* | 与此事件关联的关卡级别。<br /><br />Type: int<br /><br />Example: `2` |
| non&#95;twitter&#95;engagement&#95;time  <br />*optional* | 转化之前最后一次非 Twitter 互动的时间。<br /><br />Type: string<br /><br />Example: `2014-05-22T02:38:28.103Z` |
| non&#95;twitter&#95;engagement&#95;type  <br />*optional* | 转化事件之前的非 Twitter 互动类型。<br /><br />Type: enum<br /><br />Possible values: `CLICK`, `VIEW` |
| number&#95;items  <br />*optional* | 与此事件关联的项目数量。<br /><br />Type: int<br /><br />Example: `2` |
| price&#95;currency  <br />*optional* | 应为 ISO 4217 代码，用于指明与此事件关联的货币。<br /><br />Type: String<br /><br />Examples: `EUR`,`USD`,`JPY` |
| price&#95;micro  <br />*optional* | 与此事件关联的价格金额，单位为微单位（micro）。<br /><br />Type: int<br /><br />Example: `123450000` |
| user&#95;payment&#95;info  <br />*optional* | 布尔值，用于指示与此事件关联的应用中是否存储了用户的支付信息。<br /><br />Type: bool<br /><br />Possible values: `true` or `false` |
| view&#95;through&#95;window  <br />*optional* | 此事件的曝光回溯窗口（以天为单位）。<br /><br />**Note**:<br /><br />`click_window` 必须大于或等于 view&#95;through&#95;window。<br /><br />Type: int<br /><br />Default: `1`  <br />Possible values: `0`, `1`, `7`, `14`, `30` |

<div id="example-request">
  ##### 示例请求
</div>

`https://ads-api.x.com/12/conversion_event?app_id=333903271&os_type=IOS&hashed_device_id=ABCD1234XYZ&conversion_type=INSTALL&conversion_time=2013-04-16T07:00:00.123Z&click_window=14&view_through_window=1`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "conversion_value_micro": 0,
        "view_through_window": 1,
        "tpn_attribution": null,
        "conversion_time": "2017-01-21T01:14:00.602Z",
        "click_window": 30,
        "limit_ad_tracking": false,
        "event_metadata": null,
        "non_twitter_engagement_type": null,
        "conversion_type": "INSTALL",
        "partner_client_id": "com.appname contact id",
        "app_id": "com.appname",
        "hashed_device_id": "lke1GZa3AseB343ZcCQq7svfHzLfuSqyYnE+Rf49MOI=",
        "twitter_attribution": {
          "country_code": "US",
          "engagement_time": "2017-01-21T01:13:00.602Z",
          "engagement_type": "CLICK",
          "attribution_type": "PROMOTED",
          "promoted_properties": {
            "campaign_id": "4ns44",
            "line_item_id": "3x44d",
            "publisher_app_id": "333903271"
            "account_id":"18ce11e3egb",
            "line_item_objective": "APP_INSTALLS",
            "campaign_name": null
          },
          "tweet_id": "11434635565377600"
        },
        "os_type": "ANDROID",
        "non_twitter_engagement_time": null
      },
      "request": {
        "params": {
          "version_number": "1",
          "app_id": "com.appname",
          "conversion_type": "INSTALL",
          "os_type": "ANDROID",
          "hashed_device_id": "lke1GZa3AseB343ZcCQq7svfHzLfuSqyYnE+Rf49MOI=",
          "conversion_time": "2017-01-21T01:14:00.602Z",
          "click_window": "30",
          "view_through_window": "1",
          "limit_ad_tracking": "false"
        }
      }
    }
```

<div id="app-event-tags">
  ### 应用事件标签
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

<div id="get-accountsaccount_idapp_event_tags">
  #### GET accounts/:account&#95;id/app&#95;event&#95;tags
</div>

检索与当前账户关联的部分或全部 App 事件标签的详细信息。

这些标签用于在移动应用转化跟踪中，为每种转化类型定义其对应的转化窗口。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_event_tags`

##### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必需* | 所使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与经过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| app&#95;event&#95;tag&#95;ids  <br />*可选* | 通过指定以逗号分隔的标识符列表，仅返回所需的 app event tags。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `jhp` |
| count  <br />*可选* | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />*可选* | 指定用于获取下一页结果的游标。有关更多信息，请参阅 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| sort&#95;by  <br />*可选* | 按支持的属性以升序或降序排序。有关更多信息，请参阅 [Sorting](/zh/x-ads-api/fundamentals/sorting)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with&#95;deleted  <br />*可选* | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with&#95;total&#95;count  <br />*可选* | 在响应中包含 `total_count` 属性。<br /><br />**注意**：此参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求将受到更严格的速率限制，目前设置为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/app_event_tags?app_event_tag_ids=jhp`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "app_event_tag_ids": [
            "jhp"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "provider_app_event_name": null,
          "app_store_identifier": "co.vine.android",
          "post_view_attribution_window": 1,
          "deep_link_scheme": "vine://",
          "id": "jhp",
          "retargeting_enabled": true,
          "conversion_type": "INSTALL",
          "created_at": "2016-12-08T07:49:58Z",
          "post_engagement_attribution_window": 14,
          "provider_app_event_id": null,
          "last_tracked_at": "2021-05-22T17:00:04Z",
          "status": "TRACKING",
          "updated_at": "2016-12-08T23:07:54Z",
          "os_type": "ANDROID",
          "deleted": false
        }
      ]
    }
```

<div id="get-accountsaccount_idapp_event_tagsapp_event_tag_id">
  #### GET accounts/:account&#95;id/app&#95;event&#95;tags/:app&#95;event&#95;tag&#95;id
</div>

获取与当前账户关联的特定应用事件标签。

这些标签用于定义移动应用转化跟踪中为每种转化类型设置的转化窗口。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_event_tags/:app_event_tag_id`

##### 参数

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| app&#95;event&#95;tag&#95;id  <br />*required* | 在请求中要操作的 app event tag 的引用。<br /><br />Type: string<br /><br />Example: `jhp` |
| with&#95;deleted  <br />*optional* | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

#### 示例请求

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/app_event_tags/jhp`

#### 示例响应

```json
    {
      "request": {
        "params": {
          "app_event_tag_id": "jhp",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "provider_app_event_name": null,
        "app_store_identifier": "co.vine.android",
        "post_view_attribution_window": 1,
        "deep_link_scheme": "vine://",
        "id": "jhp",
        "retargeting_enabled": true,
        "conversion_type": "INSTALL",
        "created_at": "2016-12-08T07:49:58Z",
        "post_engagement_attribution_window": 14,
        "provider_app_event_id": null,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "TRACKING",
        "updated_at": "2016-12-08T23:07:54Z",
        "os_type": "ANDROID",
        "deleted": false
      }
    }
```

<div id="post-accountsaccount_idapp_event_tags">
  #### POST accounts/:account&#95;id/app&#95;event&#95;tags
</div>

为当前账户创建一个新的应用事件标签。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_event_tags`

##### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*required* | 投放账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| app&#95;store&#95;identifier  <br />*required* | 应用商店标识符。<br /><br />Type: string<br /><br />Example: `com.twitter.android` |
| conversion&#95;type  <br />*required* | 转化事件的类型。<br /><br />Type: enum<br /><br />Possible values: `ACHIEVEMENT_UNLOCKED`, `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `INSTALL`, `INVITE`, `LEVEL_ACHIEVED`, `LOGIN`, `PURCHASE`, `RATED`, `RESERVATION`, `RE_ENGAGE`, `SEARCH`, `SHARE`, `SIGN_UP`, `SPENT_CREDITS`, `TUTORIAL_COMPLETE`, `UPDATE` |
| os&#95;type  <br />*required* | 应用的操作系统类型。<br /><br />Type: enum<br /><br />Possible values: `IOS`, `ANDROID` |
| provider&#95;app&#95;event&#95;id  <br />*required* | 提供方站点上转化标签的 ID。<br /><br />Type: string<br /><br />Example: `provider_tag_j5394` |
| provider&#95;app&#95;event&#95;name  <br />*required* | 提供方站点上转化标签的名称。<br /><br />Type: string<br /><br />Example: `provider_name_a4382` |
| deep&#95;link&#95;scheme  <br />*optional* | 指定与此标签关联的应用的深度链接 URI。<br /><br />Type: string<br /><br />Example: `twitter://` |
| post&#95;engagement&#95;attribution&#95;window  <br />*optional* | 这些事件的互动后归因窗口。<br /><br />Type: int<br /><br />Default: 30  <br />Possible values: `1`, `7`, `14`, `30` |
| post&#95;view&#95;attribution&#95;window  <br />*optional* | 这些事件的曝光后归因窗口。<br /><br />Type: int<br /><br />Default: 1  <br />Possible values: `0`, `1`, `7`, `14`, `30` |
| retargeting&#95;enabled  <br />*optional* | 指定是否应为此应用事件标签启用再营销功能。<br /><br />Type: boolean<br /><br />Default: true  <br />Possible values: `true`, `false` |

<div id="example-request">
  ##### 示例请求
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/app_event_tags?app_store_identifier=com.twitter.android&os_type=ANDROID&conversion_type=PURCHASE&provider_app_event_id=abc123&provider_app_event_name=test-tag`

##### 响应示例

```json
    {
      "data": {
        "provider_app_event_name": "test-tag",
        "app_store_identifier": "com.twitter.android",
        "post_view_attribution_window": 1,
        "deep_link_scheme": "https://",
        "id": "3p3t",
        "retargeting_enabled": true,
        "conversion_type": "PURCHASE",
        "created_at": "2017-09-06T06:58:22Z",
        "post_engagement_attribution_window": 30,
        "provider_app_event_id": "abc123",
        "updated_at": "2017-09-06T06:58:22Z",
        "os_type": "ANDROID",
        "deleted": false
      },
      "request": {
        "params": {
          "provider_app_event_name": "test-tag",
          "app_store_identifier": "com.twitter.android",
          "account_id": "18ce54d4x5t",
          "conversion_type": "PURCHASE",
          "provider_app_event_id": "abc123",
          "os_type": "ANDROID"
        }
      }
    }
```

<div id="delete-accountsaccount_idapp_event_tagsid">
  #### DELETE accounts/:account&#95;id/app&#95;event&#95;tags/:id
</div>

删除当前账号所属的指定应用事件标签。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_event_tags/:id`

##### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 用于指定相关账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求中的必填参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| id  <br />*必填* | 你在此请求中要操作的 app event tag 的标识符。<br /><br />类型：string<br /><br />示例：`jhp` |

<div id="example-request">
  ##### 示例请求
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/app_event_tags/jhp`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "provider_app_event_name": null,
        "app_store_identifier": "co.vine.android",
        "post_view_attribution_window": 1,
        "deep_link_scheme": "vine://",
        "id": "jhp",
        "retargeting_enabled": true,
        "conversion_type": "INSTALL",
        "created_at": "2016-12-08T07:49:58Z",
        "post_engagement_attribution_window": 14,
        "provider_app_event_id": null,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "TRACKING",
        "updated_at": "2017-08-30T05:44:57Z",
        "os_type": "ANDROID",
        "deleted": true
      },
      "request": {
        "params": {
          "id": "jhp",
          "account_id": "5gvk9h"
        }
      }
    }
```

<div id="app-lists">
  ### 应用列表
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

<div id="get-accountsaccount_idapp_lists">
  #### GET accounts/:account&#95;id/app&#95;lists
</div>

获取与当前账户关联的部分或全部应用列表的详细信息。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_lists`

#### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 所使用账户的标识符。出现在资源路径中，并且通常是所有 Advertiser API 请求（[GET accounts](/zh/x-ads-api/campaign-management#accounts) 除外）的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| app&#95;list&#95;ids  <br />*可选* | 通过指定以逗号分隔的标识符列表，将响应限定为所需的应用列表。最多可提供 200 个 ID。<br /><br />类型：string<br /><br />示例：`wm7x` |
| count  <br />*可选* | 指定每个独立请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值、最大值：`1`、`1000` |
| cursor  <br />*可选* | 指定用于获取下一页结果的游标。更多信息参见[分页](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| sort&#95;by  <br />*可选* | 按受支持的属性以升序或降序排序。更多信息参见[排序](/zh/x-ads-api/fundamentals/sorting)。<br /><br />类型：string<br /><br />示例：`created_at-asc` |
| with&#95;deleted  <br />*可选* | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |
| with&#95;total&#95;count  <br />*可选* | 在响应中包含 `total_count` 属性。<br /><br />**注意**：此参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求将具有更低的速率限制，目前设置为每 15 分钟 200 次。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/app_lists?app_list_ids=wm7x`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "app_list_ids": [
            "wm7x"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "id": "wm7x",
          "name": "foo @ 14026528192426843"
        }
      ]
    }
```

<div id="get-accountsaccount_idapp_listsapp_list_id">
  #### GET accounts/:account&#95;id/app&#95;lists/:app&#95;list&#95;id
</div>

获取与当前账户关联的指定应用列表。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_lists/:app_list_id`

##### 参数

| 名称 | 说明 |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，一般是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 以外所有 Advertiser API 请求的必需参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| app&#95;list&#95;id  <br />*required* | 请求中所操作的应用列表的引用。<br /><br />Type: string<br /><br />Example: `28ukf` |
| with&#95;deleted  <br />*optional* | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/app_lists/28ukf`

##### 响应示例

```json
    {
      "data": {
        "name": "twitter @ 262689209670784",
        "id": "28ukf",
        "created_at": "2017-08-17T17:07:42Z",
        "updated_at": "2017-08-17T17:07:42Z",
        "deleted": false,
        "apps": [
          {
            "app_store_identifier": "com.twitter.android",
            "os_type": "Android"
          }
        ]
      },
      "request": {
        "params": {
          "app_list_id": "28ukf",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="post-accountsaccount_idapp_lists">
  #### POST accounts/:account&#95;id/app&#95;lists
</div>

创建一个与当前账户关联的 `app_list`。

当前每个 `account_id` 最多可以拥有 100 个 `app_list` 对象，每个 `app_list` 最多可以包含 500 个应用。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_lists`

##### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 广告账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求中的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| app&#95;store&#95;identifiers  <br />*必填* | 要包含在 `app_list` 中的应用商店标识符。<br /><br />类型：string<br /><br />示例：`com.twitter.android` |
| name  <br />*必填* | 你要为 `app_list` 指定的名称。<br /><br />类型：string<br /><br />示例：`My First App List` |

<div id="example-request">
  ##### 示例请求
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/app_lists?name=app list&app_store_identifiers=com.twitter.android`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "name": "app list",
        "id": "2a4um",
        "created_at": "2017-09-06T07:17:26Z",
        "updated_at": "2017-09-06T07:17:26Z",
        "deleted": false,
        "apps": [
          {
            "app_store_identifier": "com.twitter.android",
            "os_type": "Android"
          }
        ]
      },
      "request": {
        "params": {
          "app_store_identifiers": [
            "com.twitter.android"
          ],
          "name": "app list",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="delete-accountsaccount_idapp_listsapp_list_id">
  #### DELETE accounts/:account&#95;id/app&#95;lists/:app&#95;list&#95;id
</div>

删除与当前账户关联的指定应用列表。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/app_lists/:app_list_id`

##### 参数

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，并且通常是所有 Advertiser API 请求（[GET accounts](/zh/x-ads-api/campaign-management#accounts) 除外）的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| app&#95;list&#95;id  <br />*required* | 在此请求中要操作的应用列表的标识符。<br /><br />Type: string<br /><br />Example: `28ukf` |

<div id="example-request">
  ##### 示例请求
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/app_lists/28ukf`

##### 响应示例

```json
    {
      "data": {
        "name": "twitter @ 262689209670784",
        "id": "28ukf",
        "created_at": "2017-08-17T17:07:42Z",
        "updated_at": "2017-09-12T22:20:33Z",
        "deleted": true,
        "apps": [
          {
            "app_store_identifier": "com.twitter.android",
            "os_type": "Android"
          }
        ]
      },
      "request": {
        "params": {
          "app_list_id": "28ukf",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="app-event-provider-configurations">
  ### 应用事件提供商配置
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

[ ❯]()

<div id="get-accountsaccount_idapp_event_provider_configurations">
  #### GET accounts/:account&#95;id/app&#95;event&#95;provider&#95;configurations[¶](#get-accounts-account-id-app-event-provider-configurations "Permalink to this headline")
</div>

获取与当前账户关联的部分或全部应用事件提供商配置（用于移动应用转化跟踪的核心配置）的详细信息。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/11/accounts/:account_id/app_event_provider_configurations`

<div id="parameters">
  ##### Parameters
</div>

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />*optional* | 指定每个单个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />*optional* | 指定一个游标以获取下一页结果。更多信息请参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| ids  <br />*optional* | 通过指定以逗号分隔的标识符列表，将响应范围限定为仅包含所需的配置。最多可以提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `25n` |
| sort&#95;by  <br />*optional* | 按受支持的属性进行升序或降序排序。更多信息请参见 [Sorting](/zh/x-ads-api/fundamentals/sorting)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with&#95;deleted  <br />*optional* | 在请求结果中包含已删除的记录。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with&#95;total&#95;count  <br />*optional* | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有更低的速率限制，目前设置为每 15 分钟 200 次请求。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/11/accounts/18ce54d4x5t/app_event_provider_configurations?ids=25n`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": [
        {
          "provider_name": "Answers powered by Fabric",
          "id": "25n",
          "provider_advertiser_id": "54ac2766f0de9e1f7a00001a",
          "created_at": "2016-12-08T07:49:58Z",
          "provider_advertiser_identifier": "54ac2766f0de9e1f7a00001a",
          "updated_at": "2017-05-12T21:37:15Z",
          "deleted": false
        }
      ],
      "next_cursor": null,
      "request": {
        "params": {
          "ids": [
            "25n"
          ],
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="get-accountsaccount_idapp_event_provider_configurationsid">
  #### GET accounts/:account&#95;id/app&#95;event&#95;provider&#95;configurations/:id
</div>

获取当前账户关联的、用于移动应用转化跟踪的事件提供方配置（核心配置）的特定 ID。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/11/accounts/:account_id/app_event_provider_configurations/:id`

##### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 被使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| id  <br />*必填* | 你在此请求中要操作的应用事件提供方配置（app event provider configuration）的引用。<br /><br />类型：string<br /><br />示例：`25n` |
| with&#95;deleted  <br />*可选* | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/11/accounts/18ce54d4x5t/app_event_provider_configurations/25n`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data_type": "app_event_provider_configuration",
      "data": {
        "provider_name": "API McTestface",
        "id": "25n",
        "provider_advertiser_id": "123",
        "created_at": "2017-03-24T22:24:56Z",
        "provider_advertiser_identifier": "123",
        "updated_at": "2017-03-24T22:24:56Z",
        "deleted": false
      },
      "request": {
        "params": {
          "id": "25n",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="post-accountsaccount_idapp_event_provider_configurations">
  ##### POST accounts/:account&#95;id/app&#95;event&#95;provider&#95;configurations
</div>

创建一个与当前账户关联的新的应用事件提供商配置。每个广告账户只能关联一个 MACT 提供商。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/11/accounts/:account_id/app_event_provider_configurations`

##### 参数

| 名称 | 说明 |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求必需的参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| provider&#95;advertiser&#95;id  <br />*required* | 来自提供方网站的广告主标识符。<br /><br />类型：string<br /><br />示例：`client1` |

<div id="example-request">
  ##### 示例请求
</div>

`POST https://ads-api.x.com/11/accounts/18ce54d4x5t/app_event_provider_configurations?provider_advertiser_id=client1`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "provider_name": "InternalTestProvider",
        "id": "e5g",
        "provider_advertiser_id": "client1",
        "created_at": "2017-08-30T05:40:07Z",
        "provider_advertiser_identifier": "client1",
        "updated_at": "2017-09-06T06:39:03Z",
        "deleted": false
      },
      "request": {
        "params": {
          "provider_advertiser_id": "client1",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="delete-accountsaccount_idapp_event_provider_configurationsid">
  #### DELETE accounts/:account&#95;id/app&#95;event&#95;provider&#95;configurations/:id[¶]
</div>

删除属于当前账户的指定应用事件提供商配置。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/11/accounts/:account_id/app_event_provider_configurations/:id`

##### 参数

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。该参数出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| id  <br />*required* | 表示此请求中要操作的应用事件提供方配置的引用。<br /><br />Type: string<br /><br />Example: `e5g` |

<div id="example-request">
  ##### 示例请求
</div>

`DELETE https://ads-api.x.com/11/accounts/18ce54d4x5t/app_event_provider_configurations/e5g`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "provider_name": "InternalTestProvider",
        "id": "e5g",
        "provider_advertiser_id": "client1",
        "created_at": "2017-08-30T05:40:07Z",
        "provider_advertiser_identifier": "client1",
        "updated_at": "2017-08-30T05:40:26Z",
        "deleted": true
      },
      "request": {
        "params": {
          "id": "e5g",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="conversion-attribution">
  ### 转化归因
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

<div id="get-conversion_attribution">
  #### GET conversion&#95;attribution
</div>

向 X 发起查询，在不写入转化事件的情况下检查转化归因。响应将指示 X 的归因结果。

这与 [POST conversion&#95;event](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/conversion-event#post-conversion-event) 端点相关。

在响应中，可能返回三种情况之一：X 归因、TAP 归因或无归因。无论哪种情况，`twitter_attribution` 节点都会存在：当没有 X 归因时其值为 `null`，当存在 X 归因时会按下方示例响应中的方式填充。如果声明了 TAP 归因，则会包含一个 `tpn_attribution` 节点并相应填充。有关更多信息，请参阅 [TAP overview](https://developer.x.com/en/docs/twitter-ads-api/measurement/twitter-audience-platform/overview)。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/conversion_attribution`

##### 参数

| Name | Description |
| :--- | :--- |
| app&#95;id  <br />*required* | 与相应应用商店关联的唯一标识符。<br /><br />类型：int, string<br /><br />示例：`333903271`, `com.vine.android` |
| conversion&#95;time  <br />*required* | 转化事件发生的时间，使用附带毫秒的 ISO-8601 时间戳格式。<br /><br />类型：string<br /><br />示例：`2014-05-22T02:38:28.103Z` |
| conversion&#95;type  <br />*required* | 转化事件的类型。<br /><br />类型：enum<br /><br />可能的取值：`ACHIEVEMENT_UNLOCKED`, `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `INSTALL`, `INVITE`, `LEVEL_ACHIEVED`, `LOGIN`, `PURCHASE`, `RATED`, `RESERVATION`, `RE_ENGAGE`, `SEARCH`, `SHARE`, `SIGN_UP`, `SPENT_CREDITS`, `TUTORIAL_COMPLETE`, `UPDATE` |
| hashed&#95;device&#95;id  <br />*required* | 通过 HMAC&#95;SHA-256 算法哈希得到的 IDFA 或 AdID。<br /><br />类型：string<br /><br />示例：`ABCD1234XYZ` |
| os&#95;type  <br />*required* | 应用的操作系统类型。<br /><br />类型：enum<br /><br />可能的取值：`IOS`, `ANDROID` |
| click&#95;window  <br />*optional* | 此事件的点击归因窗口（天数）。<br /><br />类型：int<br /><br />默认值：`14`  <br />可能的取值：`1`, `7`, `14`, `30` |
| extra&#95;device&#95;ids  <br />*optional* | 传入 `hashed_device_id` 的设备 ID 先经 SHA1 再经 SHA256 处理后的值，以及任何额外的已哈希设备 ID。<br /><br />类型：string<br /><br />示例：`ABCD1234XYZ`, `DCBA4321XYZ` |
| non&#95;twitter&#95;engagement&#95;time  <br />*optional* | 转化发生前最近一次非 Twitter 互动的时间。<br /><br />类型：string<br /><br />示例：`2014-05-22T02:38:28.103Z` |
| non&#95;twitter&#95;engagement&#95;type  <br />*optional* | 转化事件发生前的非 Twitter 互动类型。<br /><br />类型：enum<br /><br />可能的取值：`CLICK`, `VIEW` |
| view&#95;through&#95;window  <br />*optional* | 此事件的展示归因窗口（天数）。<br /><br />类型：int<br /><br />默认值：`1`  <br />可能的取值：`0`, `1`, `7`, `14`, `30` |

<div id="example-request">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/12/conversion_attribution?app_id=333903271&os_type=IOS&hashed_device_id=ABCD1234XYZ&conversion_type=INSTALL&conversion_time=2013-04-16T07:00:00.123Z&click_window=14&view_through_window=0`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      data:{
        "app_id":"333903271",
        "os_type":"IOS",
        "hashed_device_id":"ABCD1234XYZ",
        "conversion_type":"INSTALL",
        "partner_client_id":"123abc",
        "conversion_time":"2013-04-16T07:00:00.123Z",
        "click_window":14,
        "view_through_window":0,
        "extra_device_ids":null,
        "twitter_attribution":{
          "engagement_type":"VIEW",
          "engagement_time":"2013-04-16T07:00:00.123Z",
          "country_code":"US",
          "tweet_id":"383034667764441088",
          "attribution_type":"PROMOTED",
          "promoted_properties":{
            "campaign_id”: “54a21",
            "campaign_name":"Vine_Contest",
            "line_item_id":"23ab2d4"
          }
        }
      },
      "data_type":"conversion_attribution",
      "request":{
        "params":{
          "app_id":"333903271",
          "os_type":"IOS",
          "hashed_device_id":"ABCD1234XYZ",
          "conversion_time":"2013-04-16T07:00:00.123Z",
          "conversion_type":"INSTALL",
          "click_window":14,
          "view_through_window":0
        }
      }
    }
```
