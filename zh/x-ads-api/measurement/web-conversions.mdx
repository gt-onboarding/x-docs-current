---
title: 网站转化
keywords: ["网站转化", "转化跟踪", "网站转化跟踪", "转化", "跟踪转化", "转化 API"]
---

import { Button } from '/snippets/zh/button.mdx';

<div id="conversion-api-set-up">
  ## Conversion API 配置
</div>

<div id="prerequisites">
  ### 前提条件
</div>

<div id="ads-api-access-new-applications">
  #### **Ads API 访问权限 - 新应用**
</div>

* 使用 Conversion API 的首要前提是，您需要拥有一个[开发者账号](https://developer.x.com/en/portal/dashboard)以及 [Ads API 访问权限](https://developer.x.com/en/docs/twitter-ads-api/getting-started)。相关流程在 [Ads API 入门](https://developer.x.com/en/docs/twitter-ads-api/getting-started)指南中有详细说明。请注意以下事项：

**步骤 1：开发者账号**

* 在申请[开发者账号](https://developer.x.com/en/portal/dashboard)时，请申请我们的某个订阅[方案](https://developer.x.com/en/portal/products/)，以便即时获批。 
* **注意**：作为最佳实践，我们强烈建议使用公司官方 X 账号来创建开发者账号并申请 Ads API 访问权限。如果开发者账号是关联到个人开发者账号的，那么在需要时这些凭证无法进行转移。最好的做法是将其归属在公司账号下以便持续管理，并按需使用[多用户登录](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html)。否则，至少应确保账号已配置为非默认设置（头图、头像、简介文案和简介 URL），并启用双重身份验证。

**步骤 2：Ads API 申请**

* 请确保为 Ads API 申请准备好正确的 **App** **ID**。App ID 可以在[开发者门户](https://developer.x.com/en/portal/dashboard)的 Projects &amp; Apps 下找到。示例：16489123
* 通过联系您的 X 业务代表来申请 Ads API 访问权限。

<div id="ads-api-access-existing-applications">
  #### **Ads API 访问权限 - 现有应用**
</div>

* 如果你已经有一个正在使用的 Ads API 应用，则可以将该应用和现有访问令牌用于 Conversion API。

<div id="access-tokens">
  #### **访问令牌**
</div>

* 拥有 Ads API 应用的用户账号所对应的用户访问令牌，可以直接在开发者门户中生成和获取。由于该令牌用于你自己的 X 账号，因此称为“个人访问令牌”。关于认证和开发者门户的总体信息请参见[此处](/zh/resources/fundamentals/authentication/overview)。
* 对于非拥有 Ads API 应用的其他用户账号，其用户访问令牌必须通过三方 OAuth 流程生成。使用三方 OAuth 生成访问令牌的选项包括：
  * [在命令行中通过 twurl 工具使用基于 Web 的授权](https://github.com/twitter/twurl#getting-started)
  * [在命令行中使用基于 PIN 的授权](https://developer.x.com/resources/fundamentals/authentication/pin-based-oauth)
  * [实现三方 OAuth 模式的自定义 Web 流程](https://developer.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens)
* 与 Conversion API 搭配使用的任何用户访问令牌，其对应用户都必须具有 AD&#95;MANAGER 或 ACCOUNT&#95;ADMIN 访问级别，可以通过 [authenticated&#95;user&#95;access](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/authenticated-user-access) 端点进行检查。
* **注意：** 按上述方式创建完成后的令牌本身，可以共享给没有 AD&#95;MANAGER 或 ACCOUNT&#95;ADMIN 访问级别的用户使用。

<div id="steps">
  ### **步骤**
</div>

<div id="creating-the-conversion-api-event">
  ### 创建 Conversion API 事件
</div>

要使用 Conversion API，你需要在 Ads Manager 中创建一个新的转化事件，或者使用已经创建并与 X Pixel 配合使用的现有事件。如果你希望在 Pixel 事件和 Conversion API 事件之间进行去重处理，则需要使用之前为 Pixel 创建的那个现有事件。 

<div id="option-1-using-an-existing-conversion-event-in-ads-manager">
  ##### 选项 1：在 Ads Manager 中使用现有转化事件
</div>

如果你想使用已经与 X pixel 搭配的现有事件，可以这样做，你需要从该事件中获取 Event ID。若你在同一个事件上同时使用 Pixel 和 Conversion API，请务必在 Pixel 代码片段和 Conversion API 请求中都使用去重键（在请求中作为 `conversion_id`），以便对同一事件在 Pixel 与 Conversion API 之间进行事件去重。更多信息请参阅 d. Testing Events and Deduplication 部分。 

<div id="option-2-creating-a-new-conversion-event-in-ads-manager">
  ##### 选项 2：在 Ads Manager 中创建新的转化事件：
</div>

在创建事件之前，必须先在 Events Manager 中创建一个 Event Source（事件源）。要验证你的账户中是否已添加 Event Source（X Pixel），请前往 Events Manager，查看左侧菜单中是否有 X Pixel。

如果你还没有添加 Event Source，请按照以下步骤创建一个 Event Source。

1. 前往 ads.x.com
2. 导航到左上角的 **Tools** 区域并点击 **Events Manager**
3. 如果你在左侧侧边栏还没有 X Pixel Event Source，请在右上角选择 **Add event source** 来添加事件源
   1. X Pixel Event Source 的 ID 就是你的 **Pixel ID**

现在你已经有了一个 Event Source 和 Pixel ID。你需要在该 Event Source 内创建一个事件，用于跟踪你希望追踪的转化行为：

1. 在 X Pixel Event Source 中，选择右侧的 **Add events**
2. 选择使用 **Conversion API** 进行安装
3. 你将会看到该事件的 **Pixel ID** 和 **Event ID**，它们会在 API 中使用
   1. 该事件的 ID 就是你的 Event ID
4. 点击 **Save**，你的转化事件就会被创建完成并可以开始使用

<div id="preparing-identifiers-for-conversion-events">
  ### 为转化事件准备标识符
</div>

目前至少需要提供一个标识符，例如 Click ID（`twclid`）、电子邮件地址或电话号码。如果使用 IP 地址或用户代理，则必须同时提供第二个标识符，才能实现准确的转化匹配。

提供更多标识符可以提升转化匹配率。

|     |     |     |
| :--- | :--- | :--- |
| 客户匹配字段 | 格式 | 是否需要哈希？ |
| X Click ID | 由 X 生成（[了解更多](https://business.x.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html#faq)） | 否  |
| 电子邮件地址 | 去除首尾空格 | 需要（SHA256） |
| 电话号码 | [E164 标准](https://en.wikipedia.org/wiki/E.164) | 需要（SHA256） |

|     |     |     |
| :--- | :--- | :--- |
| IP 地址 | 去除首尾空格 | 否  |
| 用户代理 | 去除首尾空格 | 否  |

<div id="1-prepare-x-click-id-identifier">
  #### 1. 准备 X Click ID 标识符
</div>

建议在转化请求中始终包含 Click ID。

在用户跳转到目标网站后，如果 URL 中包含查询字符串参数 `twclid`，应从中解析出 Click ID。 

基本 JavaScript 代码示例：

```js
var queryString = document.location.search;
if (queryString.has('twclid') {
  twitterClickID = getParam(queryString, 'twclid');
  // 建议的后续步骤：记录日志，插入到本地存储
}
```

建议执行以下操作： 

1. 当 URL 查询参数中存在 `twclid` 值时，始终对其进行解析。

2. 将该数据与相关的表单字段或转化事件信息一并存储。

将 Click ID 关联到转化事件和工作流信息，可以支持如下场景：批处理、用于分析多种网站导航路径并据此创建转化事件的算法，以及批量上传。

Event Source URL 应进行[URL 编码](https://en.wikipedia.org/wiki/Percent-encoding)，用于表示触发该事件的网页。

<div id="2-prepare-email-identifier">
  #### 2. 准备电子邮件标识符
</div>

可以发送受支持的客户匹配字段，但在发送前应先进行规范化处理，并在需要时进行哈希以保护隐私。

这些信息必须使用 SHA256 进行哈希，且不得添加盐值。 

例如，对于电子邮件地址 test@x.com，应以哈希后的格式发送给我们：d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62。

<div id="3-prepare-phone-identifier">
  #### 3. 准备电话号码标识符
</div>

电话号码应按照 [E.164 标准](https://en.wikipedia.org/wiki/E.164) 提供，并且必须使用 SHA256 算法进行无盐哈希处理。 

例如，对于美国电话号码 +11234567890，应将其以哈希后的格式发送给我们：1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231。

<div id="4-prepare-ip-address-identifier">
  #### 4. 准备 IP 地址标识符
</div>

IP 地址必须与另一个标识符（twclid、电子邮件地址、电话号码或 user agent）一起传递。此标识符不需要进行哈希处理。

该值以点分十进制形式表示，由四个用点分隔的数字组成。例如，某个用户的 IP 地址可能是 8.25.197.25。

<div id="5-prepare-user-agent-identifier">
  #### 5. 准备用户代理标识符
</div>

必须将用户代理与另一个标识符（twclid、电子邮件地址、电话号码或 IP 地址）一起传递。此标识符无需进行哈希处理。

该标识符使服务器能够识别发出请求的用户代理所使用的应用、操作系统、供应商以及/或版本。例如，该值可以传递为 Mozilla/5.0 (Macintosh; Intel Mac OS X 10&#95;15&#95;7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36。

<div id="constructing-the-conversion-event-request">
  ### 构建转化事件请求
</div>

`POST: version/measurement/conversions/:pixel_id`

为特定广告账户发送转化事件。应检查响应状态码是否表示成功（HTTP 200 OK）。建议在返回错误码时，实现重试机制并进行基础日志记录。

有关该端点的 URL 和 POST 请求体参数的详细信息，请参见 [API Reference](https://developer.x.com/en/docs/twitter-ads-api/measurement/api-reference/conversions) 部分。 

<div id="example-request-formatted-for-readability">
  ### 示例请求（为便于阅读进行了格式化）
</div>

```json

    twurl -H 'ads-api.x.com' -X POST '/12/measurement/conversions/oka17' --data '
    {
      "conversions":[
         {
            "conversion_time":"2022-02-18T01:14:00.603Z",
            "event_id":"ol288",
            "identifiers":[
               {
                  "twclid":"23opevjt88psuo13lu8d020qkn"
               },
               {
                  "hashed_email":"d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62"
               },
               {
                  "hashed_phone_number":"1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231"
               },
               {
                  "ip_address":"1.0.0.0",
                  "user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
               }
            ],
            "value":"20.00",
            "number_items":3,
            "conversion_id":"23294827",
            "description":"宠物用品购买",
            "contents":[
               {
                  "content_id":"1",
                  "content_name":"Blankets",
                  "content_type":"Pet supplies",
                  "content_price":100.99,
                  "num_items":1,
                  "content_group_id":"123"
               }
            ]
         }
      ]
    }' --header 'Content-Type: application/json'

```

### 示例响应

```json
{"request": {
 "params": {
     "account_id":"18ce552mlaq"}
 },
 "data": {
    "conversions_processed":1,
     "debug_id":"ff02e052-36e4-47d6-bdf0-6d8986446562"}
}
```

<div id="rate-limit">
  ### 速率限制
</div>

速率限制为每个账号、每个 15 分钟时间段 60,000 个事件。

请注意，你的服务器端代码可能需要在本次请求调用之外实现一些逻辑，包括：

1. 对用户行为进行埋点（日志记录），以便能够为每个事件发送正确的转化数据

2. 实现必要的逻辑，以过滤掉已行使相关隐私选择权的用户的转化事件——例如，他们在广告主网站上选择拒绝被追踪或拒绝出售其个人信息的情况

3. 与事件触发器和页面进行集成，以便捕获事件并发送转化数据

<div id="testing-events-and-deduplication">
  ### 测试事件和去重
</div>

<div id="testing-events">
  ### 测试事件
</div>

当你的事件成功接收到转化事件后，在 12 到 24 小时内，Ads Manager 的 Conversion Tracking 页面中，‘Single event web tag’ 的状态应显示为 TRACKING。通过 Conversion API 发送转化事件不会影响正在投放的广告系列。 

你还可以通过以下方式，按标签 ID 查看你的转化事件分析结果：

* Ads Manager 数据导出（[网站转化跟踪分析帮助页面](https://business.x.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html)）

* 通过 Ads API 导出数据（segmentation&#95;type=CONVERSION&#95;TAGS） 

<div id="duplication-between-pixel-and-conversion-api">
  ### Pixel 与 Conversion API 之间的去重
</div>

如果你希望对来自 Pixel 和 Conversion API 请求的转化进行去重，我们提供了 `conversion_id` 作为去重键。去重只会在事件级别进行。换句话说，要在 Pixel 和 CAPI 请求之间实现去重，广告主必须在两种请求中使用同一事件，并且使用相同的 `conversion_id`。去重只能发生在 48 小时时间窗口内收到的事件上。

<div id="conversion-tracking-overview">
  ## 转化跟踪（概览）
</div>

<div id="summary">
  ### 摘要
</div>

转化跟踪可以衡量在看到并与您在 X 上的广告互动之后，执行目标行为的 X 用户数量。它使您能够衡量哪些广告系列带来了网站访问、注册和购买等行为。这为广告主提供了站外转化衡量能力，以便了解其直接响应类广告的表现，从而以更具成本效益的方式获取客户。

通过使用转化标签，广告主可以跟踪用户转化，并将其回溯到 X 上的广告系列。这为他们提供了可见性，从而优化广告系列，以达成其每次获客成本（CPA）目标。

借助转化跟踪，广告主可以衡量多种网站行为。他们可以根据广告系列希望推动的目标行为，选择一个或多个操作类型：

* 网站访问：用户访问广告主网站上的某个落地页
* 购买：用户在广告主网站上完成某个产品或服务的购买
* 下载：用户从广告主网站下载某个文件，例如白皮书或软件包
* 注册：用户注册广告主的服务、订阅新闻简报或电子邮件沟通
* 自定义：用于归类不属于上述任一类别的自定义行为

X 的转化跟踪为广告主提供了完整的转化归因视图。与客户可能用来替代 X 原生转化跟踪能力的第三方测量系统（例如与第三方跟踪标签配合使用的唯一点击 URL 链接）相比，X 的转化标签支持广告主跟踪归因到营销漏斗中上层阶段互动行为的转化，例如帖子展开、转发、点赞、回复、关注，以及曝光。

<div id="faq">
  ### 常见问题
</div>

<AccordionGroup>
  <Accordion title="转化跟踪标签是如何工作的？">
    首先，广告主会创建一个转化标签，这是一小段由 X 提供的代码，并将其放置在自己的网站上。此时，该标签已准备好在用户完成指定操作时对转化进行统计。

    随后，用户会在 X 客户端上看到广告主的广告，从而前往广告主的网站并执行已被打上标签的操作。如果用户在广告主在设置标签时所指定的归因时间窗口内完成该操作，标签会识别出该用户之前与 X 广告有过互动。然后标签会“触发”，即向 X 的服务器发送通知，以便将这次转化归因到产生该转化的广告。
  </Accordion>

  <Accordion title="在创建广告系列的过程中，是否有方式让用户选择哪些跟踪像素与该广告系列相关？">
    没有，我们的产品目前不支持将特定转化标签与特定广告系列一一对应关联。相反，一旦标签设置完成，系统会自动记录是哪条广告为某个标签带来了转化。
  </Accordion>

  <Accordion title="转化标签的默认归因时间窗口设置是什么？">
    默认曝光归因时间窗口：1 天

    默认互动归因时间窗口：14 天

    这些默认设置可以在创建转化标签时或标签创建后的任何时间进行更改。互动归因时间窗口的可选项为 1、7、14、30、60 和 90 天。曝光归因时间窗口的可选项为无、1、7、14、30、60 和 90 天。
  </Accordion>

  <Accordion title="有哪些有效的 DR 创意和策略可以有效推动转化？">
    虽然每个客户的目标、情况和策略都不同，但以下是一些对参与转化跟踪 alpha 或 beta 测试的客户行之有效的做法：

    **创意：**

    * **优惠**：将折扣、促销或免运费等优惠与推广帖子搭配使用，以提高用户对目标行为的兴趣
    * **抽奖和竞赛**：尤其是对于知名品牌，抽奖和竞赛在推动转化方面效果显著
    * **帖子文案实验**：测试全大写与小写的差异（如 FREE 与 free 或 NOW 与 now）
    * **截止日期**：设置截止日期以鼓励人们立即采取行动（例如：优惠截止至 12 月 12 日！）
    * **添加吸引人的照片**：值得测试在帖子创意中加入视觉上更具吸引力的照片是否有助于提升转化；结果可能因情况或具体客户产品/服务而异。

    **定向：**

    * @handle 定向和兴趣分类定向：当帖子文案和 @handle 与帖子目标受众高度匹配时，有助于带来更多转化
    * 使用细分但高流量的关键词：在演唱会等场景中，使用与艺人/音乐人相关的关键词（例如其姓名）被证明是有效的。
    * 定制受众：同时使用 TA web 和转化跟踪的客户，比使用其他定向方式的对照组获得了更低的 CPA

    广告系列细分越精细，转化报告结果就越具可操作性。例如，相比优化包含 50 个关键词的广告系列，优化只包含 4 个关键词的广告系列要容易得多。
  </Accordion>
</AccordionGroup>

<div id="troubleshooting-and-support-for-conversion-api">
  ## Conversion API 的故障排查与支持
</div>

如果您在调用 API 后对错误代码有疑问，请参阅下文章节。对于其他任何问题，请随时联系您的 Twitter 业务代表，我们会尽快协助您解决。 

<div id="error-handling-and-explanation">
  ### 错误处理与说明
</div>

只有当单个请求中包含的所有转化都没有任何错误时，该请求才会被视为成功。若某个单独转化中存在任何错误，端点将返回该转化所有相关错误的列表。

<div id="x-ads-api-error-codes-overview">
  ### X Ads API 错误代码概览
</div>

以下是 Ads API 中错误代码的完整列表：

[https://developer.x.com/en/docs/twitter-ads-api/response-codes](https://developer.x.com/en/docs/twitter-ads-api/response-codes)

成功的 Conversion API 响应会返回 2xx 系列 HTTP 状态码，并在响应体中包含一个基于 JSON 的载荷，其中包含所请求的对象。

<div id="when-there-is-a-500-series-http-code-its-related-to-a-server-issue-instead-of-your-request-or-account-set-up-please-check-the-x-api-status-page-or-the-developer-community-forum-in-case-others-are-having-similar-issues">
  #### **当出现 500 系列 HTTP 状态码时**，这与服务器问题有关，而不是你的请求或账号配置问题。请查看 [X API status page](https://api.twitterstat.us/) 或 [developer community forum](https://devcommunity.x.com/) 以了解是否有其他人遇到类似问题。
</div>

<div id="when-there-is-a-400-series-http-code-the-common-cases-are">
  #### 当出现 400 系列 HTTP 状态码时，常见情况包括
</div>

* 400 Bad Request（请求不符合规范）

* 401 Unauthorized（身份验证问题）

* 403 Forbidden（与该开发者账号关联的 API 访问问题）

* 404 Not Found（该端点的 URL 或参数可能不正确）

<div id="conversion-api-error-codes">
  ### Conversion API 错误代码
</div>

<div id="400-bad-request-scenarios">
  #### 400 Bad Request 场景
</div>

| **原因** | **类型** | **错误消息** |
| :--- | :--- | :--- |
| 缺少标识符错误（当前为已哈希的电子邮件地址或 X 点击 ID - twclid） | 400 Bad Request | 必须至少提供一个用户标识符 |
| 无效的已哈希电子邮件地址 | 400 Bad Request | Hashed&#95;email 不是有效的 SHA-256 哈希值 |
| event&#95;id 的类型不是单个事件标签（SET） | 400 Bad Request | Event&#95;id (&lt;event&#95;id&gt;) 不是单个事件标签（SET） |
| 请求的转化事件数超出限制（当前每个请求 500 个事件） | 400 Bad Request | 转化事件数量上限为 500 |
| 缺少 Event ID | 400 Bad Request | 未找到 Event ID |

<div id="json-error-code-example">
  #### JSON 错误代码示例
</div>

<div id="request">
  ##### 请求：
</div>

`POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dkt", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json`

<div id="error-message">
  #### 错误信息：
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"event_id (o6dkt) 不是单个事件标签 (SET)","parameter":"event_id"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

#### 请求：

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dl3", "identifiers": [{"twclid": ""}]}]}' --header 'Content-Type: application/json' `

<div id="error-message">
  #### 错误信息：
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"At least one user identifier must be provided","parameter":""}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

#### 请求：

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"o6dl3", "identifiers": [{"hashed_email": "abc"}]}]}' --header 'Content-Type: application/json'`

<div id="error-message">
  #### 错误信息：
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"hashed_email (abc) is not a valid SHA-256 hash","parameter":"hashed_email"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

#### 请求：

`twurl_ads -X POST '/11/measurement/conversions/o6dkt'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603", "event_id":"o6dl3", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json'`

<div id="error-message">
  #### 错误信息：
</div>

`{"errors":[{"code":"INVALID_PARAMETER","message":"Expected Time in yyyy-MM-ddTHH:mm:ss.SSSZ, got \"2022-06-16T01:14:00.603\" for conversion_time","parameter":"conversion_time"}],"request":{"params":{"account_id":"18ce552mlaq"}}}`

<div id="401-unauthorized">
  ### 401 未授权
</div>

**原因**：缺少或不正确的认证凭据 

**解决方案**：按照[设置文档](https://developer.x.com/en/docs/twitter-ads-api/measurement/guides/conversion-api)中的认证步骤操作，使用三种认证方法之一：

对于非 Ads API 应用所有者的用户句柄，其用户 Access Tokens 必须通过三方 OAuth 流程生成。使用三方 OAuth 生成访问令牌的方式包括：

* [通过 twurl 实用工具在命令行中进行基于 Web 的授权](https://github.com/twitter/twurl#getting-started)

* [在命令行中使用基于 PIN 的授权](https://developer.x.com/resources/fundamentals/authentication/pin-based-oauth)

* [自定义 Web 流程，实现三方 OAuth 模式](https://developer.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens)

用于 Conversion API 的任何用户令牌都必须属于访问级别*为 AD&#95;MANAGER 或 ACCOUNT&#95;ADMIN 的用户，可通过 [authenticated&#95;user&#95;access](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/authenticated-user-access) 端点进行检查。

<div id="403-access-forbidden">
  ### 403 访问被禁止
</div>

| 原因 | 类型 | 错误消息 |
| :--- | :--- | :--- |
| 你正在使用的开发者账号尚未获得 Ads API 的访问权限。[在此申请访问权限](https://developer.x.com/en/docs/twitter-ads-api/apply)。 | 403 Unauthorized Client | 发出此请求的 id 为 &lt;&gt; 的客户端应用无法访问 X Ads API。请确保你的应用具有 advertiser-api 访问权限。使用 &#39;twurl accounts&#39; 和 &#39;twurl set default &lt;username&gt; &lt;key&gt;&#39; 来更改你正在使用的应用。 |

<div id="404-not-found">
  ### 404 未找到
</div>

| 原因 | 类型 | 错误消息 |
| :--- | :--- | :--- |
| 请求的 URL 或参数不适用于该 endpoint | 404 Route Not Found | 找不到请求的资源 |
| 你无权访问拥有 pixel&#95;id/Universal website tag 的账户 | 404 Not Found | User &lt;user&#95;id&gt; does not have access to account &lt;account&#95;id&gt;. 输入 &#39;sn &lt;user&#95;id&gt;’ 获取该用户的 handle。使用 &#39;twurl accounts&#39; 和 &#39;twurl set default \u003Cusername\u003E&#39; 更改你正在使用的用户。 |
| event id 不属于所提供的、与该 pixel ID（UWT ID）关联的账户 | 404 Not Found | event&#95;id &lt;event&#95;id&gt; does not belong to provided account |

### JSON 错误码示例

#### 请求：

`twurl_ads -X POST '/11/measurement/conversions/o8z6j'  --data '{"conversions":[{"conversion_time": "2022-06-16T01:14:00.603Z", "event_id":"abc", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}]}]}' --header 'Content-Type: application/json'`

**错误消息：**

`{"errors":[{"code":"NOT_FOUND","message":"event_id (abc) does not belong to provided account","parameter":"event_id"},{"code":"INVALID_PARAMETER","message":"event_id (abc) is not a single event tag (SET)","parameter":"event_id"}],"request":{"params":{"account_id":"18ce55gze09"}}}`

<div id="api-reference-index">
  ## API 参考索引
</div>

要查看完整的 API 参考，请从列表中选择一个端点：

### 网站转化

|     |     |
| :--- | :--- |
| 转化 API | [measurement/conversions/:pixel&#95;id](https://developer.x.com/en/docs/x-ads-api/measurement/web-conversions/api-reference/conversions) |
| 网站事件标签 | [accounts/:account&#95;id/web&#95;event&#95;tags](https://developer.x.com/en/docs/x-ads-api/measurement/web-conversions/api-reference/web-event-tags) |

<div id="web-conversions">
  ### Web Conversions
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

`POST version/measurement/conversions/:pixel_id`

发送网站转化事件，对应单个 Event Tag ID。

应检查响应状态码是否表示成功（HTTP 200 OK）。建议在返回错误代码的情况下，实施重试机制并启用基本日志记录。

速率限制为每个账号在每 15 分钟时间窗口内最多 100,000 次请求（每个请求允许发送 500 个事件）。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/measurement/conversions/:pixel_id`

<div id="request-url-parameters">
  ##### 请求 URL 参数
</div>

| 名称 | 说明 |
| :--- | :--- |
| pixel&#95;id  <br />*required* | 广告账户的 Base Tag ID。表示该广告账户 Base Tag ID 的 base36 编码值。<br /><br />Type: string<br /><br />Example: `o8z6j` |
| conversions  <br />*required* | API 请求的 POST 请求体中的对象。为转化事件列表。最多可提供 500 个转化事件。支持的字段请参见下表。<br /><br />Type: array<br /><br />Example: `"conversions":[{"conversion_time": "2022-02-18T01:14:00.603Z", "event_id":"o87ne", "identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"}], "conversion_id": "23294827"}]` |

<div id="conversions-object">
  ###### conversions 对象
</div>

| Name | Description |
| :--- | :--- |
| conversion&#95;time  <br />*required* | 以 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 表示的时间。<br /><br />Type: string<br /><br />Example: `2017-10-05T00:00:00Z` |
| event&#95;id  <br />*required* | 特定事件的 36 进制 ID。它与此广告账户中预先配置的事件相匹配。在 Events Manager 中，对应事件中的该字段称为 ID。<br /><br />Type: string<br /><br />Example: `o87ne` 或 `tw-o8z6j-o87ne`（`tw-pixel_id-event-id`）均可接受 |
| identifiers  <br />*required* | 用于匹配转化事件的标识符对象列表。支持的字段列在下表中。至少需要提供一个标识符对象。<br /><br />如果使用 IP 地址或 user agent，则必须同时发送第二个标识符才能实现正确的转化匹配。<br /><br />Type: array<br /><br />Example: `"identifiers": [{"twclid": "23opevjt88psuo13lu8d020qkn"},{"hashed_email": "e586883b2b4faf78d48300a79e0e15138d664cdf796ffb86e533170a9893eda8"}]` |
| number&#95;items  <br />*optional* | 事件中购买的商品数量。必须为大于零的正数。<br /><br />Type: integer<br /><br />Example: `4` |
| price&#95;currency  <br />*optional* | 事件中购买商品所使用的货币，以 [ISO-4217](https://en.wikipedia.org/wiki/ISO_4217) 表示。详细信息参见 [Currency](https://developer.x.com/en/docs/twitter-ads-api/currency)。<br /><br />Type: string<br /><br />Default: `USD`<br /><br />Example: `JPY` |
| value  <br />*optional* | 事件中购买商品的价格数值，以 `price_currency` 所表示的货币计价。<br /><br />Type: double<br /><br />Example: `100.00` |
| conversion&#95;id  <br />*optional* | 用于像素和 Conversion API 转化之间的去重。用于标识转化事件的标识符，可用于在&#95;同一事件标签&#95;中的 Web Pixel 与 Conversion API 转化之间进行去重。更多信息请参见 [Conversions Guide](https://developer.x.com/en/docs/twitter-ads-api/measurement/guides/conversion-api) 中的 Testing Events and Deduplication 部分。<br /><br />Type: string<br /><br />Example: `23294827` |
| description  <br />*optional* | 包含关于转化的任何补充信息的描述。<br /><br />Type: string<br /><br />Example: `test conversion` |
| contents  <br />*optional* | 与特定商品/内容相关的详细信息列表，用于提供更细粒度的信息。支持的字段见下表。<br /><br />Type: array<br /><br />Example: `contents": [{"content_id": "1", "content_name": "Blankets", "content_type": "home improvement", "content_price": 100.99, "num_items": 1, "content_group_id": "123"}, {"content_id": "2"}]` |

<div id="identifiers-object">
  ###### identifiers object
</div>

| Name | Description |
| :--- | :--- |
| ********twclid********  <br />*sometimes required* | 从点击跳转 URL 解析出的点击 ID。如果没有添加任何其他标识符，则此字段为必填项。<br /><br />Type: string<br /><br />Example: `26l6412g5p4iyj65a2oic2ayg2` |
| ********hashed&#95;email********  <br />*sometimes required* | 使用 [SHA256](https://en.wikipedia.org/wiki/SHA-2) 哈希的电子邮件地址。文本必须全部为小写，并在哈希前移除任何开头或结尾的空格。如果没有添加任何其他标识符，则此字段为必填项。<br /><br />Type: string<br /><br />Example: 对于 `test-email@test.com` = `e586883b2b4faf78d48300a79e0e15138d664cdf796ffb86e533170a9893eda8` |
| ********hashed&#95;phone&#95;number********  <br />*sometimes required* | 按 [E164](https://en.wikipedia.org/wiki/E.164) 格式表示并使用 [SHA256](https://en.wikipedia.org/wiki/SHA-2) 进行哈希的电话号码。电话号码在哈希前必须为 E164 格式。如果没有添加任何其他标识符，则此字段为必填项。<br /><br />Type: string<br /><br />Example: 对于 `+11234567890` = `1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231 ` |
| **ip&#95;address**  <br />*sometimes required* | 该值采用点分十进制表示，由四个数字组成并用句点分隔。<br /><br />IP 地址必须与另一个标识符（twclid、电子邮件地址、电话号码或 user agent）一起传递。<br /><br />Type: string<br /><br />Example: 8.25.197.25 |
| **user&#95;agent **  <br />*sometimes required* | 此标识符允许服务器识别发起请求的 user agent 所使用的应用、操作系统、供应商和/或版本。<br /><br />User Agent 必须与另一个标识符（twclid、电子邮件地址、电话号码或 IP 地址）一起传递。<br /><br />Type: string<br /><br />Example: Mozilla/5.0 (Macintosh; Intel Mac OS X 10&#95;15&#95;7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36. |

<div id="contents-object">
  ###### contents 对象
</div>

| Name | Description |
| :--- | :--- |
| content&#95;id  <br />*optional* | SKU 或 GTIN；用于表示内容的标识符。<br /><br />Type: string<br /><br />Example: `jhp` |
| content&#95;group&#95;id  <br />*optional* | 与一组产品变体关联的 ID。<br /><br />Type: integer<br /><br />Example: `group 1` |
| content&#95;name  <br />*optional* | 产品或服务的名称。<br /><br />Type: string<br /><br />Example: `radio flyer` |
| content&#95;price  <br />*optional* | 产品或服务的价格。<br /><br />Type: double<br /><br />Example: `5.00` |
| content&#95;type  <br />*optional* | 已购买产品的类别。<br /><br />Type: string<br /><br />Example: `clothes` |
| num&#95;items  <br />*optional* | 购买的商品数量。<br /><br />Type: integer<br /><br />Example: `1` |

<div id="response-parameters">
  ##### 响应参数
</div>

| Name | Description |
| :--- | :--- |
| conversions&#95;processed | 成功处理的转化数量<br /><br />Type: integer<br /><br />Example: `1` |
| debug&#95;id | 可用于后续排查的调试 UUID<br /><br />Type: string<br /><br />Example: `ff02e052-36e4-47d6-bdf0-6d8986446562` |

<div id="example-request">
  ##### 请求示例
</div>

```json
    twurl -H 'ads-api.x.com' -X POST '/12/measurement/conversions/oka17' --data '
    {
      "conversions":[
         {
            "conversion_time":"2022-02-18T01:14:00.603Z",
            "event_id":"ol288",
            "identifiers":[
               {
                  "twclid":"23opevjt88psuo13lu8d020qkn"
               },
               {
                  "hashed_email":"d360d510a224510f373931ce2d6215a799f5a9c1cef221b0149b6b6b50cced62"
               },
               {
                  "hashed_phone_number":"1fa6b8d986d9b9cd01bf36951815158bbde9f520c0567c835dfe34783d0a4231"
               },
               {
                  "ip_address":"1.0.0.0",
                  "user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"
               }
            ],
            "value":"20.00",
            "number_items":3,
            "conversion_id":"23294827",
            "description":"Pet supply purchases",
            "contents":[
               {
                  "content_id":"1",
                  "content_name":"Blankets",
                  "content_type":"Pet supplies",
                  "content_price":100.99,
                  "num_items":1,
                  "content_group_id":"123"
               }
            ]
         }
      ]
    }' --header 'Content-Type: application/json'
```

<div id="example-request">
  ##### 请求示例
</div>

```json
    {
       "request":{
          "params":{
             "account_id":"18ce552mlaq"
          }
       },
       "data":{
          "conversions_processed":1,
          "debug_id":"ff02e052-36e4-47d6-bdf0-6d8986446562"
       }
    }
```

<div id="web-event-tags">
  ### Web 事件标签
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

`GET accounts/:account_id/web_event_tags`

获取当前账户下部分或全部 Web 事件标签的详细信息。

#### 资源 URL

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags`

#### 参数

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 要使用的账户标识符。出现在资源路径中，并且通常是所有 Advertiser API 请求（[GET accounts](/zh/x-ads-api/campaign-management#accounts) 请求除外）的必填参数。指定的账户必须与已通过认证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| count  <br />*可选* | 指定每个独立请求尝试检索的记录数量。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值、最大值：`1`、`1000` |
| cursor  <br />*可选* | 指定一个游标以获取下一页结果。有关更多信息，请参阅[分页](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| sort&#95;by  <br />*可选* | 按支持的属性进行升序或降序排序。有关更多信息，请参阅[排序](/zh/x-ads-api/fundamentals/sorting)。<br /><br />类型：string<br /><br />示例：`created_at-asc` |
| web&#95;event&#95;tag&#95;ids  <br />*可选* | 通过指定以逗号分隔的标识符列表，将响应限定为所需的 Web 事件标签。最多可提供 200 个 ID。<br /><br />类型：string<br /><br />示例：`o3bk1` |
| with&#95;deleted  <br />*可选* | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |
| with&#95;total&#95;count  <br />*可选* | 在响应中包含 `total_count` 属性。<br /><br />**注意**：此参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求将受到较低的速率限制，目前设置为每 15 分钟 200 个请求。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

#### 示例请求

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags?web_event_tag_ids=o3bk1`

#### 响应示例

```json
    {
      "request": {
        "params": {
          "web_event_tag_ids": [
            "o3bk1"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "name": "web event tag",
          "view_through_window": 7,
          "click_window": 7,
          "embed_code": "<script src="//platform.x.com/oct.js" type="text/javascript"></script><script type="text/javascript">twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img height="1" width="1" style="display:none;" alt=""  src="https://analytics.x.com/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" /><img height="1" width="1" style="display:none;" alt=""  src="//t.co/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" /></noscript>",
          "id": "o3bk1",
          "retargeting_enabled": false,
          "last_tracked_at": "2021-05-22T17:00:04Z",
          "status": "TRACKING",
          "type": "DOWNLOAD",
          "website_tag_id": "ny3od",
          "deleted": false
        }
      ]
    }
```

<div id="get-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### GET accounts/:account&#95;id/web&#95;event&#95;tags/:web&#95;event&#95;tag&#95;id
</div>

获取与当前账户关联的指定 Web 事件标签。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

<div id="parameters">
  ##### 参数
</div>

| 名称 | 说明 |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| web&#95;event&#95;tag&#95;id  <br />*required* | 请求中所使用的 Web 事件标签的引用。<br /><br />Type: string<br /><br />Example: `o3bk1` |
| with&#95;deleted  <br />*optional* | 在请求结果中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

##### 示例请求

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "web event tag",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src="//platform.x.com/oct.js" type="text/javascript"></script><script type="text/javascript">twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img height="1" width="1" style="display:none;" alt=""  src="https://analytics.x.com/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" /><img height="1" width="1" style="display:none;" alt=""  src="//t.co/i/adsct?txn_id=ny3od&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" /></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "TRACKING",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": false
      }
    }
```

<div id="post-accountsaccount_idweb_event_tags">
  #### POST accounts/:account&#95;id/web&#95;event&#95;tags
</div>

为当前账户创建新的 Web 事件标签。

#### 资源 URL

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags`

#### 参数

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 所使用投放账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| click&#95;window  <br />*required* | 此 Web 标签的点击回溯窗口。<br /><br />**Note**: 仅接受下面列出的可选值。<br /><br />Type: int<br /><br />Possible values: `1`, `7`, `14`, `30` |
| name  <br />*required* | Web 标签的名称。<br /><br />Type: string<br /><br />Example: `Sample single conversion event` |
| retargeting&#95;enabled  <br />*required* | 指示是否为此 Web 标签启用再营销。<br /><br />Type: boolean<br /><br />Possible values: `true`, `false` |
| type  <br />*required* | Web 标签的类型。<br /><br />Type: enum<br /><br />Possible values: `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `CUSTOM`, `DOWNLOAD`, `PRODUCT_CUSTOMIZATION`,`PURCHASE`, `SEARCH`, `SIGN_UP`, `SITE_VISIT`, `START_TRIAL`, `SUBSCRIBE`<br /><br />(在 UI 中，`SITE_VISIT` 显示为“Page view”，`SIGN_UP` 显示为“Lead”) |
| view&#95;through&#95;window  <br />*required* | 此 Web 标签的曝光回溯窗口。该值必须始终小于或等于 `click_window` 的值。<br /><br />**Note**: 仅接受下面列出的可选值。<br /><br />Type: int<br /><br />Possible values: `0`, `1`, `7`, `14`, `30` |

##### 示例请求

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags?click_window=7&name=web event tag&retargeting_enabled=false&type=SITE_VISIT&view_through_window=7`

#### 响应示例

```json
    {
      "data": {
        "name": "web event tag",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": null,
        "status": "UNVERIFIED",
        "type": "SITE_VISIT",
        "website_tag_id": "ny3od",
        "deleted": false
      },
      "request": {
        "params": {
          "name": "web event tag",
          "view_through_window": 7,
          "click_window": 7,
          "retargeting_enabled": false,
          "account_id": "18ce54d4x5t",
          "type": "SITE_VISIT"
        }
      }
    }
```

<div id="put-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### PUT accounts/:account&#95;id/web&#95;event&#95;tags/:web&#95;event&#95;tag&#95;id
</div>

更新与当前账户关联的 Web 事件标签。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

#### 参数

| Name | Description |
| :--- | :--- |
| account&#95;id  <br />*required* | 广告账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| web&#95;event&#95;tag&#95;id  <br />*required* | 当前账户上某个 Web tag 的标识符。<br /><br />Type: string<br /><br />Example: `o3bk1` |
| click&#95;window  <br />*optional* | 此 Web tag 的点击回溯窗口。<br /><br />**注意**：仅接受下方列出的可用取值。<br /><br />Type: int<br /><br />Possible values: `1`, `7`, `14`, `30` |
| name  <br />*optional* | Web tag 的名称。<br /><br />Type: string<br /><br />Example: `Sample single conversion event` |
| retargeting&#95;enabled  <br />*optional* | 指示是否为此 Web tag 启用再营销。<br /><br />Type: boolean<br /><br />Possible values: `true`, `false` |
| type  <br />*optional* | Web tag 的类型。<br /><br />Type: enum<br /><br />Possible values: `ADDED_PAYMENT_INFO`, `ADD_TO_CART`, `ADD_TO_WISHLIST`, `CHECKOUT_INITIATED`, `CONTENT_VIEW`, `CUSTOM`, `DOWNLOAD`, `PRODUCT_CUSTOMIZATION`,`PURCHASE`, `SEARCH`, `SIGN_UP`, `SITE_VISIT`, `START_TRIAL`, `SUBSCRIBE`<br /><br />(在 UI 中，`SITE_VISIT` 显示为 “Page view”，`SIGN_UP` 显示为 “Lead”) |
| view&#95;through&#95;window  <br />*optional* | 此 Web tag 的展示回溯窗口。该值必须始终小于或等于 `click_window` 的值。<br /><br />**注意**：仅接受下方列出的可用取值。<br /><br />Type: int<br /><br />Possible values: `0`, `1`, `7`, `14`, `30` |

#### 示例请求

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1?type=DOWNLOAD`

#### 示例响应

```json
    {
      "data": {
        "name": "web event tag",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "UNVERIFIED",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": false
      },
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "type": "DOWNLOAD",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="delete-accountsaccount_idweb_event_tagsweb_event_tag_id">
  #### DELETE accounts/:account&#95;id/web&#95;event&#95;tags/:web&#95;event&#95;tag&#95;id
</div>

删除当前账户下的指定 Web 事件标签。

#### 资源 URL

`https://ads-api.x.com/12/accounts/:account_id/web_event_tags/:web_event_tag_id`

<div id="parameters">
  ##### 参数
</div>

| 名称 | 描述 |
| :--- | :--- |
| account&#95;id  <br />*必填* | 所使用账户的标识符。出现在资源路径中，通常是在除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外的所有 Advertiser API 请求中必需的参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| web&#95;event&#95;tag&#95;id  <br />*必填* | 当前账户中某个 Web 事件标签的标识符。<br /><br />类型：string<br /><br />示例：`o3bk1` |

##### 示例请求

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/web_event_tags/o3bk1`

<div id="example-response">
  ##### 示例响应
</div>

```json
    {
      "data": {
        "name": "web event tag",
        "view_through_window": 7,
        "click_window": 7,
        "embed_code": "<script src='"//platform.x.com/oct.js"' type='"text/javascript"'></script><script type='"text/javascript"'>twttr.conversion.trackPid('ny3od',  { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt='""' height='"1"' src='"https://analytics.x.com/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/><img alt='""' height='"1"' src='"//t.co/i/adsct?txn_id=ny3od&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"' style='"display:none;"' width='"1"'/></noscript>",
        "id": "o3bk1",
        "retargeting_enabled": false,
        "last_tracked_at": "2021-05-22T17:00:04Z",
        "status": "UNVERIFIED",
        "type": "DOWNLOAD",
        "website_tag_id": "ny3od",
        "deleted": true
      },
      "request": {
        "params": {
          "web_event_tag_id": "o3bk1",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```
